<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>临渊羡鱼的个人技术博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="技术博客">
<meta property="og:type" content="website">
<meta property="og:title" content="临渊羡鱼的个人技术博客">
<meta property="og:url" content="https://harrison258.github.io/index.html">
<meta property="og:site_name" content="临渊羡鱼的个人技术博客">
<meta property="og:description" content="技术博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="侯仕平">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="临渊羡鱼的个人技术博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">临渊羡鱼的个人技术博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">仅供交流和学习用，勿商用！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://harrison258.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-秦思旅游(Vue+Node.js+Stylus)项目开发" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/%E7%A7%A6%E6%80%9D%E6%97%85%E6%B8%B8(Vue+Node.js+Stylus)%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" class="article-date">
  <time datetime="2020-02-23T17:08:03.104Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/%E7%A7%A6%E6%80%9D%E6%97%85%E6%B8%B8(Vue+Node.js+Stylus)%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/">秦思旅游(Vue+Node.js+Stylus)项目开发</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="秦思旅游-Vue-ES6-Node-js-Stylus-项目开发"><a href="#秦思旅游-Vue-ES6-Node-js-Stylus-项目开发" class="headerlink" title="秦思旅游(Vue+ES6+Node.js+Stylus)项目开发"></a>秦思旅游(Vue+ES6+Node.js+Stylus)项目开发</h2><h3 id="01、-准备-项目分析"><a href="#01、-准备-项目分析" class="headerlink" title="01、[准备]项目分析"></a>01、[准备]项目分析</h3><p>项目参考网址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;touch.piao.qunar.com&#x2F;?bd_source&#x3D;&amp;ouid&#x3D;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1）功能</span><br><span class="line">	这是一个展示型APP。</span><br><span class="line">2）数据</span><br><span class="line">	。。。（mock数据）</span><br><span class="line">3）技术选型</span><br><span class="line">	Vue.js+ES6+Axios+Vuex+stylus+node.js</span><br><span class="line">4）开发方式</span><br><span class="line">	组件化、模块化和自动化。</span><br></pre></td></tr></table></figure>

<h3 id="02、-准备-开发环境"><a href="#02、-准备-开发环境" class="headerlink" title="02、[准备]开发环境"></a>02、[准备]开发环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Win7+ + webstorm2017+ 或(sublime3&#x2F;vs code&#x2F;atom&#x2F;hbuilder)</span><br></pre></td></tr></table></figure>

<h3 id="03、-准备-项目操作内容"><a href="#03、-准备-项目操作内容" class="headerlink" title="03、[准备]项目操作内容"></a>03、[准备]项目操作内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1）搭建项目环境</span><br><span class="line">2）插件</span><br><span class="line">	轮播图</span><br><span class="line">	解决移动点击延时300ms问题</span><br><span class="line">	滚动</span><br><span class="line">3）代码托管</span><br><span class="line">	码云</span><br><span class="line">4）真机测试</span><br><span class="line">5）项目打包</span><br><span class="line">6）生成安装包</span><br></pre></td></tr></table></figure>

<h3 id="04、-准备-码云代码托管"><a href="#04、-准备-码云代码托管" class="headerlink" title="04、[准备]码云代码托管"></a>04、[准备]码云代码托管</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">码云：</span><br><span class="line">	http:&#x2F;&#x2F;gitee.com</span><br><span class="line"></span><br><span class="line">1）注册登录</span><br><span class="line">2）在码云上新建项目</span><br><span class="line">3）安装git</span><br><span class="line">4）克隆到本地</span><br><span class="line">	git clone 仓库地址</span><br><span class="line">5）搭建项目环境</span><br><span class="line">6）将代码上传到gitee.com的仓库中</span><br><span class="line">	git add .</span><br><span class="line">	git commit -m &#39;备注文本&#39;</span><br><span class="line">	git push （需要输入您的帐号（邮箱号）和密码）</span><br><span class="line">	</span><br><span class="line">老师的仓库地址：https:&#x2F;&#x2F;gitee.com&#x2F;houyi_studio_admin&#x2F;qinsi_tourism</span><br></pre></td></tr></table></figure>

<h3 id="05、-准备-搭建项目环境"><a href="#05、-准备-搭建项目环境" class="headerlink" title="05、[准备]搭建项目环境"></a>05、[准备]搭建项目环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1）安装node.js（下载）</span><br><span class="line">2）选择安装cnpm（国内淘宝镜像）或Yarn或Bower或nrm...</span><br><span class="line">3）安装webpack</span><br><span class="line">4）安装vue-cli</span><br><span class="line">	nrm i XXX -g</span><br><span class="line">5）vue init webpack qinsi_tourism</span><br><span class="line"></span><br><span class="line">	Project name my-project  回车</span><br><span class="line">    Project description A Vue.js project 回车</span><br><span class="line">    Author uplyw &lt;xxx@xxx.com&gt;  回车</span><br><span class="line">    Vue build standalone  回车</span><br><span class="line">    Install vue-router?    输入y</span><br><span class="line">    Use ESLint to lint your code? 输入n</span><br><span class="line">    Set up unit tests 输入n</span><br><span class="line">    Setup e2e tests with Nightwatch? 输入n</span><br><span class="line">    。。。安装依赖包</span><br><span class="line">6）切换目录</span><br><span class="line">	cd qinsi_tourism</span><br><span class="line">7）启动项目</span><br><span class="line">	npm run dev</span><br><span class="line">8）在浏览器的地址栏中输入localhost:8080，查看是否启动成功！</span><br></pre></td></tr></table></figure>

<h3 id="06、-准备-项目文件"><a href="#06、-准备-项目文件" class="headerlink" title="06、[准备]项目文件"></a>06、[准备]项目文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">build:打包配置文件</span><br><span class="line">config:项目配置文件</span><br><span class="line">node_modules:依赖包（项目中所有的外部模块文件下载处，如果需要某个模块，只需要使用require引入即可）</span><br><span class="line">src:工作目录</span><br><span class="line">	assets:放资源文件处（一般放css&#x2F;js&#x2F;styl&#x2F;img等）</span><br><span class="line">	components:所有的组件放在该文件夹下，除了App.vue（顶层组件）</span><br><span class="line">	router:配置路由处</span><br><span class="line">	App.vue:项目的入口文件，也是router出口处</span><br><span class="line">	main.js:全局配置</span><br><span class="line">static:所有的静态资源存放处，项目打包时，该文件夹中的文件不参与打包（一般放css&#x2F;js&#x2F;styl&#x2F;img&#x2F;json&#x2F;xml等）</span><br><span class="line">.babelrc:编译ES6</span><br><span class="line">.editorconfig:编辑器配置</span><br><span class="line">.gittgnore:github配置文件</span><br><span class="line">.postcssrc.js:在写CSS时，可以不考虑兼容，postcss会自动识别浏览器和浏览器版本，会自动加上厂商前缀</span><br><span class="line">package.json:包管理器</span><br><span class="line">	(1.3.2-28434 主版本号.次版本号.修订版本号-补丁)</span><br><span class="line">	^:匹配次版本的最高版本</span><br><span class="line">	~：匹配修订版本的最高版本</span><br><span class="line">	*:匹配任意版本</span><br><span class="line">README.md：项目说明书</span><br></pre></td></tr></table></figure>

<h3 id="07、package-json及项目文件详解"><a href="#07、package-json及项目文件详解" class="headerlink" title="07、package.json及项目文件详解"></a>07、package.json及项目文件详解</h3><p>现代的前端项目中通常都会有package.json文件。在package.json里，会介绍项目名称、版本、描述、作者、脚本、依赖包，对环境的要求，以及对浏览器要求。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"> 1 &#123;</span><br><span class="line"> 2   &quot;name&quot;: &quot;uccn&quot;,</span><br><span class="line"> 3   &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line"> 4   &quot;description&quot;: &quot;uccn3.0&quot;,</span><br><span class="line"> 5   &quot;author&quot;: &quot;v_yangtianjiao &lt;v_yangtianjiao@baidu.com&gt;&quot;,</span><br><span class="line"> 6   &quot;private&quot;: true,</span><br><span class="line">　　　&#x2F;&#x2F; 这里的脚本是分析项目的主要入口</span><br><span class="line"> 7   &quot;scripts&quot;: &#123;</span><br><span class="line"> 8     &quot;dev&quot;: &quot;node build&#x2F;dev-server.js&quot;,</span><br><span class="line"> 9     &quot;start&quot;: &quot;node build&#x2F;dev-server.js&quot;,</span><br><span class="line">10     &quot;build&quot;: &quot;node build&#x2F;build.js&quot;,</span><br><span class="line">11     &quot;jsonp&quot;: &quot;node build&#x2F;jsonp-server.js&quot;</span><br><span class="line">12   &#125;,</span><br><span class="line">　　　&#x2F;&#x2F; 项目依赖</span><br><span class="line">13   &quot;dependencies&quot;: &#123;</span><br><span class="line">14     &quot;fetch-jsonp&quot;: &quot;^1.1.3&quot;,</span><br><span class="line">15     &quot;less&quot;: &quot;^2.7.2&quot;,</span><br><span class="line">16     &quot;less-loader&quot;: &quot;^4.0.4&quot;,</span><br><span class="line">17     &quot;stylus&quot;: &quot;^0.54.5&quot;,</span><br><span class="line">18     &quot;stylus-loader&quot;: &quot;^3.0.1&quot;,</span><br><span class="line">19     &quot;vue&quot;: &quot;^2.4.2&quot;</span><br><span class="line">20   &#125;,</span><br><span class="line">21   &quot;devDependencies&quot;: &#123;</span><br><span class="line">22     &quot;autoprefixer&quot;: &quot;^7.1.2&quot;,</span><br><span class="line">23     &quot;babel-core&quot;: &quot;^6.22.1&quot;,</span><br><span class="line">24     &quot;babel-loader&quot;: &quot;^7.1.1&quot;,</span><br><span class="line">25     &quot;babel-plugin-component&quot;: &quot;^0.10.1&quot;,</span><br><span class="line">26     &quot;babel-plugin-transform-runtime&quot;: &quot;^6.22.0&quot;,</span><br><span class="line">27     &quot;babel-preset-env&quot;: &quot;^1.3.2&quot;,</span><br><span class="line">28     &quot;babel-preset-es2015&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">29     &quot;babel-preset-stage-2&quot;: &quot;^6.22.0&quot;,</span><br><span class="line">30     &quot;babel-register&quot;: &quot;^6.22.0&quot;,</span><br><span class="line">31     &quot;chalk&quot;: &quot;^2.0.1&quot;,</span><br><span class="line">32     &quot;connect-history-api-fallback&quot;: &quot;^1.3.0&quot;,</span><br><span class="line">33     &quot;copy-webpack-plugin&quot;: &quot;^4.0.1&quot;,</span><br><span class="line">34     &quot;css-loader&quot;: &quot;^0.28.0&quot;,</span><br><span class="line">35     &quot;cssnano&quot;: &quot;^3.10.0&quot;,</span><br><span class="line">36     &quot;eventsource-polyfill&quot;: &quot;^0.9.6&quot;,</span><br><span class="line">37     &quot;express&quot;: &quot;^4.14.1&quot;,</span><br><span class="line">38     &quot;extract-text-webpack-plugin&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">39     &quot;file-loader&quot;: &quot;^0.11.1&quot;,</span><br><span class="line">40     &quot;friendly-errors-webpack-plugin&quot;: &quot;^1.1.3&quot;,</span><br><span class="line">41     &quot;html-webpack-plugin&quot;: &quot;^2.28.0&quot;,</span><br><span class="line">42     &quot;http-proxy-middleware&quot;: &quot;^0.17.3&quot;,</span><br><span class="line">43     &quot;opn&quot;: &quot;^5.1.0&quot;,</span><br><span class="line">44     &quot;optimize-css-assets-webpack-plugin&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">45     &quot;ora&quot;: &quot;^1.2.0&quot;,</span><br><span class="line">46     &quot;rimraf&quot;: &quot;^2.6.0&quot;,</span><br><span class="line">47     &quot;semver&quot;: &quot;^5.3.0&quot;,</span><br><span class="line">48     &quot;shelljs&quot;: &quot;^0.7.6&quot;,</span><br><span class="line">49     &quot;url-loader&quot;: &quot;^0.5.8&quot;,</span><br><span class="line">50     &quot;vue-loader&quot;: &quot;^13.0.4&quot;,</span><br><span class="line">51     &quot;vue-style-loader&quot;: &quot;^3.0.1&quot;,</span><br><span class="line">52     &quot;vue-template-compiler&quot;: &quot;^2.4.2&quot;,</span><br><span class="line">53     &quot;webpack&quot;: &quot;^2.6.1&quot;,</span><br><span class="line">54     &quot;webpack-bundle-analyzer&quot;: &quot;^2.2.1&quot;,</span><br><span class="line">55     &quot;webpack-dev-middleware&quot;: &quot;^1.10.0&quot;,</span><br><span class="line">56     &quot;webpack-hot-middleware&quot;: &quot;^2.18.0&quot;,</span><br><span class="line">57     &quot;webpack-merge&quot;: &quot;^4.1.0&quot;</span><br><span class="line">58   &#125;,</span><br><span class="line">     &#x2F;&#x2F; 对node版本的以及npm版本的要求</span><br><span class="line">59   &quot;engines&quot;: &#123;</span><br><span class="line">60     &quot;node&quot;: &quot;&gt;&#x3D; 4.0.0&quot;,</span><br><span class="line">61     &quot;npm&quot;: &quot;&gt;&#x3D; 3.0.0&quot;</span><br><span class="line">62   &#125;,</span><br><span class="line">　　　&#x2F;&#x2F; 浏览器要求，vue项目不支持ie8，因为ie8是es3，尚没有Object.defineProperty属性</span><br><span class="line">63   &quot;browserslist&quot;: [</span><br><span class="line">64     &quot;&gt; 1%&quot;,</span><br><span class="line">65     &quot;last 2 versions&quot;,</span><br><span class="line">66     &quot;not ie &lt;&#x3D; 8&quot;</span><br><span class="line">67   ]</span><br><span class="line">68 &#125;</span><br></pre></td></tr></table></figure>

<p>上面的package.json是从实际vue项目中摘出来的，大家从package.json中就会对项目有一个大概的了解，最主要的是脚本部分。通过npm的自动化任务，可以很方便的执行配置文件中的脚本。通过配置  “jsonp”: “node build/jsonp-server.js”，可以方便的使用npm run jsonp命令，代替node build/jsonp-server.js或者更复杂的一系列命令。详细的npm自动化命令可以移步<a href="https://segmentfault.com/a/1190000000344102" target="_blank" rel="noopener">npm 自动化</a>。</p>
<p><img src="https://images2017.cnblogs.com/blog/908144/201710/908144-20171011165137980-405265441.png" alt="img"></p>
<p> 现在的项目目录结构如上，我们从刚才的脚本入手。首先是启服务的脚本npm run dev，实际上是执行node build/dev-server.js，我们在build文件夹中找到dev-server.js,一步步分析。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* eslint-disable *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 首先检查node和npm的版本</span><br><span class="line">require(&#39;.&#x2F;check-versions&#39;)()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 获取配置文件中默认的配置</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">&#x2F;&#x2F; 如果node无法判断当前是开发环境还是生产环境，则使用config.dev.env.NODE_ENV作为当前的环境</span><br><span class="line">if (!process.env.NODE_ENV) &#123;</span><br><span class="line">  process.env.NODE_ENV &#x3D; JSON.parse(config.dev.env.NODE_ENV)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var opn &#x3D; require(&#39;opn&#39;)&#x2F;&#x2F; 用来在起来服务之后，打开浏览器并跳转指定URL</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)&#x2F;&#x2F; node自带文件路径工具</span><br><span class="line">var express &#x3D; require(&#39;express&#39;)&#x2F;&#x2F; node框架express（本地开发的核心，起服务）</span><br><span class="line">var webpack &#x3D; require(&#39;webpack&#39;)&#x2F;&#x2F; webpack,压缩打包</span><br><span class="line">var proxyMiddleware &#x3D; require(&#39;http-proxy-middleware&#39;)&#x2F;&#x2F; 中间件</span><br><span class="line">var webpackConfig &#x3D; require(&#39;.&#x2F;webpack.dev.conf&#39;)&#x2F;&#x2F; 开发环境的webpack配置</span><br><span class="line">var mockMiddleware &#x3D; require(&#39;..&#x2F;config&#x2F;dev.mock&#39;)&#x2F;&#x2F; 开发环境本地mock数据中间件</span><br><span class="line"></span><br><span class="line">var port &#x3D; process.env.PORT || config.dev.port</span><br><span class="line">var autoOpenBrowser &#x3D; !!config.dev.autoOpenBrowser</span><br><span class="line">var proxyTable &#x3D; config.dev.proxyTable</span><br><span class="line"></span><br><span class="line">var app &#x3D; express()&#x2F;&#x2F; 起服务</span><br><span class="line">var compiler &#x3D; webpack(webpackConfig)&#x2F;&#x2F; webpack进行编译</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; webpack-dev-middleware将编译的文件放在内存中，后续注入</span><br><span class="line">var devMiddleware &#x3D; require(&#39;webpack-dev-middleware&#39;)(compiler, &#123;</span><br><span class="line">  publicPath: webpackConfig.output.publicPath,</span><br><span class="line">  quiet: true</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; 热加载</span><br><span class="line">var hotMiddleware &#x3D; require(&#39;webpack-hot-middleware&#39;)(compiler, &#123;</span><br><span class="line">  log: false,</span><br><span class="line">  heartbeat: 2000</span><br><span class="line">&#125;)</span><br><span class="line">compiler.plugin(&#39;compilation&#39;, function (compilation) &#123;</span><br><span class="line">  compilation.plugin(&#39;html-webpack-plugin-after-emit&#39;, function (data, cb) &#123;</span><br><span class="line">    hotMiddleware.publish(&#123; action: &#39;reload&#39; &#125;)</span><br><span class="line">    cb()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; proxy api requests</span><br><span class="line">&#x2F;&#x2F; proxyTable中的配置挂载到express中</span><br><span class="line">Object.keys(proxyTable).forEach(function (context) &#123;</span><br><span class="line">  var options &#x3D; proxyTable[context]</span><br><span class="line">  if (typeof options &#x3D;&#x3D;&#x3D; &#39;string&#39;) &#123;</span><br><span class="line">    options &#x3D; &#123; target: options &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  app.use(proxyMiddleware(options.filter || context, options))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 处理后退的时候匹配资源</span><br><span class="line">app.use(require(&#39;connect-history-api-fallback&#39;)())</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 暂存在内存的webpack编译后的文件挂载到express上</span><br><span class="line">app.use(devMiddleware)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 将本地mock中间件挂载到express上</span><br><span class="line">app.use(mockMiddleware);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 热加载挂载到express上</span><br><span class="line">app.use(hotMiddleware)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 拼static静态资源文件路径</span><br><span class="line">var staticPath &#x3D; path.posix.join(config.dev.assetsPublicPath, config.dev.assetsSubDirectory)</span><br><span class="line">&#x2F;&#x2F; express为静态资源提供服务</span><br><span class="line">app.use(staticPath, express.static(&#39;.&#x2F;static&#39;))</span><br><span class="line"></span><br><span class="line">var uri &#x3D; &#39;http:&#x2F;&#x2F;localhost:&#39; + port</span><br><span class="line"></span><br><span class="line">var _resolve</span><br><span class="line">var readyPromise &#x3D; new Promise(resolve &#x3D;&gt; &#123;</span><br><span class="line">  _resolve &#x3D; resolve</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(&#39;&gt; Starting dev server...&#39;)</span><br><span class="line">devMiddleware.waitUntilValid(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;&gt; Listening at &#39; + uri + &#39;\n&#39;)</span><br><span class="line">  if (autoOpenBrowser &amp;&amp; process.env.NODE_ENV !&#x3D;&#x3D; &#39;testing&#39;) &#123;</span><br><span class="line">    opn(uri)</span><br><span class="line">  &#125;</span><br><span class="line">  _resolve()</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; 通过配置的端口，自动打开浏览器，并跳转拼好的URL，至此，发开环境已经跑起来了</span><br><span class="line">var server &#x3D; app.listen(port)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  ready: readyPromise,</span><br><span class="line">  close: () &#x3D;&gt; &#123;</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的dev-server中，有很多变量来自于./config/index.js和webpack.dev.conf.js，我们一个个看上述配置文件。</p>
<p>首先看./config/index.js,这里是整个项目主要的配置入口，我们在代码中一步步分析：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; node自带路径工具.</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line">&#x2F;&#x2F; 分为两种环境，dev和production</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  build: &#123;</span><br><span class="line">    env: require(&#39;.&#x2F;prod.env&#39;),&#x2F;&#x2F; 使用config&#x2F;prod.env.js中定义的编译环境</span><br><span class="line">    index: path.resolve(__dirname, &#39;..&#x2F;dist&#x2F;index.html&#39;),&#x2F;&#x2F; 编译输入的index.html文件。node.js中，在任何模块文件内部，可以使用__filename变量获取当前模块文件的带有完整绝对路径的文件名,</span><br><span class="line">    assetsRoot: path.resolve(__dirname, &#39;..&#x2F;dist&#39;),&#x2F;&#x2F; 编译输出的静态资源路径</span><br><span class="line">    assetsSubDirectory: &#39;static&#39;,&#x2F;&#x2F; 编译输出的二级目录</span><br><span class="line">    assetsPublicPath: &#39;.&#x2F;&#39;, &#x2F;&#x2F; 编译发布的根目录，可配置为资源服务器或者cdn域名</span><br><span class="line">    productionSourceMap: false,&#x2F;&#x2F;是否开启cssSourceMap</span><br><span class="line">    productionGzip: false,&#x2F;&#x2F; 是否开启gzip</span><br><span class="line">    productionGzipExtensions: [&#39;js&#39;, &#39;css&#39;],&#x2F;&#x2F; 需要用gzip压缩的文件扩展名</span><br><span class="line">    bundleAnalyzerReport: process.env.npm_config_report</span><br><span class="line">  &#125;,</span><br><span class="line">  dev: &#123;</span><br><span class="line">    env: require(&#39;.&#x2F;dev.env&#39;),</span><br><span class="line">    port: 8989,&#x2F;&#x2F; 起服务的端口</span><br><span class="line">    autoOpenBrowser: true,</span><br><span class="line">    assetsSubDirectory: &#39;static&#39;,</span><br><span class="line">    assetsPublicPath: &#39;&#x2F;&#39;,</span><br><span class="line">    proxyTable: &#123;&#125;,&#x2F;&#x2F; 需要代理的接口，可以跨域</span><br><span class="line">    cssSourceMap: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着我们分析webpack.dev.conf.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">var utils &#x3D; require(&#39;.&#x2F;utils&#39;)&#x2F;&#x2F; 工具类</span><br><span class="line">var webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">var merge &#x3D; require(&#39;webpack-merge&#39;)&#x2F;&#x2F; 使用webpack配置合并插件</span><br><span class="line">var baseWebpackConfig &#x3D; require(&#39;.&#x2F;webpack.base.conf&#39;)</span><br><span class="line">var HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)&#x2F;&#x2F; 这个插件自动生成HTML，并注入到.html文件中</span><br><span class="line">var FriendlyErrorsPlugin &#x3D; require(&#39;friendly-errors-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 将hot-reload相对路径添加到webpack.base.conf的对应的entry前面</span><br><span class="line">Object.keys(baseWebpackConfig.entry).forEach(function (name) &#123;</span><br><span class="line">  baseWebpackConfig.entry[name] &#x3D; [&#39;.&#x2F;build&#x2F;dev-client&#39;].concat(baseWebpackConfig.entry[name])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; webpack.dev.conf.js与webpack.base.conf.js中的配置合并</span><br><span class="line">module.exports &#x3D; merge(baseWebpackConfig, &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: utils.styleLoaders(&#123; sourceMap: config.dev.cssSourceMap &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; webpack-devtool有7种模式，cheap-module-eval-source-map模式是比较快的开发模式</span><br><span class="line">　</span><br><span class="line">  devtool: &#39;#cheap-module-eval-source-map&#39;,</span><br><span class="line">  plugins: [</span><br><span class="line">　　&#x2F;&#x2F; 你可以理解为，通过配置了DefinePlugin，那么这里面的标识就相当于全局变量，你的业务代码可以直接使用配置的标识。</span><br><span class="line">    new webpack.DefinePlugin(&#123;</span><br><span class="line">      &#39;process.env&#39;: config.dev.env</span><br><span class="line">    &#125;),</span><br><span class="line">    &#x2F;&#x2F; hotModule插件让页面变动时，只重绘对应的模块，不会重绘整个HTML文件</span><br><span class="line">    new webpack.HotModuleReplacementPlugin(),</span><br><span class="line">　　&#x2F;&#x2F; 在编译出现错误时，使用 NoEmitOnErrorsPlugin 来跳过输出阶段。这样可以确保输出资源不会包含错误</span><br><span class="line">    new webpack.NoEmitOnErrorsPlugin(),</span><br><span class="line">    &#x2F;&#x2F; 将生成的HTML代码注入index.html文件</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: &#39;index.html&#39;,</span><br><span class="line">      template: &#39;index.html&#39;,</span><br><span class="line">      inject: true</span><br><span class="line">    &#125;),</span><br><span class="line">　　&#x2F;&#x2F; friendly-errors-webpack-plugin用于更友好地输出webpack的警告、错误等信息</span><br><span class="line">    new FriendlyErrorsPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> 刚才的webpack.dev.conf.js中有引到webpack.base.conf.js,我们就把他们一网打尽，继续看webpack.base.conf.js!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* eslint-disable *&#x2F;</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)&#x2F;&#x2F; node自带的文件路径插件</span><br><span class="line">var utils &#x3D; require(&#39;.&#x2F;utils&#39;)&#x2F;&#x2F; 工具类</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)&#x2F;&#x2F; 上面说过的config&#x2F;index</span><br><span class="line">var vueLoaderConfig &#x3D; require(&#39;.&#x2F;vue-loader.conf&#39;)&#x2F;&#x2F; vue-loader.conf配置文件是用来解决各种css文件的，定义了诸如css,less,sass之类的和样式有关的loader</span><br><span class="line">&#x2F;&#x2F; 此函数是用来返回当前目录的平行目录的路径，</span><br><span class="line">function resolve (dir) &#123;</span><br><span class="line">  return path.join(__dirname, &#39;..&#39;, dir)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    uccn: &#39;.&#x2F;src&#x2F;main.js&#39;&#x2F;&#x2F; 入口</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">　　&#x2F;&#x2F; 路径是config目录下的index.js中的build配置中的assetsRoot，也就是dist目录</span><br><span class="line">    path: config.build.assetsRoot,</span><br><span class="line">    filename: &#39;[name].js&#39;,</span><br><span class="line">　　&#x2F;&#x2F; 上线地址，也就是真正的文件引用路径，如果是production生产环境，其实这里都是 &#39;&#x2F;&#39;</span><br><span class="line">    publicPath: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;</span><br><span class="line">      ? config.build.assetsPublicPath</span><br><span class="line">      : config.dev.assetsPublicPath</span><br><span class="line">  &#125;,</span><br><span class="line">　&#x2F;&#x2F; resolve是webpack的内置选项，顾名思义，决定要做的事情，也就是说当使用 import &quot;jquery&quot;，该如何去执行这件事情，就是resolve配置项要做的，import jQuery from &quot;.&#x2F;additional&#x2F;dist&#x2F;js&#x2F;jquery&quot; 这样会很麻烦，可以起个别名简化操作</span><br><span class="line">  resolve: &#123;</span><br><span class="line">　　&#x2F;&#x2F; 省略扩展名，比方说import index form &#39;..&#x2F;js&#x2F;index&#39;, 会默认去找index文件，然后找index.js,.vue,.josn.</span><br><span class="line">    extensions: [&#39;.js&#39;, &#39;.vue&#39;, &#39;.json&#39;],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &#39;vue$&#39;: &#39;vue&#x2F;dist&#x2F;vue.esm.js&#39;,</span><br><span class="line">　　　　&#x2F;&#x2F; 使用上面的resolve函数，意思是用@代替src的绝对路径</span><br><span class="line">      &#39;@&#39;: resolve(&#39;src&#39;),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">　&#x2F;&#x2F; 不同的模块使用不同的loader</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">　　　　　&#x2F;&#x2F; 对vue文件，使用vue-loader解析</span><br><span class="line">        test: &#x2F;\.vue$&#x2F;,</span><br><span class="line">        loader: &#39;vue-loader&#39;,</span><br><span class="line">        options: vueLoaderConfig</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">　　　　　&#x2F;&#x2F; babel-loader把es6解析成es5</span><br><span class="line">        test: &#x2F;\.js$&#x2F;,</span><br><span class="line">        loader: &#39;babel-loader&#39;,</span><br><span class="line">        include: [resolve(&#39;src&#39;), resolve(&#39;test&#39;)]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">　　　　　&#x2F;&#x2F; url-loader将文件大小低于下面option中limit的图片，转化为一个64位的DataURL，这样会省去很多请求，大于limit的，按[name].[hash:7].[ext]的命名方式放到了static&#x2F;img下面，方便做cache</span><br><span class="line">        test: &#x2F;\.(png|jpe?g|gif|svg)(\?.*)?$&#x2F;,</span><br><span class="line">        loader: &#39;url-loader&#39;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          limit: 20000,</span><br><span class="line">          name: utils.assetsPath(&#39;img&#x2F;[name].[hash:7].[ext]&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">　　　　　&#x2F;&#x2F; 音频和视频文件处理，同上</span><br><span class="line">        test: &#x2F;\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$&#x2F;,</span><br><span class="line">        loader: &#39;url-loader&#39;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          limit: 10000,</span><br><span class="line">          name: utils.assetsPath(&#39;media&#x2F;[name].[hash:7].[ext]&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">　　　　　&#x2F;&#x2F; 字体处理，同上　</span><br><span class="line">        test: &#x2F;\.(woff2?|eot|ttf|otf)(\?.*)?$&#x2F;,</span><br><span class="line">        loader: &#39;url-loader&#39;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          limit: 10000,</span><br><span class="line">          name: utils.assetsPath(&#39;fonts&#x2F;[name].[hash:7].[ext]&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 至此，npm run dev起本地开发环境相关的配置文件基本说完了，接着说一下上面都用到的util工具类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">&#x2F;&#x2F; extract-text-webpack-plugin该插件的主要是为了抽离css样式,防止将样式打包在js中引起页面样式加载错乱的现象</span><br><span class="line">var ExtractTextPlugin &#x3D; require(&#39;extract-text-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 返回资源文件路径，path.posix以posix兼容的方式交互，是跨平台的，如果是path.win32的话，只能在win上</span><br><span class="line">exports.assetsPath &#x3D; function (_path) &#123;</span><br><span class="line">  var assetsSubDirectory &#x3D; process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;</span><br><span class="line">    ? config.build.assetsSubDirectory</span><br><span class="line">    : config.dev.assetsSubDirectory</span><br><span class="line">  return path.posix.join(assetsSubDirectory, _path)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 通过判断是否是生产环境，配置不同的样式语言的loader配置</span><br><span class="line">exports.cssLoaders &#x3D; function (options) &#123;</span><br><span class="line">  options &#x3D; options || &#123;&#125;</span><br><span class="line"></span><br><span class="line">  var cssLoader &#x3D; &#123;</span><br><span class="line">    loader: &#39;css-loader&#39;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      minimize: process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;,</span><br><span class="line">      sourceMap: options.sourceMap</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 生成各种loader配置，通过传入不同的loader和option，将不同样式文件语言的loader拼好，push到loader配置中。</span><br><span class="line">  function generateLoaders (loader, loaderOptions) &#123;</span><br><span class="line">    var loaders &#x3D; [cssLoader]</span><br><span class="line">    if (loader) &#123;</span><br><span class="line">      loaders.push(&#123;</span><br><span class="line">        loader: loader + &#39;-loader&#39;,</span><br><span class="line">        options: Object.assign(&#123;&#125;, loaderOptions, &#123;</span><br><span class="line">          sourceMap: options.sourceMap</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; extract-text-webpack-plugin有三个参数，use指需要用什么loader去编译文件；fallback指编译后用什么loader去提取文件；还有一个publicfile用来覆盖项目路径</span><br><span class="line">    if (options.extract) &#123;</span><br><span class="line">      return ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: loaders,</span><br><span class="line">        fallback: &#39;vue-style-loader&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return [&#39;vue-style-loader&#39;].concat(loaders)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 对不同的样式语言，返回相应的loader</span><br><span class="line">  return &#123;</span><br><span class="line">    css: generateLoaders(),</span><br><span class="line">    postcss: generateLoaders(),</span><br><span class="line">    less: generateLoaders(&#39;less&#39;),</span><br><span class="line">    sass: generateLoaders(&#39;sass&#39;, &#123; indentedSyntax: true &#125;),</span><br><span class="line">    scss: generateLoaders(&#39;sass&#39;),</span><br><span class="line">    stylus: generateLoaders(&#39;stylus&#39;),</span><br><span class="line">    styl: generateLoaders(&#39;stylus&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 生成处理不同的样式文件处理规则</span><br><span class="line">exports.styleLoaders &#x3D; function (options) &#123;</span><br><span class="line">  var output &#x3D; []</span><br><span class="line">  var loaders &#x3D; exports.cssLoaders(options)</span><br><span class="line">  for (var extension in loaders) &#123;</span><br><span class="line">    var loader &#x3D; loaders[extension]</span><br><span class="line">    output.push(&#123;</span><br><span class="line">      test: new RegExp(&#39;\\.&#39; + extension + &#39;$&#39;),</span><br><span class="line">      use: loader</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  return output</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>npm run build，打包编译系列操作</p>
<p>从package.json 中可以看出，npm run build，其实是执行了 node build/build.js，我们在build文件夹中找到build.js，build主要的工作是：检测node和npm版本，删除dist包，webpack构建打包，在终端输出构建信息并结束，如果报错，则输出报错信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">require(&#39;.&#x2F;check-versions&#39;)()</span><br><span class="line"></span><br><span class="line">process.env.NODE_ENV &#x3D; &#39;production&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 在终端显示的旋转器插件</span><br><span class="line">var ora &#x3D; require(&#39;ora&#39;)</span><br><span class="line">&#x2F;&#x2F; 用于删除文件夹</span><br><span class="line">var rm &#x3D; require(&#39;rimraf&#39;)</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line">&#x2F;&#x2F; 终端文字颜色插件</span><br><span class="line">var chalk &#x3D; require(&#39;chalk&#39;)</span><br><span class="line">var webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">var webpackConfig &#x3D; require(&#39;.&#x2F;webpack.prod.conf&#39;)</span><br><span class="line"></span><br><span class="line">var spinner &#x3D; ora(&#39;building for production...&#39;)</span><br><span class="line">spinner.start()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 删除dist文件夹，之后webpack打包</span><br><span class="line">rm(path.join(config.build.assetsRoot, config.build.assetsSubDirectory), err &#x3D;&gt; &#123;</span><br><span class="line">  if (err) throw err</span><br><span class="line">  webpack(webpackConfig, function (err, stats) &#123;</span><br><span class="line">    spinner.stop()</span><br><span class="line">    if (err) throw err</span><br><span class="line">    process.stdout.write(stats.toString(&#123;</span><br><span class="line">      colors: true,</span><br><span class="line">      modules: false,</span><br><span class="line">      children: false,</span><br><span class="line">      chunks: false,</span><br><span class="line">      chunkModules: false</span><br><span class="line">    &#125;) + &#39;\n\n&#39;)</span><br><span class="line"></span><br><span class="line">    if (stats.hasErrors()) &#123;</span><br><span class="line">      console.log(chalk.red(&#39;  Build failed with errors.\n&#39;))</span><br><span class="line">      process.exit(1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    console.log(chalk.cyan(&#39;  Build complete.\n&#39;))</span><br><span class="line">    console.log(chalk.yellow(</span><br><span class="line">      &#39;  Tip: built files are meant to be served over an HTTP server.\n&#39; +</span><br><span class="line">      &#39;  Opening index.html over file:&#x2F;&#x2F; won\&#39;t work.\n&#39;</span><br><span class="line">    ))</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>build.js用到了webpack.prod.conf.js,他与webpack.base.conf.js merge之后，作为webpack配置文件，我们再看看webpack.prod.conf.js,主要做的工作是：<br>1）提取webpack生成的bundle中的文本，到特定的文件，使得css，js文件与webpack输出的bundle分离。</p>
<p>2）合并基本的webpack配置</p>
<p>3）配置webpack的输出，包括输出路径，文件名格式。</p>
<p>4）配置webpack插件，包括丑化代码。</p>
<p>5）gzip下引入compression插件进行压缩。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* eslint-disable *&#x2F;</span><br><span class="line">var path &#x3D; require(&#39;path&#39;)</span><br><span class="line">var utils &#x3D; require(&#39;.&#x2F;utils&#39;)</span><br><span class="line">var webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">var config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">var merge &#x3D; require(&#39;webpack-merge&#39;)</span><br><span class="line">var baseWebpackConfig &#x3D; require(&#39;.&#x2F;webpack.base.conf&#39;)</span><br><span class="line">var CopyWebpackPlugin &#x3D; require(&#39;copy-webpack-plugin&#39;)</span><br><span class="line">var HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line">&#x2F;&#x2F; 用于从webpack生成的bundle中提取文本到特定文件中的插件</span><br><span class="line">&#x2F;&#x2F; 可以抽取出css，js文件将其与webpack输出的bundle分离</span><br><span class="line">var ExtractTextPlugin &#x3D; require(&#39;extract-text-webpack-plugin&#39;)</span><br><span class="line">var OptimizeCSSPlugin &#x3D; require(&#39;optimize-css-assets-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">var env &#x3D; config.build.env</span><br><span class="line">&#x2F;&#x2F; 合并基础的webpack配置</span><br><span class="line">var webpackConfig &#x3D; merge(baseWebpackConfig, &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: utils.styleLoaders(&#123;</span><br><span class="line">      sourceMap: config.build.productionSourceMap,</span><br><span class="line">      extract: true</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">　&#x2F;&#x2F; 7中sourceMap上面有讲过</span><br><span class="line">  devtool: config.build.productionSourceMap ? &#39;#source-map&#39; : false,</span><br><span class="line">　&#x2F;&#x2F; 配置webpack输出的目录，及文件命名规则</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: config.build.assetsRoot,</span><br><span class="line">    filename: utils.assetsPath(&#39;js&#x2F;[name].min.js&#39;),</span><br><span class="line">    chunkFilename: utils.assetsPath(&#39;js&#x2F;[id].[chunkhash].js&#39;)</span><br><span class="line">  &#125;,</span><br><span class="line">　&#x2F;&#x2F; webpack插件配置</span><br><span class="line">  plugins: [</span><br><span class="line">    &#x2F;&#x2F; 同webpack.dev.conf.js</span><br><span class="line">    new webpack.DefinePlugin(&#123;</span><br><span class="line">      &#39;process.env&#39;: env</span><br><span class="line">    &#125;),</span><br><span class="line">　　&#x2F;&#x2F; 丑化代码</span><br><span class="line">    new webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: false</span><br><span class="line">      &#125;,</span><br><span class="line">      sourceMap: true</span><br><span class="line">    &#125;),</span><br><span class="line">    &#x2F;&#x2F; 抽离css文件到单独的文件</span><br><span class="line">    new ExtractTextPlugin(&#123;</span><br><span class="line">      filename: utils.assetsPath(&#39;css&#x2F;[name].min.css&#39;)</span><br><span class="line">    &#125;),</span><br><span class="line">    new OptimizeCSSPlugin(&#123;</span><br><span class="line">      cssProcessorOptions: &#123;</span><br><span class="line">        safe: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    &#x2F;&#x2F; 生成并注入index.html</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: config.build.index,</span><br><span class="line">      template: &#39;index.html&#39;,</span><br><span class="line">      inject: true,</span><br><span class="line">      minify: &#123;</span><br><span class="line">        removeComments: true,</span><br><span class="line">        collapseWhitespace: false,</span><br><span class="line">        removeAttributeQuotes: true</span><br><span class="line">      &#125;,</span><br><span class="line">      chunksSortMode: &#39;dependency&#39;</span><br><span class="line">    &#125;),</span><br><span class="line">    &#x2F;&#x2F; keep module.id stable when vender modules does not change</span><br><span class="line">    new webpack.HashedModuleIdsPlugin(),</span><br><span class="line">    split vendor js into its own file</span><br><span class="line">    new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: &#39;vendor&#39;,</span><br><span class="line">      minChunks: function (module, count) &#123;</span><br><span class="line">        &#x2F;&#x2F; any required modules inside node_modules are extracted to vendor</span><br><span class="line">        return (</span><br><span class="line">          module.resource &amp;&amp;</span><br><span class="line">          &#x2F;\.js$&#x2F;.test(module.resource) &amp;&amp;</span><br><span class="line">          module.resource.indexOf(</span><br><span class="line">            path.join(__dirname, &#39;..&#x2F;node_modules&#39;)</span><br><span class="line">          ) &#x3D;&#x3D;&#x3D; 0</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    extract webpack runtime and module manifest to its own file in order to</span><br><span class="line">    prevent vendor hash from being updated whenever app bundle is updated</span><br><span class="line">    new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: &#39;manifest&#39;,</span><br><span class="line">      chunks: [&#39;vendor&#39;]</span><br><span class="line">    &#125;),</span><br><span class="line">    copy custom static assets</span><br><span class="line">    new CopyWebpackPlugin([</span><br><span class="line">      &#123;</span><br><span class="line">        from: path.resolve(__dirname, &#39;..&#x2F;static&#39;),</span><br><span class="line">        to: config.build.assetsSubDirectory,</span><br><span class="line">        ignore: [&#39;.*&#39;]</span><br><span class="line">      &#125;</span><br><span class="line">    ])</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; gzip模式下需要引入compression插件进行压缩</span><br><span class="line">if (config.build.productionGzip) &#123;</span><br><span class="line">  var CompressionWebpackPlugin &#x3D; require(&#39;compression-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">  webpackConfig.plugins.push(</span><br><span class="line">    new CompressionWebpackPlugin(&#123;</span><br><span class="line">      asset: &#39;[path].gz[query]&#39;,</span><br><span class="line">      algorithm: &#39;gzip&#39;,</span><br><span class="line">      test: new RegExp(</span><br><span class="line">        &#39;\\.(&#39; +</span><br><span class="line">        config.build.productionGzipExtensions.join(&#39;|&#39;) +</span><br><span class="line">        &#39;)$&#39;</span><br><span class="line">      ),</span><br><span class="line">      threshold: 10240,</span><br><span class="line">      minRatio: 0.8</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (config.build.bundleAnalyzerReport) &#123;</span><br><span class="line">  var BundleAnalyzerPlugin &#x3D; require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin</span><br><span class="line">  webpackConfig.plugins.push(new BundleAnalyzerPlugin())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; webpackConfig</span><br></pre></td></tr></table></figure>

<h3 id="08、-准备-在Webstorm中创建-vue的代码模板"><a href="#08、-准备-在Webstorm中创建-vue的代码模板" class="headerlink" title="08、[准备]在Webstorm中创建.vue的代码模板"></a>08、[准备]在Webstorm中创建.vue的代码模板</h3><p>File-&gt;settings-&gt;editor-&gt;File Code and Templates-&gt;新建（name为vue，extension为vue），输入以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="09、-准备-整理项目文件夹"><a href="#09、-准备-整理项目文件夹" class="headerlink" title="09、[准备]整理项目文件夹"></a>09、[准备]整理项目文件夹</h3><p>1）删除项目中assets下所有内容<br>2）删除项目中components下所有内容，同时创建一个home文件夹，再在该文件夹下创建一个Home.vue文件。Home.vue文件内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">    home</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">    export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>3）修改routes下的index.js文件内容，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">import Home from &#39;@&#x2F;components&#x2F;home&#x2F;home&#39;</span><br><span class="line">Vue.use(Router)</span><br><span class="line">export default new Router(&#123;</span><br><span class="line">routes: [</span><br><span class="line">&#123;</span><br><span class="line">path: &#39;&#x2F;&#39;,</span><br><span class="line">name: &#39;Home&#39;,</span><br><span class="line">component: Home</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>4）修改App.vue文件内容，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    	&lt;router-view&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">    	</span><br><span class="line">    &#125; </span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="10、-准备-安装stylus"><a href="#10、-准备-安装stylus" class="headerlink" title="10、[准备]安装stylus"></a>10、[准备]安装stylus</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i stylus stylus-loader -S</span><br></pre></td></tr></table></figure>

<p>安装完后，重启项目。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>stylus用法：</p>
<p>stylus（预处理）类似于sass语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;stylus-lang.net&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="11、-准备-引入重置样式reset-css"><a href="#11、-准备-引入重置样式reset-css" class="headerlink" title="11、[准备]引入重置样式reset.css"></a>11、[准备]引入重置样式reset.css</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网址：https:&#x2F;&#x2F;meyerweb.com&#x2F;eric&#x2F;tools&#x2F;css&#x2F;reset&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">html, body, div, span, applet, object, iframe,</span><br><span class="line">h1, h2, h3, h4, h5, h6, p, blockquote, pre,</span><br><span class="line">a, abbr, acronym, address, big, cite, code,</span><br><span class="line">del, dfn, em, img, ins, kbd, q, s, samp,</span><br><span class="line">small, strike, strong, sub, sup, tt, var,</span><br><span class="line">b, u, i, center,</span><br><span class="line">dl, dt, dd, ol, ul, li,</span><br><span class="line">fieldset, form, label, legend,</span><br><span class="line">table, caption, tbody, tfoot, thead, tr, th, td,</span><br><span class="line">article, aside, canvas, details, embed, </span><br><span class="line">figure, figcaption, footer, header, hgroup, </span><br><span class="line">menu, nav, output, ruby, section, summary,</span><br><span class="line">time, mark, audio, video &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	border: 0;</span><br><span class="line">	font-size: 100%;</span><br><span class="line">	font: inherit;</span><br><span class="line">	vertical-align: baseline;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* HTML5 display-role reset for older browsers *&#x2F;</span><br><span class="line">article, aside, details, figcaption, figure, </span><br><span class="line">footer, header, hgroup, menu, nav, section &#123;</span><br><span class="line">	display: block;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">	line-height: 1;</span><br><span class="line">&#125;</span><br><span class="line">ol, ul &#123;</span><br><span class="line">	list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote, q &#123;</span><br><span class="line">	quotes: none;</span><br><span class="line">&#125;</span><br><span class="line">blockquote:before, blockquote:after,</span><br><span class="line">q:before, q:after &#123;</span><br><span class="line">	content: &#39;&#39;;</span><br><span class="line">	content: none;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line">	border-collapse: collapse;</span><br><span class="line">	border-spacing: 0;</span><br><span class="line">&#125;</span><br><span class="line">a&#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  color:#000000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>把reset.css文件入在assets-&gt;css目录下，然后再在main.js中引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入reset.css</span><br><span class="line">import &#39;.&#x2F;assets&#x2F;css&#x2F;reset.css&#39;</span><br></pre></td></tr></table></figure>

<h3 id="12、-准备-引入fastclick-js"><a href="#12、-准备-引入fastclick-js" class="headerlink" title="12、[准备]引入fastclick.js"></a>12、[准备]引入fastclick.js</h3><p>移动设备上的浏览器默认会在用户点击屏幕大约延迟300毫秒后才会触发点击事件，这是为了检查用户是否在做双击。为了能够立即响应用户的点击事件，才有了FastClick。</p>
<p>1）参考网址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;67bae6dfca90</span><br></pre></td></tr></table></figure>

<p>2）安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i fastclick -S</span><br></pre></td></tr></table></figure>

<p>3）安装完成后在main.js中引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import FastClick from &#39;fastclick&#39;</span><br><span class="line">&#x2F;&#x2F; 使用</span><br><span class="line">FastClick.attach(document.body);</span><br></pre></td></tr></table></figure>

<h3 id="13、-准备-引入iconfont-css"><a href="#13、-准备-引入iconfont-css" class="headerlink" title="13、[准备]引入iconfont.css"></a>13、[准备]引入iconfont.css</h3><h3 id="14、-准备-项目文件结构"><a href="#14、-准备-项目文件结构" class="headerlink" title="14、[准备]项目文件结构"></a>14、[准备]项目文件结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">home</span><br><span class="line">    pages</span><br><span class="line">        Header.vue</span><br><span class="line">        Swiper.vue</span><br><span class="line">        Icons.vue</span><br><span class="line">        Location.vue</span><br><span class="line">        Hot.vue</span><br><span class="line">        Like.vue</span><br><span class="line">        Gowhere.vue</span><br><span class="line">        Footer.vue</span><br><span class="line">    Home.vue</span><br><span class="line">cities</span><br><span class="line">    pages</span><br><span class="line">        Header.vue</span><br><span class="line">        Hotcity.vue</span><br><span class="line">        Sort.vue</span><br><span class="line">        Citylist.vue</span><br><span class="line">    Cities.vue</span><br><span class="line">details</span><br><span class="line">    pages</span><br><span class="line">        Header.vue</span><br><span class="line">        Banner.vue</span><br><span class="line">        Rating.vue</span><br><span class="line">        Location.vue</span><br><span class="line">        ....</span><br><span class="line">    details.vue</span><br></pre></td></tr></table></figure>

<h3 id="15、-首页-创建Header-vue组件"><a href="#15、-首页-创建Header-vue组件" class="headerlink" title="15、[首页]创建Header.vue组件"></a>15、[首页]创建Header.vue组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;header&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;return&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;iconfont iconzuojiantou&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;iconfont iconsearch&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">      输入城市&#x2F;景点&#x2F;游玩主题</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;next&quot;&gt;</span><br><span class="line">      西安&lt;span class&#x3D;&quot;iconfont iconyoujiantou&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;header&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">    export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;&#x2F;*scoped:样式只作用于当前组件*&#x2F;</span><br><span class="line">  header&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    line-height: .88rem;</span><br><span class="line">    background-color: #00afc7;</span><br><span class="line">    font-size: .28rem;</span><br><span class="line">    color:#ffffff;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line">  .return&#123;</span><br><span class="line">    width: .6rem;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: .36rem;</span><br><span class="line">  &#125;</span><br><span class="line">  .search&#123;</span><br><span class="line">    flex:1;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    height: .6rem;</span><br><span class="line">    line-height: .6rem;</span><br><span class="line">    margin-top: .14rem;</span><br><span class="line">    border-radius: .1rem;</span><br><span class="line">    color:#e4e7ea;</span><br><span class="line">    padding: 0 .2rem;</span><br><span class="line">  &#125;</span><br><span class="line">  .next&#123;</span><br><span class="line">    padding: 0 .2rem;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>在Home.vue中引入并使用Header组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">   &lt;!-- &lt;HomeHeader&gt;&lt;&#x2F;HomeHeader&gt;</span><br><span class="line">    &lt;HomeHeader &#x2F;&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;&#x2F;home-header&gt;--&gt;</span><br><span class="line">    &lt;home-header&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">  import HomeHeader from &#39;.&#x2F;pages&#x2F;Header&#39;</span><br><span class="line">  export default &#123;</span><br><span class="line">    components:&#123;</span><br><span class="line">      HomeHeader</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="16、-首页-创建swiper-vue组件"><a href="#16、-首页-创建swiper-vue组件" class="headerlink" title="16、[首页]创建swiper.vue组件"></a>16、[首页]创建swiper.vue组件</h3><p>1）在home目录下的pages目录下新建swiper.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;swiper&quot;&gt;</span><br><span class="line">    aaa</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">    export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>2）在Home.vue中引入swiper.vue组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import HomeSwiper from &#39;.&#x2F;pages&#x2F;Swiper&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    components:&#123;</span><br><span class="line">      HomeHeader,</span><br><span class="line">      HomeSwiper</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;home-swiper&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>3）参考网站</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">进入http:&#x2F;&#x2F;github.com搜索vue-swiper，进入&lt;https:&#x2F;&#x2F;www.swiper.com.cn&#x2F;api&#x2F;autoplay&#x2F;16.html</span><br></pre></td></tr></table></figure>

<p>4）安装swiper模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install vue-awesome-swiper --save</span><br></pre></td></tr></table></figure>

<p>5）在main.js中全局引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入swiper</span><br><span class="line">import VueAwesomeSwiper from &#39;vue-awesome-swiper&#39;</span><br><span class="line">&#x2F;&#x2F; require styles</span><br><span class="line">import &#39;swiper&#x2F;dist&#x2F;css&#x2F;swiper.css&#39;</span><br><span class="line">Vue.use(VueAwesomeSwiper);</span><br></pre></td></tr></table></figure>

<p>6）复制swiper结构HTML</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;swiper :options&#x3D;&quot;swiperOption&quot;&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 1&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 2&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 3&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 4&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 5&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 6&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;swiper-slide&gt;I&#39;m Slide 7&lt;&#x2F;swiper-slide&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;swiper-pagination&quot; slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;swiper&gt;</span><br></pre></td></tr></table></figure>

<p>7）swiper逻辑处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">        swiperOption:&#123;</span><br><span class="line">            pagination: &#123;</span><br><span class="line">            	el: &#39;.swiper-pagination&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            loop:true,</span><br><span class="line">            autoplay: &#123;</span><br><span class="line">                delay: 3000,</span><br><span class="line">                stopOnLastSlide: false,</span><br><span class="line">                disableOnInteraction: false</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>8）样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line">  .swiper</span><br><span class="line">    height: 0</span><br><span class="line">    background-color: #ccc</span><br><span class="line">    padding-bottom: 26.666%</span><br><span class="line">    img</span><br><span class="line">      width: 100%</span><br><span class="line">      height: 100%    </span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>9）样式穿透</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; .swiper-pagination-bullet</span><br><span class="line">    width: 6px</span><br><span class="line">    height: 6px</span><br><span class="line">    background-color: #fff</span><br><span class="line">    opacity: 0.2</span><br><span class="line">&gt;&gt;&gt; .swiper-pagination-bullet-active &#x2F;* 样式穿透 *&#x2F;</span><br><span class="line">    opacity: 1</span><br><span class="line">    background: #e4e7ea</span><br></pre></td></tr></table></figure>

<p>10）数据mock</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;swiperList&quot;:[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;mp-piao-admincp.qunarzz.com&#x2F;mp_piao_admin_mp_piao_admin&#x2F;admin&#x2F;20195&#x2F;b0732b5a58a2c613f6202beb35c571d3.jpg_750x200_c6a2ebe2.jpg&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;mp-piao-admincp.qunarzz.com&#x2F;mp_piao_admin_mp_piao_admin&#x2F;admin&#x2F;20198&#x2F;fffc0c06ddfe6fa9bad3cd813b591873.jpg_750x200_528c2db7.jpg&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;mp-piao-admincp.qunarzz.com&#x2F;mp_piao_admin_mp_piao_admin&#x2F;admin&#x2F;20193&#x2F;c807f8e462d269397489ef90b16f61b7.jpg_750x200_aaf543ba.jpg&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>如果加载的是本地的图片，数据代码要写成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;swiperList&quot;:[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:require(&quot;@&#x2F;assets&#x2F;img&#x2F;swiper01.jpg&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:require(&quot;@&#x2F;assets&#x2F;img&#x2F;swiper02.jpg&quot;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">        &quot;imgUrl&quot;:require(&quot;@&#x2F;assets&#x2F;img&#x2F;swiper03.jpg&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>11）HTML改写及数据渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;swiper&quot;&gt;</span><br><span class="line">    &lt;swiper :options&#x3D;&quot;swiperOption&quot;&gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;item of swiperList&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;img :src&#x3D;&quot;item.imgUrl&quot; alt&#x3D;&quot;banner&quot;&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;swiper-pagination&quot;  slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="17、-首页-CSS中的滤镜filter"><a href="#17、-首页-CSS中的滤镜filter" class="headerlink" title="17、[首页]CSS中的滤镜filter"></a>17、[首页]CSS中的滤镜filter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.cnblogs.com&#x2F;zheshiyigemanong&#x2F;p&#x2F;6943205.html</span><br><span class="line"></span><br><span class="line">filter:</span><br><span class="line">    grayscale灰度 				百分比</span><br><span class="line">    sepia褐色（有种复古的旧照片感觉） 百分比</span><br><span class="line">    saturate饱和度</span><br><span class="line">    hue-rotate色相旋转			   角度 </span><br><span class="line">    invert反色					 百分比</span><br><span class="line">    opacity透明度					小数</span><br><span class="line">    brightness亮度</span><br><span class="line">    contrast对比度</span><br><span class="line">    blur模糊						 像素</span><br><span class="line">    drop-shadow阴影</span><br></pre></td></tr></table></figure>

<h3 id="18、-首页-配置文件修改后必须重启服务！"><a href="#18、-首页-配置文件修改后必须重启服务！" class="headerlink" title="18、[首页]配置文件修改后必须重启服务！"></a>18、[首页]配置文件修改后必须重启服务！</h3><h3 id="19、-首页-重命名访问路径"><a href="#19、-首页-重命名访问路径" class="headerlink" title="19、[首页]重命名访问路径"></a>19、[首页]重命名访问路径</h3><p>修改build-&gt;webpack.base.conf.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">   extensions: [&#39;.js&#39;, &#39;.vue&#39;, &#39;.json&#39;],</span><br><span class="line">   alias: &#123;</span><br><span class="line">     &#39;vue$&#39;: &#39;vue&#x2F;dist&#x2F;vue.esm.js&#39;,</span><br><span class="line">     &#39;@&#39;: resolve(&#39;src&#39;),</span><br><span class="line">     &#39;css&#39;: resolve(&#39;src&#x2F;assets&#x2F;css&#39;)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<p>main.js中使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入reset.css</span><br><span class="line">import &#39;css&#x2F;reset.css&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 引入iconfont.css</span><br><span class="line">import &#39;css&#x2F;iconfont.css&#39;</span><br></pre></td></tr></table></figure>

<p>style标签中使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;~css&#x2F;common.styl&quot;</span><br></pre></td></tr></table></figure>

<h3 id="20、-首页-icons分页逻辑处理"><a href="#20、-首页-icons分页逻辑处理" class="headerlink" title="20、[首页]icons分页逻辑处理"></a>20、[首页]icons分页逻辑处理</h3><p>1）HTML代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class&#x3D;&quot;icons&quot;&gt;</span><br><span class="line">    &lt;swiper :options&#x3D;&quot;swiperOption&quot;&gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;(item,key) of page&quot; :key&#x3D;&quot;key&quot;&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;icons-item&quot; v-for&#x3D;&quot;icon of item&quot; :key&#x3D;&quot;icon.id&quot;&gt;</span><br><span class="line">          &lt;img :src&#x3D;&quot;icon.imgUrl&quot; :alt&#x3D;&quot;icon.title&quot; &#x2F;&gt;</span><br><span class="line">          &lt;p&gt;&#123;&#123; icon.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;swiper-pagination&quot;  slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>2）样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.icons</span><br><span class="line">    width: 100%</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .icons-item</span><br><span class="line">      width: 25%</span><br><span class="line">      text-align: center</span><br><span class="line">      padding-top: .2rem</span><br><span class="line">      font-size: .28rem</span><br><span class="line">      float: left</span><br><span class="line">      img</span><br><span class="line">        width: 1.1rem</span><br><span class="line">        height:1.1rem</span><br><span class="line">    .swiper-container &#123;</span><br><span class="line">      height: 200px;</span><br><span class="line">    &#125;</span><br><span class="line">    &gt;&gt;&gt; .swiper-pagination-bullet</span><br><span class="line">      width: 6px</span><br><span class="line">      height: 6px</span><br><span class="line">      background-color: rgba(144,144,144,0.8)</span><br><span class="line">      opacity: 0.5</span><br><span class="line">    &gt;&gt;&gt; .swiper-pagination-bullet-active &#x2F;* 样式穿透 *&#x2F;</span><br><span class="line">      opacity: 1</span><br><span class="line">      background: rgba(0,175,190,.8)</span><br></pre></td></tr></table></figure>

<p>3）数据mock</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">          swiperOption:&#123;</span><br><span class="line">            pagination: &#123;</span><br><span class="line">              el: &#39;.swiper-pagination&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            loop:true</span><br><span class="line">          &#125;,</span><br><span class="line">          &quot;iconsList&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;mp-piao-admincp.qunarzz.com&#x2F;mp_piao_admin_mp_piao_admin&#x2F;admin&#x2F;20193&#x2F;f0f00d6dfe038c044dbc9a437f58b0eb.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;一日行&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;011&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">              &quot;id&quot;:&quot;012&quot;,</span><br><span class="line">              &quot;imgUrl&quot;:&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1803&#x2F;95&#x2F;f3dd6c383aeb3b02.png&quot;,</span><br><span class="line">              &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>4）分页逻辑</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">page()&#123;&#x2F;&#x2F; 把一维数组变成二维数组</span><br><span class="line">    let pages &#x3D; [];</span><br><span class="line">    this.iconsList.forEach((item,index)&#x3D;&gt;&#123;</span><br><span class="line">        let idx &#x3D; Math.floor(index &#x2F; 8);</span><br><span class="line">        if(!pages[idx])pages[idx] &#x3D; [];</span><br><span class="line">        pages[idx].push(item);</span><br><span class="line">    &#125;);</span><br><span class="line">    return pages;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="21、-首页-为列表项前三添加伪类"><a href="#21、-首页-为列表项前三添加伪类" class="headerlink" title="21、[首页]为列表项前三添加伪类"></a>21、[首页]为列表项前三添加伪类</h3><p>1）Stylus样式函数封装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$txtOverflow()</span><br><span class="line">  text-overflow: ellipsis</span><br><span class="line">  white-space: nowrap</span><br><span class="line">  overflow: hidden</span><br><span class="line">$imgTop(url)</span><br><span class="line">  content: &#39;&#39;</span><br><span class="line">  position: absolute</span><br><span class="line">  top:-.06rem</span><br><span class="line">  left:0</span><br><span class="line">  color:#fff</span><br><span class="line">  width: .84rem</span><br><span class="line">  height: .4rem</span><br><span class="line">  background-image: url(url)</span><br><span class="line">  background-size: cover</span><br></pre></td></tr></table></figure>

<p>2）样式调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line">  @import &quot;~css&#x2F;common.styl&quot;</span><br><span class="line">  .hot</span><br><span class="line">    margin-top:.2rem</span><br><span class="line">    background-color: #fff</span><br><span class="line">    font-size: .24rem</span><br><span class="line">    .hot-title</span><br><span class="line">      position: relative</span><br><span class="line">      padding:.4rem</span><br><span class="line">      .hot-title-left</span><br><span class="line">        font-size: .32rem</span><br><span class="line">        img</span><br><span class="line">          width: .3rem</span><br><span class="line">          height: .3rem</span><br><span class="line">      .hot-title-right</span><br><span class="line">        color:#616161</span><br><span class="line">        font-size: .24rem</span><br><span class="line">        position: absolute</span><br><span class="line">        top: 0.4rem</span><br><span class="line">        right:.2rem</span><br><span class="line">    .hot-list</span><br><span class="line">      padding:.06rem 0 .2rem .2rem</span><br><span class="line">      white-space:nowrap</span><br><span class="line">      overflow-x:scroll</span><br><span class="line">      overflow-y:hidden</span><br><span class="line">      height: 3rem</span><br><span class="line">      .hot-item</span><br><span class="line">        display: inline-block</span><br><span class="line">        width:2rem</span><br><span class="line">        margin-right:.13rem</span><br><span class="line">        text-align: center</span><br><span class="line">        position: relative</span><br><span class="line">        &amp;:nth-child(1):before</span><br><span class="line">          $imgTop(&#39;&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1710&#x2F;ab&#x2F;159673b63e6ca702.png&#39;)</span><br><span class="line">        &amp;:nth-child(2):before</span><br><span class="line">          $imgTop(&#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1710&#x2F;2d&#x2F;36d0c4adaebbbc02.png&#39;)</span><br><span class="line">        &amp;:nth-child(3):before</span><br><span class="line">          $imgTop(&#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;piao&#x2F;fusion&#x2F;1710&#x2F;67&#x2F;edc47ffef9e96b02.png&#39;)</span><br><span class="line">        &amp;:last-child</span><br><span class="line">          margin-right: 0</span><br><span class="line">        img</span><br><span class="line">          width: 2rem</span><br><span class="line">          height: 2rem</span><br><span class="line">        .hot-item-title</span><br><span class="line">          margin: .12rem 0</span><br><span class="line">          line-height: .32rem</span><br><span class="line">          $txtOverflow()</span><br><span class="line">        span</span><br><span class="line">          font-size: .28rem</span><br><span class="line">          color:#ff8300</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="22、在Vue项目要尽量减少或避免DOM操作。"><a href="#22、在Vue项目要尽量减少或避免DOM操作。" class="headerlink" title="22、在Vue项目要尽量减少或避免DOM操作。"></a>22、在Vue项目要尽量减少或避免DOM操作。</h3><h3 id="23、在Vue项目开发中，如果要使用到JQ的步骤"><a href="#23、在Vue项目开发中，如果要使用到JQ的步骤" class="headerlink" title="23、在Vue项目开发中，如果要使用到JQ的步骤"></a>23、在Vue项目开发中，如果要使用到JQ的步骤</h3><p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i jquery --save</span><br></pre></td></tr></table></figure>

<p>2）引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 可以在main.js中引入（全局引入），也可以在当前组件中引入（局部引入）</span><br><span class="line">let $ &#x3D; require(&#39;jquery);&#x2F;&#x2F;common.js</span><br><span class="line">或：</span><br><span class="line">import $ from &#39;jquery&#39; &#x2F;&#x2F;ES6语法</span><br></pre></td></tr></table></figure>

<h3 id="24、Footer组件的布局和逻辑"><a href="#24、Footer组件的布局和逻辑" class="headerlink" title="24、Footer组件的布局和逻辑"></a>24、Footer组件的布局和逻辑</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;footer&gt;</span><br><span class="line">    &lt;ul class&#x3D;&quot;nav-list&quot;&gt;</span><br><span class="line">      &lt;li class&#x3D;&quot;nav-item&quot; v-for&#x3D;&quot;(nav,index) in navList&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &lt;span :style&#x3D;&quot;&#123;&#39;background-position&#39;:ps(index)&#125;&quot;&gt;&lt;&#x2F;span&gt;&#123;&#123; nav &#125;&#125;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;toggle&quot; @click&#x3D;&quot;toggle&quot;&gt;&lt;span class&#x3D;&quot;iconfont&quot; :class&#x3D;&quot;toggleClass&quot;&gt;&lt;&#x2F;span&gt;&#123;&#123; txt &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;footer&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">          &quot;navList&quot;:[&quot;机票&quot;,&quot;酒店&quot;,&quot;公寓&quot;],</span><br><span class="line">          flag:0,</span><br><span class="line">          txt:&#39;更多&#39;,</span><br><span class="line">          toggleClass:&#39;iconshuangjiantouxia&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods:&#123;</span><br><span class="line">        ps(index)&#123;</span><br><span class="line">          return -(index&lt;7?index:index-7) * 25 +&#39;px &#39;+ (index&gt;6?-25:0)+&#39;px&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        toggle()&#123;</span><br><span class="line">          if(this.flag &#x3D;&#x3D; 1)&#123;</span><br><span class="line">            this.navList &#x3D; [&quot;机票&quot;,&quot;酒店&quot;,&quot;公寓&quot;];</span><br><span class="line">            this.flag &#x3D; 0;</span><br><span class="line">            this.txt &#x3D; &#39;更多&#39;;</span><br><span class="line">            this.toggleClass &#x3D; &#39;iconshuangjiantouxia&#39;</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            this.navList &#x3D; [&quot;机票&quot;,&quot;酒店&quot;,&quot;公寓&quot;,&quot;团购&quot;,&quot;火车票&quot;,&quot;景点&quot;,&quot;接送机&quot;,&quot;度假&quot;,&quot;攻略&quot;,&quot;旅图&quot;,&quot;车车&quot;,&quot;当地人&quot;]</span><br><span class="line">            this.flag &#x3D; 1;</span><br><span class="line">            this.txt &#x3D; &#39;收起&#39;;</span><br><span class="line">            this.toggleClass &#x3D; &#39;iconshuangjiantoushang&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; rel&#x3D;&quot;text&#x2F;stylus&quot; scoped&gt;</span><br><span class="line">  footer</span><br><span class="line">    color:#9e9e9e</span><br><span class="line">    font-size: .24rem</span><br><span class="line">    position: relative</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .nav-list</span><br><span class="line">      width:6.4rem</span><br><span class="line">      margin: 0 auto</span><br><span class="line">      overflow: hidden</span><br><span class="line">      padding:10px 10px 0</span><br><span class="line">      .nav-item</span><br><span class="line">        width: 25%</span><br><span class="line">        float: left</span><br><span class="line">        padding-left:.2rem</span><br><span class="line">        height: .44rem</span><br><span class="line">        line-height: .44rem</span><br><span class="line">        span</span><br><span class="line">          width:.44rem</span><br><span class="line">          height:.44rem</span><br><span class="line">          display: inline-block</span><br><span class="line">          background-image: url(..&#x2F;..&#x2F;..&#x2F;assets&#x2F;img&#x2F;footer.png)</span><br><span class="line">          background-repeat: no-repeat</span><br><span class="line">          background-size:3.5rem 1rem</span><br><span class="line"></span><br><span class="line">    .toggle</span><br><span class="line">      position: absolute</span><br><span class="line">      bottom:0</span><br><span class="line">      right:0</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="25、数据mock"><a href="#25、数据mock" class="headerlink" title="25、数据mock"></a>25、数据mock</h3><p>1）整理JSON文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;data&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;city&quot;: &quot;西安&quot;,</span><br><span class="line">      &quot;swiperList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper01.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper02.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper03.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;iconsList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons01.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons02.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;一日游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons03.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;识春赏花&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons04.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;精品小团&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons05.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons06.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;动植物园&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons07.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清宫&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons08.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;兵马俑&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons09.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;泡温泉  &quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons10.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕历博&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;hotImgs&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清宫&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦始皇陵博物院（兵马俑）&quot;,</span><br><span class="line">          &quot;price&quot;:120</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大唐芙蓉园&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot04.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕西历史博物馆&quot;,</span><br><span class="line">          &quot;price&quot;:30</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot05.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大明宫国家遗址公园&quot;,</span><br><span class="line">          &quot;price&quot;:82</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot06.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;曲江海洋极地公园&quot;,</span><br><span class="line">          &quot;price&quot;:158</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot07.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦岭野生动物园&quot;,</span><br><span class="line">          &quot;price&quot;:48</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot08.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安城墙&quot;,</span><br><span class="line">          &quot;price&quot;:60</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;likeList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清池&quot;,</span><br><span class="line">          &quot;message&quot;:37018,</span><br><span class="line">          &quot;price&quot;:108,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;汤峪天潭温泉酒店&quot;,</span><br><span class="line">          &quot;message&quot;:241,</span><br><span class="line">          &quot;price&quot;:150,</span><br><span class="line">          &quot;map&quot;:&quot;蓝田县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like04.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华夏文旅海洋公园&quot;,</span><br><span class="line">          &quot;message&quot;:331,</span><br><span class="line">          &quot;price&quot;:218,</span><br><span class="line">          &quot;map&quot;:&quot;西安&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like05.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;曲江海洋极地公园&quot;,</span><br><span class="line">          &quot;message&quot;:10522,</span><br><span class="line">          &quot;price&quot;:158,</span><br><span class="line">          &quot;map&quot;:&quot;曲江旅游...&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like06.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦始皇陵博物院（兵马俑）&quot;,</span><br><span class="line">          &quot;message&quot;:121961,</span><br><span class="line">          &quot;price&quot;:120,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like07.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安临潼悦椿温泉&quot;,</span><br><span class="line">          &quot;message&quot;:1066,</span><br><span class="line">          &quot;price&quot;:198,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like08.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;长恨歌&quot;,</span><br><span class="line">          &quot;message&quot;:18586,</span><br><span class="line">          &quot;price&quot;:223,</span><br><span class="line">          &quot;map&quot;:&quot;华清宫&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like09.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安秦岭欢乐世界&quot;,</span><br><span class="line">          &quot;message&quot;:2030,</span><br><span class="line">          &quot;price&quot;:88,</span><br><span class="line">          &quot;map&quot;:&quot;长安区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like10.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;白鹿原影视城&quot;,</span><br><span class="line">          &quot;message&quot;:796,</span><br><span class="line">          &quot;price&quot;:59,</span><br><span class="line">          &quot;map&quot;:&quot;蓝田县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;11&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like11.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦岭国家植物园&quot;,</span><br><span class="line">          &quot;message&quot;:47,</span><br><span class="line">          &quot;price&quot;:65,</span><br><span class="line">          &quot;map&quot;:&quot;周至县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;12&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like12.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;翠华山&quot;,</span><br><span class="line">          &quot;message&quot;:3077,</span><br><span class="line">          &quot;price&quot;:59,</span><br><span class="line">          &quot;map&quot;:&quot;长安区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;13&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like13.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;太平国家森林公园&quot;,</span><br><span class="line">          &quot;message&quot;:765,</span><br><span class="line">          &quot;price&quot;:9,</span><br><span class="line">          &quot;map&quot;:&quot;户县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;14&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like14.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安关中民俗艺术博物院&quot;,</span><br><span class="line">          &quot;message&quot;:430,</span><br><span class="line">          &quot;price&quot;:99.8,</span><br><span class="line">          &quot;map&quot;:&quot;长安区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;15&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like15.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;中国唐苑&quot;,</span><br><span class="line">          &quot;message&quot;:237,</span><br><span class="line">          &quot;price&quot;:45,</span><br><span class="line">          &quot;map&quot;:&quot;雁塔区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;16&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like16.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安唐乐宫&quot;,</span><br><span class="line">          &quot;message&quot;:333,</span><br><span class="line">          &quot;price&quot;:218,</span><br><span class="line">          &quot;map&quot;:&quot;碑林区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;17&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like17.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安植物园&quot;,</span><br><span class="line">          &quot;message&quot;:164,</span><br><span class="line">          &quot;price&quot;:9,</span><br><span class="line">          &quot;map&quot;:&quot;雁塔区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;18&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like18.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安东大南山温泉&quot;,</span><br><span class="line">          &quot;message&quot;:167,</span><br><span class="line">          &quot;price&quot;:128,</span><br><span class="line">          &quot;map&quot;:&quot;长安区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;19&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like19.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大雁塔北广场&quot;,</span><br><span class="line">          &quot;message&quot;:157,</span><br><span class="line">          &quot;price&quot;:189,</span><br><span class="line">          &quot;map&quot;:&quot;曲江旅游...&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;20&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like20.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕西自然博物馆&quot;,</span><br><span class="line">          &quot;message&quot;:566,</span><br><span class="line">          &quot;price&quot;:45,</span><br><span class="line">          &quot;map&quot;:&quot;雁塔区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;21&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like21.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;高家大院&quot;,</span><br><span class="line">          &quot;message&quot;:2743,</span><br><span class="line">          &quot;price&quot;:15,</span><br><span class="line">          &quot;map&quot;:&quot;莲湖区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;22&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like22.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大唐芙蓉园&quot;,</span><br><span class="line">          &quot;message&quot;:27696,</span><br><span class="line">          &quot;price&quot;:108,</span><br><span class="line">          &quot;map&quot;:&quot;曲江旅游...&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;23&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like23.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安电视塔西部之光&quot;,</span><br><span class="line">          &quot;message&quot;:328,</span><br><span class="line">          &quot;price&quot;:58,</span><br><span class="line">          &quot;map&quot;:&quot;雁塔区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;24&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like24.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕西历史博物馆&quot;,</span><br><span class="line">          &quot;message&quot;:41768,</span><br><span class="line">          &quot;price&quot;:30,</span><br><span class="line">          &quot;map&quot;:&quot;雁塔区&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;vacationList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安泡汤圣地&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;解压之地，放松自己，来一段轻松的旅程。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;探寻文化古都&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;一场时空穿越的旅行，探寻历史悠久的文化古都！寻觅历史留下的点点足迹，细细品味古人的伟大。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation04.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安花花世界&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;月落星驰又一春，不负人间看花人。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation05.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安演出在线&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;这里有绚丽奇幻的神秘梦幻舞剧，歌舞揭开盛唐面纱，体验穿越时空的奇妙，感受大唐之盛世。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation06.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安亲子必玩&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;西安亲子必去景点，和家人一起度过欢乐亲子时光，带你嗨翻假期！&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;city&quot;: &quot;咸阳&quot;,</span><br><span class="line">      &quot;swiperList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper01.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper02.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper03.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;iconsList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons01.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons02.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;一日游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons03.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;识春赏花&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons04.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;精品小团&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons05.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;咸阳湖必游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons06.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;动植物园&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons07.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;袁家村&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons08.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;兵马俑&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons09.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;泡温泉  &quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons10.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕历博&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;hotImgs&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清宫&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦始皇陵博物院（兵马俑）&quot;,</span><br><span class="line">          &quot;price&quot;:120</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大唐芙蓉园&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot04.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕西历史博物馆&quot;,</span><br><span class="line">          &quot;price&quot;:30</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot05.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大明宫国家遗址公园&quot;,</span><br><span class="line">          &quot;price&quot;:82</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot06.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;曲江海洋极地公园&quot;,</span><br><span class="line">          &quot;price&quot;:158</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot07.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦岭野生动物园&quot;,</span><br><span class="line">          &quot;price&quot;:48</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot08.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安城墙&quot;,</span><br><span class="line">          &quot;price&quot;:60</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;likeList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清池&quot;,</span><br><span class="line">          &quot;message&quot;:37018,</span><br><span class="line">          &quot;price&quot;:108,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;汤峪天潭温泉酒店&quot;,</span><br><span class="line">          &quot;message&quot;:241,</span><br><span class="line">          &quot;price&quot;:150,</span><br><span class="line">          &quot;map&quot;:&quot;蓝田县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;vacationList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安泡汤圣地&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;解压之地，放松自己，来一段轻松的旅程。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;city&quot;: &quot;北京&quot;,</span><br><span class="line">      &quot;swiperList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper01.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper02.jpg&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;swiper03.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;iconsList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons01.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;景点门票&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons02.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;一日游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons03.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;识春赏花&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons04.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;精品小团&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons05.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;北京必游&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons06.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;动植物园&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons07.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;故宫&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons08.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;鸟巢&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons09.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;泡温泉  &quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;icons10.png&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕历博&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;hotImgs&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清宫&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦始皇陵博物院（兵马俑）&quot;,</span><br><span class="line">          &quot;price&quot;:120</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大唐芙蓉园&quot;,</span><br><span class="line">          &quot;price&quot;:108</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot04.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;陕西历史博物馆&quot;,</span><br><span class="line">          &quot;price&quot;:30</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot05.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;大明宫国家遗址公园&quot;,</span><br><span class="line">          &quot;price&quot;:82</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot06.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;曲江海洋极地公园&quot;,</span><br><span class="line">          &quot;price&quot;:158</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot07.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;秦岭野生动物园&quot;,</span><br><span class="line">          &quot;price&quot;:48</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot08.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安城墙&quot;,</span><br><span class="line">          &quot;price&quot;:60</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;likeList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;hot01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清池&quot;,</span><br><span class="line">          &quot;message&quot;:37018,</span><br><span class="line">          &quot;price&quot;:108,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;汤峪天潭温泉酒店&quot;,</span><br><span class="line">          &quot;message&quot;:241,</span><br><span class="line">          &quot;price&quot;:150,</span><br><span class="line">          &quot;map&quot;:&quot;蓝田县&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;09&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;10&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;like03.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;华清爱琴海温泉&quot;,</span><br><span class="line">          &quot;message&quot;:777,</span><br><span class="line">          &quot;price&quot;:138,</span><br><span class="line">          &quot;map&quot;:&quot;临潼区&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;vacationList&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;:&quot;01&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation01.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安泡汤圣地&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;解压之地，放松自己，来一段轻松的旅程。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;02&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;03&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;04&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;05&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;06&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;07&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          &quot;id&quot;:&quot;08&quot;,</span><br><span class="line">          &quot;imgUrl&quot;:&quot;&#x2F;api&#x2F;img&#x2F;vacation02.jpg&quot;,</span><br><span class="line">          &quot;title&quot;:&quot;西安必打卡&quot;,</span><br><span class="line">          &quot;text&quot;:&quot;寻长安梦，开启穿越的圆梦之旅。&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2）Axios异步请求</p>
<p>　　　a）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cnpm i axios -S</span><br><span class="line">或者：</span><br><span class="line">	yarn add axios</span><br><span class="line">	nrm i axios -S</span><br></pre></td></tr></table></figure>

<p>　　　b）全局引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入axios</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">Vue.prototype.$http &#x3D; axios;</span><br></pre></td></tr></table></figure>

<p>　　　c）在Home.vue中发请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line">      this.$http(&#123;</span><br><span class="line">        url:&#39;http:&#x2F;&#x2F;192.168.0.102:8091&#x2F;static&#x2F;mock&#x2F;data&#x2F;travel.json&#39;</span><br><span class="line">      &#125;).then(res&#x3D;&gt;&#123;</span><br><span class="line">        console.log(res.data.data[0])</span><br><span class="line">      &#125;).catch(err&#x3D;&gt;&#123;&#x2F;&#x2F;异常处理</span><br><span class="line">        console.log(err)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">mounted()&#123;</span><br><span class="line">      this.$http(&#123;</span><br><span class="line">        url:&#39;http:&#x2F;&#x2F;192.168.0.102:81&#x2F;api&#x2F;travel&#39;</span><br><span class="line">      &#125;).then(res&#x3D;&gt;&#123;</span><br><span class="line">        console.log(res.data.data[0]);</span><br><span class="line">        let data &#x3D; res.data.data[0];</span><br><span class="line">        </span><br><span class="line">        this.iconsList &#x3D; data.iconsList;</span><br><span class="line">        this.hotList &#x3D; data.hotList;</span><br><span class="line">        this.likeList &#x3D; data.likeList;</span><br><span class="line">        this.swiperList &#x3D; data.swiperList;</span><br><span class="line">        </span><br><span class="line">      &#125;).catch(err&#x3D;&gt;&#123;&#x2F;&#x2F;异常处理</span><br><span class="line">        console.log(err)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="26、在Vue项目中创建后台接口"><a href="#26、在Vue项目中创建后台接口" class="headerlink" title="26、在Vue项目中创建后台接口"></a>26、在Vue项目中创建后台接口</h3><p>在build的webpack.dev.conf.js文件中，添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">const portfinder &#x3D; require(&#39;portfinder&#39;)</span><br><span class="line"></span><br><span class="line">const express &#x3D; require(&#39;express&#39;);</span><br><span class="line">const app &#x3D; express();</span><br><span class="line">const appData &#x3D; require(&#39;..&#x2F;static&#x2F;mock&#x2F;data&#x2F;travel.json&#39;);</span><br><span class="line">const data &#x3D; appData.data;</span><br><span class="line">const apiRoutes &#x3D; express.Router();</span><br><span class="line">app.use(&#39;&#x2F;api&#39;,apiRoutes);</span><br><span class="line"></span><br><span class="line">const HOST &#x3D; process.env.HOST</span><br><span class="line">....</span><br><span class="line">devServer: &#123;</span><br><span class="line">	&#x2F;&#x2F; 配置路由</span><br><span class="line">    before(app) &#123;</span><br><span class="line">      app.get(&#39;&#x2F;api&#x2F;travel&#39;,(req, res) &#x3D;&gt; &#123;</span><br><span class="line">        res.json(&#123;</span><br><span class="line">          errCode: 0,</span><br><span class="line">          data: data</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line">      app.post(&#39;&#x2F;api&#x2F;travel&#39;,(req, res) &#x3D;&gt; &#123;</span><br><span class="line">        res.json(&#123;</span><br><span class="line">          errCode: 0,</span><br><span class="line">          data: data</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    clientLogLevel: &#39;warning&#39;,</span><br><span class="line">    historyApiFallback: &#123;</span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>

<h3 id="27、修改端口"><a href="#27、修改端口" class="headerlink" title="27、修改端口"></a>27、修改端口</h3><p>1）修改config-&gt;index.js文件中的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">dev: &#123;</span><br><span class="line">    &#x2F;&#x2F; Paths</span><br><span class="line">    assetsSubDirectory: &#39;static&#39;,</span><br><span class="line">    assetsPublicPath: &#39;&#x2F;&#39;,</span><br><span class="line">    proxyTable: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Various Dev Server settings</span><br><span class="line">    host: &#39;192.168.0.102&#39;, &#x2F;&#x2F; can be overwritten by process.env.HOST</span><br><span class="line">    port: 80, &#x2F;&#x2F; can be overwritten by process.env.PORT, if port is in use, a free one will be determined</span><br><span class="line">    autoOpenBrowser: false,</span><br><span class="line">    errorOverlay: true,</span><br><span class="line">    notifyOnErrors: true,</span><br><span class="line">    poll: false, &#x2F;&#x2F; https:&#x2F;&#x2F;webpack.js.org&#x2F;configuration&#x2F;dev-server&#x2F;#devserver-watchoptions-</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>2）重启服务</p>
<h3 id="28、从Home-vue向其子组件派数据"><a href="#28、从Home-vue向其子组件派数据" class="headerlink" title="28、从Home.vue向其子组件派数据"></a>28、从Home.vue向其子组件派数据</h3><p>1）绑定数据到子组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">    &lt;HomeHeader &#x2F;&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;&#x2F;home-header&gt;--&gt;</span><br><span class="line">    &lt;home-header &#x2F;&gt;</span><br><span class="line">    &lt;home-swiper :swiperList&#x3D;&quot;swiperList&quot; &#x2F;&gt;</span><br><span class="line">    &lt;home-icons :iconsList&#x3D;&quot;iconsList&quot; &#x2F;&gt;</span><br><span class="line">    &lt;home-location &#x2F;&gt;</span><br><span class="line">    &lt;home-hot :hotList&#x3D;&quot;hotList&quot; &#x2F;&gt;</span><br><span class="line">    &lt;home-like :likeList&#x3D;&quot;likeList&quot; &#x2F;&gt;</span><br><span class="line">    &lt;home-footer &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>2）子组件接收传值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    props:&#123;</span><br><span class="line">        hotList:&#123;</span><br><span class="line">            type:Array,</span><br><span class="line">            default:[]</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="29、在阿里云上利用node-js搭建后台数据接口"><a href="#29、在阿里云上利用node-js搭建后台数据接口" class="headerlink" title="29、在阿里云上利用node.js搭建后台数据接口"></a>29、在阿里云上利用node.js搭建后台数据接口</h3><p>1）搭建node环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">express -e 项目名</span><br></pre></td></tr></table></figure>

<p>2）将img和json复制到public目录下</p>
<p>3）routes-&gt;index.js文件中创建接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">var express &#x3D; require(&#39;express&#39;);</span><br><span class="line">var router &#x3D; express.Router();</span><br><span class="line">const fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 解决跨域</span><br><span class="line">router.all(&quot;*&quot;,function(req,res,next)&#123;</span><br><span class="line">    &#x2F;&#x2F;设置允许跨域的域名，*代表允许任意域名跨域</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);</span><br><span class="line">    &#x2F;&#x2F;允许的header类型</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Headers&quot;,&quot;content-type&quot;);</span><br><span class="line">    &#x2F;&#x2F;跨域允许的请求方式 </span><br><span class="line">    res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;DELETE,PUT,POST,GET,OPTIONS&quot;);</span><br><span class="line">    if (req.method.toLowerCase() &#x3D;&#x3D; &#39;options&#39;)</span><br><span class="line">        res.send(200);  &#x2F;&#x2F;让options尝试请求快速结束</span><br><span class="line">    else</span><br><span class="line">        next();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;*秦思旅游项目接口*&#x2F;</span><br><span class="line">router.get(&#39;&#x2F;travel&#39;,(req,res)&#x3D;&gt;&#123;</span><br><span class="line">    var file &#x3D; &#39;.&#x2F;public&#x2F;data&#x2F;travel.json&#39;;</span><br><span class="line">    &#x2F;&#x2F;读取json文件</span><br><span class="line">    fs.readFile(file, &#39;utf-8&#39;, function(err, data) &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            res.send(&#123;error_code:1&#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                error_code:0,</span><br><span class="line">                data:JSON.parse(data)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">module.exports &#x3D; router;</span><br></pre></td></tr></table></figure>

<h3 id="30、在阿里云上利用PHP搭建后台数据接口"><a href="#30、在阿里云上利用PHP搭建后台数据接口" class="headerlink" title="30、在阿里云上利用PHP搭建后台数据接口"></a>30、在阿里云上利用PHP搭建后台数据接口</h3><p>1）启动phpstudy，端口为80，路径为自己项目的目录</p>
<p>2）在项目目录下创建travel.php文件，文件内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    header(&quot;Content-Type: text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">    header(&quot;Access-Control-Allow-Origin:*&quot;);</span><br><span class="line">    header(&#39;Access-Control-Allow-Methods:POST&#39;);</span><br><span class="line">    header(&#39;Access-Control-Allow-Headers:x-requested-with, content-type&#39;);</span><br><span class="line">    &#x2F;&#x2F;$callback &#x3D; isset($_REQUEST[&#39;callback&#39;]) ? trim($_REQUEST[&#39;callback&#39;]) : &#39;&#39;;</span><br><span class="line">    &#x2F;&#x2F;jsonp回调参数，必需</span><br><span class="line">    function getKey($key,$default&#x3D;&quot;&quot;)&#123;</span><br><span class="line">    	return trim(isset($_REQUEST[$key])?$_REQUEST[$key]:$default);</span><br><span class="line">    &#125; </span><br><span class="line">    $json_string &#x3D; file_get_contents(&quot;.&#x2F;data&#x2F;travel.json&quot;);&#x2F;&#x2F; 从文件中读取数据到PHP变量</span><br><span class="line">    $data &#x3D; json_decode($json_string,true);&#x2F;&#x2F; 把JSON字符串转成PHP数组</span><br><span class="line">    echo json_encode($data,JSON_UNESCAPED_UNICODE);&#x2F;&#x2F;将处理后的数据发向前端</span><br></pre></td></tr></table></figure>

<p>3）前端实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">this.$http(&#123;</span><br><span class="line">	url:&#39;http:&#x2F;&#x2F;47.105.51.229&#x2F;travel.php&#39;</span><br><span class="line">&#125;).then(res&#x3D;&gt;&#123;</span><br><span class="line">    console.log(res.data.data);</span><br><span class="line">    let data &#x3D; res.data.data[0];</span><br><span class="line"></span><br><span class="line">    this.iconsList &#x3D; data.iconsList;</span><br><span class="line">    this.hotList &#x3D; data.hotList;</span><br><span class="line">    this.likeList &#x3D; data.likeList;</span><br><span class="line">    this.swiperList &#x3D; data.swiperList;</span><br><span class="line"></span><br><span class="line">&#125;).catch(err&#x3D;&gt;&#123;</span><br><span class="line">	console.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="31、给城市列表页添加滚动条"><a href="#31、给城市列表页添加滚动条" class="headerlink" title="31、给城市列表页添加滚动条"></a>31、给城市列表页添加滚动条</h3><p>参考网址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;huangjincq&#x2F;vue-better-scroll</span><br></pre></td></tr></table></figure>

<p>1）安装better-scroll插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i better-scroll -S</span><br></pre></td></tr></table></figure>

<p>2）整合页面布局</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">把Hot.vue、Sort.vue和List.vue整合到List.vue中。注意；要优化CSS样式，数据传值。</span><br></pre></td></tr></table></figure>

<p>3）引better-scroll</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import BScroll from &#39;better-scroll&#39;</span><br></pre></td></tr></table></figure>

<p>4）逻辑处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">    	scroll:&#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">    &#x2F;&#x2F;console.log(this.$refs[&#39;container&#39;]);</span><br><span class="line">    const container &#x3D; this.$refs[&#39;container&#39;];</span><br><span class="line">    this.scroll &#x3D; new BScroll(container);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5）添加样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.container&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left:0;</span><br><span class="line">    right:0;</span><br><span class="line">    bottom:0;</span><br><span class="line">    top:.88rem;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6）解决better-scroll不能滚动问题</p>
<p>　　需要DOM加载完成后才能正确应用. vue中应用在$nextTick中，异步初始化。 　　子元素高度需要超过父元素。而且父元素需要设置高度。这才是better-scroll能够滚动的原理。 　　better-scroll在使用的时候，滚动只作用于第一个子元素，其它的元素都会被忽略。在vue中，获取的ref是seller，那么它的子元素seller-wrapper才是需要滚动的部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;seller&quot; ref&#x3D;&quot;seller&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;seller-wrapper&quot;&gt;</span><br><span class="line">        ...这里才是内容</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>　　还有一种可能就是隐藏切换显示。这样都会导致插件参数的scrollerHeight:0。此时需要加上click:true，使better-scroll支持点击事件，再调用下refresh(）重新渲染DOM就行了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">this.$nextTick(()&#x3D;&gt;&#123;</span><br><span class="line">    if (!this.scroll) &#123;</span><br><span class="line">        this.scroll &#x3D; new BScroll(this.$refs.rongqi, &#123;</span><br><span class="line">        	click: true</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    	this.scroll.refresh();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="32、单击城市字母跳转到对应位置"><a href="#32、单击城市字母跳转到对应位置" class="headerlink" title="32、单击城市字母跳转到对应位置"></a>32、单击城市字母跳转到对应位置</h3><p>1）better-scroll API网址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;ustbhuangyi.github.io&#x2F;better-scroll&#x2F;doc&#x2F;zh-hans&#x2F;api.html#scrolltoelementel-time-offsetx-offsety-easing</span><br></pre></td></tr></table></figure>

<p>2）HTML</p>
<p>![](E:\秦思IT11&amp;12班\03 项目\02 秦思旅游(Vue+Node.js+Stylus)\项目笔记\better_scroll.png)</p>
<p>3）逻辑实现</p>
<p>![](E:\秦思IT11&amp;12班\03 项目\02 秦思旅游(Vue+Node.js+Stylus)\项目笔记\better_scroll1.png)</p>
<h3 id="33、Vuex创建数据仓库（商店）"><a href="#33、Vuex创建数据仓库（商店）" class="headerlink" title="33、Vuex创建数据仓库（商店）"></a>33、Vuex创建数据仓库（商店）</h3><p>官方文档：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Vuex:数据仓库/数据商店/响应式存储，它的核心是store。</p>
<p>1）安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i vuex -S</span><br></pre></td></tr></table></figure>

<p>2）创建js文件(src-&gt;store-&gt;index.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const state &#x3D; &#123;</span><br><span class="line">	city:&#39;xxx&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>3）全局引入数据仓库并注册(main.js)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import store from &#39;.&#x2F;store&#39;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    ...</span><br><span class="line">    store,&#x2F;&#x2F;注册数据仓库</span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>4）使用 </p>
<p> a.在要使用仓库数据的组件中，引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mapState &#125; from &#39;vuex&#39;</span><br></pre></td></tr></table></figure>

<p>b.再在该组件中添加计算属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    computed:&#123;</span><br><span class="line">    	...mapState([&#39;city&#39;])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>c.数据渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to&#x3D;&quot;&#x2F;city&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;next&quot;&gt;</span><br><span class="line">    	&#123;&#123; cityName &#125;&#125;&lt;span class&#x3D;&quot;iconfont iconsanjiao_xia&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure>

<h3 id="34、修改仓库中的数据"><a href="#34、修改仓库中的数据" class="headerlink" title="34、修改仓库中的数据"></a>34、修改仓库中的数据</h3><p>1)定义修改数据的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const mutations &#x3D; &#123;&#x2F;&#x2F;mutation用来修改state中的数据</span><br><span class="line">    changeCity(state,cityName)&#123;</span><br><span class="line">    	state.city &#x3D; cityName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default new Vuex.Store(&#123;&#x2F;&#x2F;抛出</span><br><span class="line">    state,</span><br><span class="line">    mutations</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2）在组件中调用修改数据的方法     a.引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; mapMutations &#125; from &#39;vuex&#39;</span><br></pre></td></tr></table></figure>

<p>b.用mutations引入方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...mapMutations([&#39;changeCity&#39;])</span><br></pre></td></tr></table></figure>

<p>c.调用方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">    changeCityName(cityName)&#123;</span><br><span class="line">        this.changeCity(cityName);</span><br><span class="line">        this.$router.push(&#39;&#x2F;&#39;);</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapMutations([&#39;changeCity&#39;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Tips:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">state和mutation是vuex的一个语法糖（语法糖（Syntactic sugar），也译为糖衣语法，指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性，从而减少程序代码出错的机会）。</span><br><span class="line">语法糖是指在不影响功能的情况下,添加某种方法实现同样的效果,从而方便程序开发。Vue.js的v-bind和v-on指令都提供了语法糖,也可以说是缩写,比如 v-bind,可以省略v-bind,直接写一个冒号&quot;:&quot;。</span><br></pre></td></tr></table></figure>

<h3 id="35、本地存储"><a href="#35、本地存储" class="headerlink" title="35、本地存储"></a>35、本地存储</h3><p>由于vue自身特性的原因，vuex中的数据在页面刷新之后其中的数据会初始化，这就导致组件之间通过vuex传递的数据在用户F5刷新页面之后会丢失。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">解决方案：结合localStorage或sessionStorage实现页面刷新之后数据不丢失。</span><br></pre></td></tr></table></figure>

<h3 id="35、keep-alive"><a href="#35、keep-alive" class="headerlink" title="35、keep-alive"></a>35、keep-alive</h3><p>作用：用来缓存DOM数据，不重复刷新，从而达到优化请求的目的。</p>
<p>1）用keep-alive包裹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">	&lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>2）keep-alive会产生一个activated的生命周期</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">activated()&#123;</span><br><span class="line">    if(this.changeCity !&#x3D; this.city)&#123;</span><br><span class="line">        this.getHttp();</span><br><span class="line">        this.changeCity &#x3D; this.city;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="36、添加移动端手机定位（百度地图）"><a href="#36、添加移动端手机定位（百度地图）" class="headerlink" title="36、添加移动端手机定位（百度地图）"></a>36、添加移动端手机定位（百度地图）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">1）在vue项目中使用H5新特性在IOS手机上打开vue网页会有适应性问题，并且无法获取所在城市，因此使用第三方库百度地图api。</span><br><span class="line">	2）使用步骤</span><br><span class="line">		a.获取百度地图密钥</span><br><span class="line">		(1).注册百度开发者帐户 &lt;http:&#x2F;&#x2F;lbsyun.baidu.com&#x2F;&gt;</span><br><span class="line">		(2).创建网站为网站申请百度地址访问密钥 AccessKey</span><br><span class="line">		b.实现百度地图定位</span><br><span class="line">		(1).在vue项目中index.html中引入百度地图api</span><br><span class="line">			&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;api.map.baidu.com&#x2F;api?v&#x3D;2.0&amp;ak&#x3D;【你的秘钥】&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">		(2).在build&#x2F;webpack.base.conf.js里面配置</span><br><span class="line">            module.exports &#x3D; &#123;</span><br><span class="line">                context: path.resolve(__dirname, &#39;..&#x2F;&#39;),</span><br><span class="line">                entry: &#123;</span><br><span class="line">                    app: &#39;.&#x2F;src&#x2F;main.js&#39;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F;添加</span><br><span class="line">                externals: &#123;</span><br><span class="line">                    &quot;BMap&quot;: &quot;BMap&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">		(3).定义方法，并在mounted中进行引用</span><br><span class="line"></span><br><span class="line">            &lt;template&gt;</span><br><span class="line">              &lt;header class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">                &lt;p&gt;&#123;&#123; city &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">              &lt;&#x2F;header&gt;</span><br><span class="line">            &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;script&gt;</span><br><span class="line">              &#x2F;&#x2F;引入BMap</span><br><span class="line">              import BMap from &#39;BMap&#39;</span><br><span class="line"></span><br><span class="line">              export default &#123;</span><br><span class="line">                &#x2F;&#x2F;定义数据</span><br><span class="line">                data() &#123;</span><br><span class="line">                  return &#123;</span><br><span class="line">                    location: null,</span><br><span class="line">                    city: &#39;&#39;</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                methods: &#123;</span><br><span class="line">                  &#x2F;&#x2F;定义方法</span><br><span class="line">                  getCity() &#123;</span><br><span class="line">                    let _this &#x3D; this;</span><br><span class="line">                    var geolocation &#x3D; new BMap.Geolocation();</span><br><span class="line">                    geolocation.getCurrentPosition(function (r) &#123;</span><br><span class="line">                      &#x2F;*if (this.getStatus() &#x3D;&#x3D; BMAP_STATUS_SUCCESS) &#123;</span><br><span class="line">                        if(r.accuracy&#x3D;&#x3D;null)&#123;</span><br><span class="line">                          alert(&#39;您已拒绝地理位置授权&#39;);</span><br><span class="line">                          &#x2F;&#x2F;用户决绝地理位置授权</span><br><span class="line">                          return;</span><br><span class="line">                        &#125;else&#123;*&#x2F;</span><br><span class="line">                      const myGeo &#x3D; new BMap.Geocoder()</span><br><span class="line">                      myGeo.getLocation(new BMap.Point(r.point.lng, r.point.lat), data &#x3D;&gt; &#123;</span><br><span class="line">                        &#x2F;*if (data.addressComponents) &#123;</span><br><span class="line">                          const result &#x3D; data.addressComponents</span><br><span class="line">                          const location &#x3D; &#123;</span><br><span class="line">                            creditLongitude: r.point.lat, &#x2F;&#x2F; 经度</span><br><span class="line">                            creditLatitude: r.point.lng, &#x2F;&#x2F; 纬度</span><br><span class="line">                            creditProvince: result.province || &#39;&#39;, &#x2F;&#x2F; 省</span><br><span class="line">                            creditCity: result.city || &#39;&#39;, &#x2F;&#x2F; 市</span><br><span class="line">                            creditArea: result.district || &#39;&#39;, &#x2F;&#x2F; 区</span><br><span class="line">                            creditStreet: (result.street || &#39;&#39;) + (result.streetNumber || &#39;&#39;) &#x2F;&#x2F; 街道</span><br><span class="line">                          &#125;;</span><br><span class="line">                          _this.location &#x3D; location;</span><br><span class="line">                          _this.creditLongitude&#x3D;location.creditLongitude;</span><br><span class="line">                          _this.creditLatitude&#x3D;location.creditLatitude;</span><br><span class="line">                          _this.creditCity&#x3D;location.creditCity;*&#x2F;</span><br><span class="line">                        _this.city &#x3D; data.addressComponents.city.replace(&#39;市&#39;, &#39;&#39;)</span><br><span class="line">                        &#x2F;&#x2F;&#125;</span><br><span class="line">                      &#125;)</span><br><span class="line">                      &#x2F;&#x2F; &#125;</span><br><span class="line">                      &#x2F;&#x2F; &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                 &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F;mounted中引用</span><br><span class="line">                mounted() &#123;</span><br><span class="line">                  this.getCity();</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="37、移动端添加地图-vue-baidu-map"><a href="#37、移动端添加地图-vue-baidu-map" class="headerlink" title="37、移动端添加地图(vue-baidu-map)"></a>37、移动端添加地图(vue-baidu-map)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">1）安装</span><br><span class="line">		cnpm i --save vue-baidu-map</span><br><span class="line">	2）引入（可以只在当前组件中引入）</span><br><span class="line">    	  import BMap from &#39;BMap&#39;</span><br><span class="line">          import BaiduMap from &#39;vue-baidu-map&#39;</span><br><span class="line"></span><br><span class="line">          Vue.use(BaiduMap, &#123;</span><br><span class="line">            ak: &#39;xxxx&#39;</span><br><span class="line">          &#125;);</span><br><span class="line">	3）使用</span><br><span class="line"></span><br><span class="line">    	&lt;template&gt;</span><br><span class="line">        &lt;header&gt;</span><br><span class="line">          &#123;&#123; city &#125;&#125;</span><br><span class="line">          &lt;baidu-map class&#x3D;&quot;map&quot; style&#x3D;&quot;display: flex; flex-direction: column&quot; center&#x3D;&quot;陕西&quot;&gt;</span><br><span class="line">            &lt;bm-view style&#x3D;&quot;width: 100%; height:100px; flex: 1&quot;&gt;&lt;&#x2F;bm-view&gt;</span><br><span class="line">            &lt;bm-scale anchor&#x3D;&quot;BMAP_ANCHOR_TOP_RIGHT&quot;&gt;&lt;&#x2F;bm-scale&gt;</span><br><span class="line">            &lt;bm-navigation anchor&#x3D;&quot;BMAP_ANCHOR_TOP_RIGHT&quot;&gt;&lt;&#x2F;bm-navigation&gt;</span><br><span class="line">            &lt;bm-geolocation anchor&#x3D;&quot;BMAP_ANCHOR_BOTTOM_RIGHT&quot; :showAddressBar&#x3D;&quot;true&quot; :autoLocation&#x3D;&quot;true&quot;&gt;&lt;&#x2F;bm-geolocation&gt;</span><br><span class="line">            &lt;bm-map-type :map-types&#x3D;&quot;[&#39;BMAP_NORMAL_MAP&#39;, &#39;BMAP_HYBRID_MAP&#39;]&quot; anchor&#x3D;&quot;BMAP_ANCHOR_TOP_LEFT&quot;&gt;&lt;&#x2F;bm-map-type&gt;</span><br><span class="line">          &lt;&#x2F;baidu-map&gt;</span><br><span class="line">        &lt;&#x2F;header&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      &#x2F;&#x2F;引入BMap</span><br><span class="line">      import BMap from &#39;BMap&#39;</span><br><span class="line">      import BaiduMap from &#39;vue-baidu-map&#39;</span><br><span class="line"></span><br><span class="line">      Vue.use(BaiduMap, &#123;</span><br><span class="line">        ak: &#39;vebSflNH1t7anWyMXHZf09hhTtM2bx3R&#39;</span><br><span class="line">      &#125;);</span><br><span class="line">      export default &#123;</span><br><span class="line">        props:[&#39;title&#39;],</span><br><span class="line">        &#x2F;&#x2F;定义数据</span><br><span class="line">        data() &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            location: null,&#x2F;&#x2F;必须赋初值为null</span><br><span class="line">            city: &#39;&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">          &#x2F;&#x2F;定义方法</span><br><span class="line">          getCity() &#123;</span><br><span class="line">            let _this &#x3D; this;</span><br><span class="line">            var geolocation &#x3D; new BMap.Geolocation();</span><br><span class="line">            geolocation.getCurrentPosition(function (r) &#123;</span><br><span class="line">              const myGeo &#x3D; new BMap.Geocoder()</span><br><span class="line">              myGeo.getLocation(new BMap.Point(r.point.lng, r.point.lat), data &#x3D;&gt; &#123;</span><br><span class="line">                &#x2F;*if (data.addressComponents) &#123;</span><br><span class="line">                  const result &#x3D; data.addressComponents</span><br><span class="line">                  const location &#x3D; &#123;</span><br><span class="line">                    creditLongitude: r.point.lat, &#x2F;&#x2F; 经度</span><br><span class="line">                    creditLatitude: r.point.lng, &#x2F;&#x2F; 纬度</span><br><span class="line">                    creditProvince: result.province || &#39;&#39;, &#x2F;&#x2F; 省</span><br><span class="line">                    creditCity: result.city || &#39;&#39;, &#x2F;&#x2F; 市</span><br><span class="line">                    creditArea: result.district || &#39;&#39;, &#x2F;&#x2F; 区</span><br><span class="line">                    creditStreet: (result.street || &#39;&#39;) + (result.streetNumber || &#39;&#39;) &#x2F;&#x2F; 街道</span><br><span class="line">                  &#125;;</span><br><span class="line">                  _this.location &#x3D; location;</span><br><span class="line">                  _this.creditLongitude &#x3D; location.creditLongitude;</span><br><span class="line">                  _this.creditLatitude &#x3D; location.creditLatitude;</span><br><span class="line">                  _this.creditCity &#x3D; location.creditCity;</span><br><span class="line">                  console.log(location)</span><br><span class="line">                &#125;*&#x2F;</span><br><span class="line">                &#x2F;*console.log(data.addressComponents.city.replace(&#39;市&#39;, &#39;&#39;))*&#x2F;</span><br><span class="line">                _this.city &#x3D; data.addressComponents.city.replace(&#39;市&#39;, &#39;&#39;)</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line">          this.getCity();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;style scoped&gt;</span><br><span class="line">      .map &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 300px;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="38、Vue父子组件数据双向绑定，子组件可修改props"><a href="#38、Vue父子组件数据双向绑定，子组件可修改props" class="headerlink" title="38、Vue父子组件数据双向绑定，子组件可修改props"></a>38、Vue父子组件数据双向绑定，子组件可修改props</h3><p>　　父组件 =&gt; props[parent-data] =&gt; 子组件 =&gt; watch[parent-data] =&gt; children-data = parent-data // 子组件监听父组件的改变；</p>
<p>　　子组件 =&gt; $emit[children-data] =&gt; 父组件 =&gt; parant-data = children-data // 子组件通知父组件自身的改变。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 父组件</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;Children :parentData&#x3D;&quot;parentData&quot; @getChildrenStatus&#x3D;&quot;getChildrenStatus&quot;&gt;&lt;&#x2F;Children&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&#x2F;&#x2F; 父组件</span><br><span class="line">data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        parentData: 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    getChildrenStatus: function(data)&#123; &#x2F;&#x2F; 实时更新子组件的变化</span><br><span class="line">        this.parentData &#x3D; data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;子组件</span><br><span class="line">data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        childrenData: 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">props: [&#39;parentData&#39;],</span><br><span class="line">watch: &#123;</span><br><span class="line">    parentData: function()&#123; &#x2F;&#x2F; 监听父组件的变化</span><br><span class="line">        this.childrenData &#x3D; this.parentData</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$emit(&#39;getChildrenStatus&#39;, this.childrenData) &#x2F;&#x2F; 将改变通知父组件(保证父子组件数据一致)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="39、图表"><a href="#39、图表" class="headerlink" title="39、图表"></a>39、图表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1.安装并在需要用图表的地方引入 例如：hello.js</span><br><span class="line"> 	cnpm i -S echarts</span><br><span class="line">    import echarts from &#39;echarts&#39;</span><br><span class="line"> </span><br><span class="line">2.hello.vue  中写个容器     </span><br><span class="line">    &lt;div id&#x3D;&#39;myChart&#39; style&#x3D;&#39;width：600px;height:600px&#39;&gt;&lt;&#x2F;div&gt; </span><br><span class="line">3.在hello.js     </span><br><span class="line"> export default &#123;</span><br><span class="line">  name: &#39;hello&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#39;Welcome to Your Vue.js App&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted()&#123;</span><br><span class="line">    this.drawLine();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    drawLine()&#123;</span><br><span class="line">        &#x2F;&#x2F; 基于准备好的dom，初始化echarts实例</span><br><span class="line">        let myChart &#x3D; this.$echarts.init(document.getElementById(&#39;myChart&#39;))</span><br><span class="line">        &#x2F;&#x2F; 绘制图表</span><br><span class="line">        myChart.setOption(&#123;</span><br><span class="line">            title: &#123; text: &#39;在Vue中使用echarts&#39; &#125;,</span><br><span class="line">            tooltip: &#123;&#125;,</span><br><span class="line">            xAxis: &#123;</span><br><span class="line">                data: [&quot;衬衫&quot;,&quot;羊毛衫&quot;,&quot;雪纺衫&quot;,&quot;裤子&quot;,&quot;高跟鞋&quot;,&quot;袜子&quot;]</span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis: &#123;&#125;,</span><br><span class="line">            series: [&#123;</span><br><span class="line">                name: &#39;销量&#39;,</span><br><span class="line">                type: &#39;bar&#39;,</span><br><span class="line">                data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="40、-真机测试"><a href="#40、-真机测试" class="headerlink" title="40、 真机测试"></a>40、 真机测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入https:&#x2F;&#x2F;cli.im&#x2F;，可以用网址，如http:&#x2F;&#x2F;192.168.0.114生成二维码预览。</span><br><span class="line">也可以用同一网段的Wifi，直接在手机端打开浏览器，输入网址http:&#x2F;&#x2F;192.168.0.114进入。</span><br></pre></td></tr></table></figure>

<h3 id="41、项目打包"><a href="#41、项目打包" class="headerlink" title="41、项目打包"></a>41、项目打包</h3><p>因为服务器不识别.vue等的文件，需要打包成.html(.css/.js等)。</p>
<p>1）修改config-&gt;index.js文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">build: &#123;</span><br><span class="line">    &#x2F;&#x2F; Template for index.html</span><br><span class="line">    index: path.resolve(__dirname, &#39;..&#x2F;dist&#x2F;index.html&#39;),</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Paths</span><br><span class="line">    assetsRoot: path.resolve(__dirname, &#39;..&#x2F;dist&#39;),</span><br><span class="line">    assetsSubDirectory: &#39;static&#39;,</span><br><span class="line">    assetsPublicPath: &#39;.&#x2F;&#39;,&#x2F;&#x2F;修改处</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>

<p>2）打包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<p>3）测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">直接双击index.html文件。</span><br></pre></td></tr></table></figure>

<p>4）测试后发现本地数据拿不到，数据（.json和图片）必须挂到服务器上才能拿到，这里用php解决跨域问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    &#x2F;&#x2F; 制定允许其他域名访问</span><br><span class="line">    header(&quot;Access-Control-Allow-Origin:*&quot;);</span><br><span class="line">    &#x2F;&#x2F; 响应类型</span><br><span class="line">    header(&#39;Access-Control-Allow-Methods:POST&#39;);</span><br><span class="line">    &#x2F;&#x2F; 响应头设置</span><br><span class="line">    header(&#39;Access-Control-Allow-Headers:x-requested-with, content-type&#39;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;$callback &#x3D; isset($_REQUEST[&#39;callback&#39;]) ? trim($_REQUEST[&#39;callback&#39;]) : &#39;&#39;; &#x2F;&#x2F;jsonp回调参数，必需</span><br><span class="line">    function getKey($key,$default&#x3D;&quot;&quot;)&#123;</span><br><span class="line">        return trim(isset($_REQUEST[$key])?$_REQUEST[$key]:$default);</span><br><span class="line">    &#125;</span><br><span class="line">    $json_string &#x3D; file_get_contents(&quot;.&#x2F;data&#x2F;home_data.json&quot;);&#x2F;&#x2F; 从文件中读取数据到PHP变量</span><br><span class="line">    $data &#x3D; json_decode($json_string,true);&#x2F;&#x2F; 把JSON字符串转成PHP数组</span><br><span class="line">    echo json_encode($data,JSON_UNESCAPED_UNICODE);&#x2F;&#x2F;将处理后的数据发向前端,传到阿里云时，要把&quot;,JSON_UNESCAPED_UNICODE&quot;删除。</span><br></pre></td></tr></table></figure>

<h3 id="42、项目生成安装包"><a href="#42、项目生成安装包" class="headerlink" title="42、项目生成安装包"></a>42、项目生成安装包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1）在线云打包</span><br><span class="line">	借助于HBuilder实现（HBuilder是一个绿色版前端开发IDE，不需要安装，解压即可）</span><br><span class="line">2）本地打包（cordova）（需要安装node&#x2F;jdk&#x2F;cordova）</span><br></pre></td></tr></table></figure>

<h3 id="43、网站参考"><a href="#43、网站参考" class="headerlink" title="43、网站参考"></a>43、网站参考</h3><ol>
<li>项目参考网站：<a href="http://touch.piao.qunar.com/touch/index_%E8%A5%BF%E5%AE%89.html" target="_blank" rel="noopener">http://touch.piao.qunar.com/touch/index_%E8%A5%BF%E5%AE%89.html</a></li>
<li>base64转换：<a href="http://imgbase64.duoshitong.com/" target="_blank" rel="noopener">http://imgbase64.duoshitong.com/</a></li>
<li>reset.css:<a href="https://meyerweb.com/eric/tools/css/reset/" target="_blank" rel="noopener">https://meyerweb.com/eric/tools/css/reset/</a></li>
<li>FastClick:<a href="https://majing.io/posts/10000007721218" target="_blank" rel="noopener">https://majing.io/posts/10000007721218</a> 解决移动端300ms的延时</li>
<li>Iconfont:<a href="https://www.iconfont.cn/" target="_blank" rel="noopener">https://www.iconfont.cn/</a></li>
<li>better-scroll:（1）<a href="https://github.com/ustbhuangyi/better-scroll" target="_blank" rel="noopener">https://github.com/ustbhuangyi/better-scroll</a>（2）<a href="http://ustbhuangyi.github.io/better-scroll/doc/api.html" target="_blank" rel="noopener">http://ustbhuangyi.github.io/better-scroll/doc/api.html</a></li>
<li>vuex:<a href="https://vuex.vuejs.org/zh/guide/state.html" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/guide/state.html</a></li>
<li>移动端地图:<a href="https://dafrok.github.io/vue-baidu-map/#/" target="_blank" rel="noopener">https://dafrok.github.io/vue-baidu-map/#/</a></li>
<li>Vue+echarts图表:<a href="https://www.cnblogs.com/ifannie/p/7992917.html" target="_blank" rel="noopener">https://www.cnblogs.com/ifannie/p/7992917.html</a></li>
<li>vue-schart图表：<a href="https://github.com/lin-xin/vue-schart" target="_blank" rel="noopener">https://github.com/lin-xin/vue-schart</a></li>
<li>草料二维码:<a href="https://cli.im/" target="_blank" rel="noopener">https://cli.im/</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/%E7%A7%A6%E6%80%9D%E6%97%85%E6%B8%B8(Vue+Node.js+Stylus)%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" data-id="ck6zauz730005w0ibhldidd14" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Yogo项目开发" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/Yogo%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" class="article-date">
  <time datetime="2020-02-23T17:07:11.816Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Yogo%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/">Yogo项目开发</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Yoga项目开发（PC端电商网站）"><a href="#Yoga项目开发（PC端电商网站）" class="headerlink" title="Yoga项目开发（PC端电商网站）"></a>Yoga项目开发（PC端电商网站）</h1><h3 id="1、软件安装"><a href="#1、软件安装" class="headerlink" title="1、软件安装"></a>1、软件安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Webstorm  前端开发IDE</span><br><span class="line">VS Code  前端开发IDE</span><br><span class="line">Atom  前端开发IDE</span><br><span class="line">HBuilder 前端开发IDE</span><br><span class="line">飞秋   局域网聊天工具</span><br><span class="line">PS 2015CC  方便切图</span><br><span class="line">福昕阅读器2017 PDF文档查看软件</span><br><span class="line">MS Visio 制作流程图</span><br><span class="line">Postman  测试后台接口</span><br><span class="line">Navicat MySQL可视操作界面</span><br><span class="line">XMind 思维导图</span><br></pre></td></tr></table></figure>

<h3 id="2、软件开发公司组成成员"><a href="#2、软件开发公司组成成员" class="headerlink" title="2、软件开发公司组成成员"></a>2、软件开发公司组成成员</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1)市场部</span><br><span class="line">2)开发部 产品经理(了解客户需求，并形成需求文档，制作原型图（草图）) UI工程师(把原型图转换为UI图) 前端</span><br><span class="line">工程师(所UI图转换为代码) 后台工程师（为前端提供数据和逻辑处理，以及网站安全处理等） 测试工程序师(对前端</span><br><span class="line">和后台完成的项目进行多平台、多设备等测试)</span><br><span class="line">3)售后</span><br></pre></td></tr></table></figure>

<h3 id="3、安装svn"><a href="#3、安装svn" class="headerlink" title="3、安装svn"></a>3、安装svn</h3><p>SVN：版本控制，用于局域网进行小组项目管理。</p>
<p>组长安装服务端，管理项目。</p>
<p>小组组长将仓库的地址、帐号和密码一般以电子邮件的方式发给小组其他成员。</p>
<p>小组其他成员安装SVN客户端，安装完成后，在要下载的目录下右键，选择检出。</p>
<p>每位成员每天上班前必须重新检出文件，下班前或某些页面或部分内容完成后就提交到仓库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4、搭建Yoga项目环境"><a href="#4、搭建Yoga项目环境" class="headerlink" title="4、搭建Yoga项目环境"></a>4、搭建Yoga项目环境</h3><p>1）安装node.js   <a href="http://nodejs.cn/download/" target="_blank" rel="noopener">http://nodejs.cn/download/</a><br>2）安装git<br>3）安装淘宝镜像cnpm  <a href="http://npm.taobao.org/" target="_blank" rel="noopener">http://npm.taobao.org/</a></p>
<p>​    说明：安装node.js后，会自带一个包管理器叫npm，但是用它时慢且容易丢包，因为它镜像的是国外的网站，可以使用国内的淘宝镜像cnpm。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>4）也可以安装yarn替代npm/cnpm，它的速度更快，安全性更高。</p>
<p>​    <a href="https://yarn.bootcss.com/" target="_blank" rel="noopener">https://yarn.bootcss.com/</a>    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i yarn -g 或：$ npm install yarn --global</span><br></pre></td></tr></table></figure>

<p>5）全局安装express-generator(生成器:用它生成项目) <a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener">http://www.expressjs.com.cn/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i express-generator -g</span><br></pre></td></tr></table></figure>

<p>6）生成项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">express -e yoga</span><br></pre></td></tr></table></figure>

<p>7）安装mysql</p>
<p>方法一：修改package.json(配置文件)</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">  "cookie-parser": "~1.4.3",</span><br><span class="line">  "debug": "~2.6.9",</span><br><span class="line">  "ejs": "~2.5.7",</span><br><span class="line">  "express": "~4.16.0",</span><br><span class="line">  "mysql":"*",</span><br><span class="line">  "http-errors": "~1.6.2",</span><br><span class="line">  "morgan": "~1.9.0"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法二：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i mysql -S  或 $ npm i mysql --save-dev</span><br></pre></td></tr></table></figure>

<p>8）安装依赖包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd yoga</span><br><span class="line">$ npm i   或 cnpm i 或 yarn</span><br></pre></td></tr></table></figure>

<p>9）设置端口号</p>
<p>在app.js的倒数第二行添加：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.listen(<span class="number">80</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'服务器已启动！'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>项目上线必须只能是80端口，开发时可以设成其它端口。</p>
<p>10）启动项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></table></figure>

<p>11）项目组长负责搭建项目环境和创建一些公共文件夹。</p>
<p>12）引入reset.css文件（目的：因为浏览器标准不一样，引入它是为了统一样式）</p>
<p><a href="https://meyerweb.com/eric/tools/css/reset/" target="_blank" rel="noopener">https://meyerweb.com/eric/tools/css/reset/</a></p>
<p>13）css哪些属性可以被继承</p>
<p><a href="https://www.cnblogs.com/thislbq/p/5882105.html" target="_blank" rel="noopener">https://www.cnblogs.com/thislbq/p/5882105.html</a></p>
<p>14）创建公共样式文件public.css或common.css。</p>
<h3 id="5、公共html代码抽离"><a href="#5、公共html代码抽离" class="headerlink" title="5、公共html代码抽离"></a>5、公共html代码抽离</h3><p>1）先写好html代码</p>
<p>2）将这部分代码复制到一个空白的JS文件中(<a href="https://www.jb51.net/article/49480.htm)。" target="_blank" rel="noopener">https://www.jb51.net/article/49480.htm)。</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">'&lt;header&gt;\n'</span> +</span><br><span class="line">    <span class="string">'    &lt;ul class="menu"&gt;\n'</span> +</span><br><span class="line">    <span class="string">'        &lt;li&gt;&lt;a href="#"&gt;menu1&lt;/a&gt;\n'</span> +</span><br><span class="line">    <span class="string">'            &lt;ul class="submenu"&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'                &lt;li&gt;&lt;a href="#"&gt;submen&lt;/a&gt;&lt;/li&gt;\n'</span> +</span><br><span class="line">    <span class="string">'            &lt;/ul&gt;\n'</span> +</span><br><span class="line">    <span class="string">'      ......</span></span><br><span class="line"><span class="string">    '</span>    &lt;<span class="regexp">/ul&gt;\n' +</span></span><br><span class="line"><span class="regexp">    '&lt;/</span>header&gt;<span class="string">';</span></span><br><span class="line"><span class="string">document.write(txt);</span></span><br></pre></td></tr></table></figure>

<p>3）在需求引入这部分代码的地方引入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/header.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="6、在每个html文件的head部分添加"><a href="#6、在每个html文件的head部分添加" class="headerlink" title="6、在每个html文件的head部分添加"></a>6、在每个html文件的head部分添加</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">""</span> /&gt;</span>  设置关键字</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span> /&gt;</span>  设置项目描述</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span>如果用IE打开网站，默认用edge打开该网站</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"renderer"</span> <span class="attr">content</span>=<span class="string">"webkit"</span> /&gt;</span>  国内大多数浏览器都是双核的，优先采用webkit渲染。</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"https://img.alicdn.com/tps/i3/T1OjaVFl4dXXa.JOZB-114-114.png"</span> <span class="attr">type</span>=<span class="string">"image/png"</span> /&gt;</span> 添加网站小图标</span><br></pre></td></tr></table></figure>

<h3 id="7、浏览器内核"><a href="#7、浏览器内核" class="headerlink" title="7、浏览器内核"></a>7、浏览器内核</h3><p>参考网站：<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8/10602413?fr=aladdin" target="_blank" rel="noopener">https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8/10602413?fr=aladdin</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Trident(IE内核)  -ms-</span><br><span class="line">Gecko(Firefox内核) -moz-</span><br><span class="line">Presto(Opera前内核) (已废弃)</span><br><span class="line">Opera现已改用Google Chrome的Blink内核 -o-</span><br><span class="line">Webkit(Safari内核,Chrome内核原型,开源):它是苹果公司自己的内核，也是苹果的Safari浏览器使用的内核 </span><br><span class="line">-webkit-</span><br><span class="line">注意：大多数CSS3必须要写兼容。</span><br></pre></td></tr></table></figure>

<h3 id="8、开发方式：MPA-多页面开发-SPA-单页面开发"><a href="#8、开发方式：MPA-多页面开发-SPA-单页面开发" class="headerlink" title="8、开发方式：MPA(多页面开发)     SPA(单页面开发)"></a>8、开发方式：MPA(多页面开发)     SPA(单页面开发)</h3><h3 id="9、开启本地服务器"><a href="#9、开启本地服务器" class="headerlink" title="9、开启本地服务器"></a>9、开启本地服务器</h3><p>1）安装（如果没安装node.js，要先安装）</p>
<p>​    npm i http-server -g</p>
<p>2）启动服务</p>
<p>​    进入要启动的项目目录中，输入：</p>
<p>​    http-server -p 80</p>
<h3 id="10、阿里矢量图标库（https-www-iconfont-cn-）。"><a href="#10、阿里矢量图标库（https-www-iconfont-cn-）。" class="headerlink" title="10、阿里矢量图标库（https://www.iconfont.cn/）。"></a>10、阿里矢量图标库（<a href="https://www.iconfont.cn/）。" target="_blank" rel="noopener">https://www.iconfont.cn/）。</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1）创建项目</span><br><span class="line">2）添加图标到购物车</span><br><span class="line">3）把购物车中的图标添加到项目</span><br><span class="line">4）下载项目文件</span><br><span class="line">5）从下载的文件中把字体文件放入到当前项目fonts目录中,把iconfont.css放入在css目录中，注意要修改路径</span><br><span class="line">6）使用图标</span><br><span class="line">	&lt;span class&#x3D;&quot;iconfon&quot;&gt;&amp;#xe7c1;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;iconfont iconicon_phone&quot;&gt;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>

<h3 id="11、HTML实体转义字符"><a href="#11、HTML实体转义字符" class="headerlink" title="11、HTML实体转义字符"></a>11、HTML实体转义字符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1）参考网站：</span><br><span class="line">	https:&#x2F;&#x2F;blog.csdn.net&#x2F;chb_1_2&#x2F;article&#x2F;details&#x2F;80728732</span><br><span class="line">	http:&#x2F;&#x2F;tool.oschina.net&#x2F;commons?type&#x3D;2</span><br><span class="line">2）HTML实体转义常用符号：    </span><br><span class="line">	&gt;     &gt;</span><br><span class="line">	&lt;     &lt;</span><br><span class="line">	&amp;copy;   ©</span><br><span class="line">	&amp;times;  ×</span><br><span class="line">	&amp;divide; ÷</span><br><span class="line">	&amp;#189;   ½</span><br><span class="line">	&amp;laquo;  «</span><br><span class="line">	&amp;raquo;  »</span><br></pre></td></tr></table></figure>

<h3 id="12、CDN加速器"><a href="#12、CDN加速器" class="headerlink" title="12、CDN加速器"></a>12、CDN加速器</h3><p>版本：2.6.10-12325  2为主版本号，6为次版本号，10为修正版本号,12325为补丁</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.bootcdn.cn&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="13、图片懒加载"><a href="#13、图片懒加载" class="headerlink" title="13、图片懒加载"></a>13、图片懒加载</h3><h4 id="13-1-什么是懒加载"><a href="#13-1-什么是懒加载" class="headerlink" title="13.1 什么是懒加载"></a>13.1 什么是懒加载</h4><p>懒加载其实就是延迟加载，是一种对网页性能优化的方式，比如当访问一个页面的时候，优先显示可视区域的图片而不一次性加载所有图片，当需要显示的时候再发送图片请求，避免打开网页时加载过多资源。</p>
<h4 id="13-2-什么时候用懒加载（使用场景）"><a href="#13-2-什么时候用懒加载（使用场景）" class="headerlink" title="13.2 什么时候用懒加载（使用场景）"></a>13.2 什么时候用懒加载（使用场景）</h4><p>当页面中需要一次性载入很多图片的时候，往往都是需要用懒加载的。</p>
<h4 id="13-3-懒加载原理"><a href="#13-3-懒加载原理" class="headerlink" title="13.3 懒加载原理"></a>13.3 懒加载原理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我们都知道HTML中的&lt;img&gt;标签是代表文档中的一个图像，&lt;img&gt;标签有一个属性是src，用来表示图像的URL，当这个属性的值不为空时，浏览器就会根据这个值发送请求。如果没有src属性，就不会发送请求。</span><br><span class="line">我们可以利用一下这点，先不设置&#96;src&#96;，需要的时候再设置。</span><br><span class="line">我们先不给&lt;img&gt;设置&#96;src&#96;，把图片真正的URL放在另一个属性&#96;data-src&#96;中，在需要的时候也就是图片进入可视区域的之前，将URL取出放到&#96;src&#96;中。</span><br></pre></td></tr></table></figure>

<h4 id="13-4-使用方法"><a href="#13-4-使用方法" class="headerlink" title="13.4 使用方法"></a>13.4 使用方法</h4><ol>
<li>引用jquery和jquery.lazyload.js到你的页面</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.lazyload.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>你必须改变图片的标签。图像的地址必须放在<code>data-original</code>属性上。给懒加载图像一个特定的class（例如:lazy）。这样你可以很容易地进行图像插件捆绑。代码如下：</li>
</ol>
<p>　　HTML：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazy"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">width</span>=<span class="string">"640"</span> <span class="attr">height</span>=<span class="string">"480"</span> <span class="attr">data-original</span>=<span class="string">"img/img01.jpg"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>　　js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"img.lazy"</span>).lazyload();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>　　这将使所有 class 为 <code>lazy</code> 的图片将被延迟加载。</p>
<h4 id="13-5-设置临界点"><a href="#13-5-设置临界点" class="headerlink" title="13.5 设置临界点"></a>13.5 设置临界点</h4><p>默认情况下图片会出现在屏幕时加载. 如果你想提前加载图片, 可以设置<code>threshold</code>选项, 设置 threshold 为 200 令图片在距离屏幕 200 像素时提前加载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"img.lazy"</span>).lazyload(&#123;</span><br><span class="line">    threshold : <span class="number">200</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="13-6-设置事件来触发加载"><a href="#13-6-设置事件来触发加载" class="headerlink" title="13.6 设置事件来触发加载"></a>13.6 设置事件来触发加载</h4><p>　　你可以使用jQuery事件，例如<code>click</code>和<code>mouseover</code>。也可以使用自定义事件，如<code>sporty</code>、<code>foobar</code>默认情况下是要等到用户向下滚动并且图像出现在视口中时。</p>
<p>　　只有当用户点击它们才加载图片：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"img.lazy"</span>).lazyload(&#123;</span><br><span class="line">    event : <span class="string">"click"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="13-7-使用特效"><a href="#13-7-使用特效" class="headerlink" title="13.7 使用特效"></a>13.7 使用特效</h4><p>　　默认情况下，插件等待图像完全加载并调用<code>show()</code>。你可以使用任何你想要的效果。下面的代码使用<code>fadeIn</code>（淡入效果）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"img.lazy"</span>).lazyload(&#123;</span><br><span class="line">    effect : <span class="string">"fadeIn"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="13-8-参数设置"><a href="#13-8-参数设置" class="headerlink" title="13.8 参数设置"></a>13.8 参数设置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"img.lazy"</span>).lazyload(&#123;</span><br><span class="line">  placeholder : <span class="string">"img/grey.gif"</span>, <span class="comment">//用图片提前占位</span></span><br><span class="line">    <span class="comment">// placeholder,值为某一图片路径.此图片用来占据将要加载的图片的位置,待图片加载时,占位图则会隐藏</span></span><br><span class="line">  effect: <span class="string">"fadeIn"</span>, <span class="comment">// 载入使用何种效果</span></span><br><span class="line">    <span class="comment">// effect(特效),值有show(直接显示),fadeIn(淡入),slideDown(下拉)等,常用fadeIn</span></span><br><span class="line">  threshold: <span class="number">200</span>, <span class="comment">// 提前开始加载</span></span><br><span class="line">    <span class="comment">// threshold,值为数字,代表页面高度.如设置为200,表示滚动条在离目标位置还有200的高度时就开始加载图片,可以做到不让用户察觉</span></span><br><span class="line">  event: <span class="string">'click'</span>,  <span class="comment">// 事件触发时才加载</span></span><br><span class="line">    <span class="comment">// event,值有click(点击),mouseover(鼠标划过),sporty(运动的),foobar(…).可以实现鼠标莫过或点击图片才开始加载,后两个值未测试…</span></span><br><span class="line">  container: $(<span class="string">"#container"</span>),  <span class="comment">// 对某容器中的图片实现效果</span></span><br><span class="line">    <span class="comment">// container,值为某容器.lazyload默认在拉动浏览器滚动条时生效,这个参数可以让你在拉动某DIV的滚动条时依次加载其中的图片</span></span><br><span class="line">  failurelimit : <span class="number">10</span> <span class="comment">// 图片排序混乱时</span></span><br><span class="line">     <span class="comment">// failurelimit,值为数字.lazyload默认在找到第一张不在可见区域里的图片时则不再继续加载,但当HTML容器混乱的时候可能出现可见区域内图片并没加载出来的情况,failurelimit意在加载N张可见区域外的图片,以避免出现这个问题.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/12421329-4ce35d43fe885873?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p>
<h4 id="13-9-另附JavaScript原生实现"><a href="#13-9-另附JavaScript原生实现" class="headerlink" title="13.9 另附JavaScript原生实现"></a>13.9 另附JavaScript原生实现</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图片懒加载类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LazyLoad</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(el) &#123;</span><br><span class="line">        <span class="keyword">this</span>.imglist = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(el)); <span class="comment">// 需使用懒加载的图片集合</span></span><br><span class="line">        <span class="keyword">this</span>.init(); <span class="comment">// 初始化</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 判断是否该图片是否可以加载</span></span><br><span class="line">    canILoad() &#123;</span><br><span class="line">        <span class="keyword">let</span> imglist = <span class="keyword">this</span>.imglist;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = imglist.length; i--;) &#123;</span><br><span class="line">            <span class="comment">// 缩写，相当于if true</span></span><br><span class="line">            <span class="keyword">this</span>.getBound(imglist[i]) &amp;&amp; <span class="keyword">this</span>.loadImage(imglist[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取图片与窗口的信息</span></span><br><span class="line">    getBound(el) &#123;</span><br><span class="line">        <span class="keyword">let</span> bound = el.getBoundingClientRect();</span><br><span class="line">        <span class="keyword">let</span> clientHeight = <span class="built_in">window</span>.innerHeight;</span><br><span class="line">        <span class="comment">// 图片距离顶部的距离 &lt;= 浏览器可视化的高度，从而推算出是否需要加载</span></span><br><span class="line">        <span class="keyword">return</span> bound.top &lt;= clientHeight - <span class="number">100</span>; <span class="comment">// -100是为了看到效果，您也可以去掉</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 加载图片</span></span><br><span class="line">    loadImage(el, index) &#123;</span><br><span class="line">        <span class="comment">// 获取之前设置好的data-original值</span></span><br><span class="line">        <span class="keyword">let</span> src = el.getAttribute(<span class="string">'data-original'</span>);</span><br><span class="line">        <span class="comment">// 赋值到src，从而请求资源</span></span><br><span class="line">        el.src = src;</span><br><span class="line">        <span class="comment">// 避免重复判断，已经确定加载的图片应当从imglist移除</span></span><br><span class="line">        <span class="keyword">this</span>.imglist.splice(index, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 当浏览器滚动的时候，继续判断</span></span><br><span class="line">    bindEvent() &#123;</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, () =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.imglist.length &amp;&amp; <span class="keyword">this</span>.canILoad();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 初始化</span></span><br><span class="line">    init() &#123;</span><br><span class="line">        <span class="keyword">this</span>.canILoad();</span><br><span class="line">        <span class="keyword">this</span>.bindEvent();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 实例化对象，参数则是需要使用懒加载的图片类名</span></span><br><span class="line"><span class="keyword">const</span> lazy = <span class="keyword">new</span> LazyLoad(<span class="string">'.lazyload'</span>)</span><br></pre></td></tr></table></figure>

<p> 完整代码参照：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>图片懒加载<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        body &#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        img &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">            max-width: 300px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            margin-bottom: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.lazyload</span> &#123;</span></span><br><span class="line">        　　display: none;</span><br><span class="line">　　　　&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media3.giphy.com/media/k5GuJn7VslbpGQqHUB/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media1.giphy.com/media/2A7yoKf2B87kotTApZ/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media2.giphy.com/media/3h1rwFW1PpLxD9xLUR/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media0.giphy.com/media/igHgY3xzYxmRcxwZBs/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media0.giphy.com/media/69v5dFsLtzdpaFZz2N/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media3.giphy.com/media/k5GuJn7VslbpGQqHUB/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media1.giphy.com/media/2A7yoKf2B87kotTApZ/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media2.giphy.com/media/3h1rwFW1PpLxD9xLUR/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media0.giphy.com/media/igHgY3xzYxmRcxwZBs/200w.webp"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"lazyload"</span> <span class="attr">data-original</span>=<span class="string">"https://media0.giphy.com/media/69v5dFsLtzdpaFZz2N/200w.webp"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">   <span class="comment">// 图片懒加载类</span></span></span><br><span class="line"><span class="actionscript">   <span class="class"><span class="keyword">class</span> <span class="title">LazyLoad</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">constructor</span>(el) &#123;</span></span><br><span class="line"><span class="javascript">           <span class="keyword">this</span>.imglist = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(el)); <span class="comment">// 需使用懒加载的图片集合</span></span></span><br><span class="line"><span class="actionscript">           <span class="keyword">this</span>.init(); <span class="comment">// 初始化</span></span></span><br><span class="line">       &#125;</span><br><span class="line"><span class="actionscript">       <span class="comment">// 判断是否该图片是否可以加载</span></span></span><br><span class="line">       canILoad() &#123;</span><br><span class="line"><span class="javascript">           <span class="keyword">let</span> imglist = <span class="keyword">this</span>.imglist;</span></span><br><span class="line"><span class="javascript">           <span class="keyword">for</span> (<span class="keyword">let</span> i = imglist.length; i--;) &#123;</span></span><br><span class="line"><span class="actionscript">               <span class="comment">// 缩写，相当于if true</span></span></span><br><span class="line"><span class="actionscript">               <span class="keyword">this</span>.getBound(imglist[i]) &amp;&amp; <span class="keyword">this</span>.loadImage(imglist[i], i);</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"><span class="actionscript">       <span class="comment">// 获取图片与窗口的信息</span></span></span><br><span class="line">       getBound(el) &#123;</span><br><span class="line"><span class="javascript">           <span class="keyword">let</span> bound = el.getBoundingClientRect();</span></span><br><span class="line"><span class="javascript">           <span class="keyword">let</span> clientHeight = <span class="built_in">window</span>.innerHeight;</span></span><br><span class="line"><span class="actionscript">           <span class="comment">// 图片距离顶部的距离 &lt;= 浏览器可视化的高度，从而推算出是否需要加载</span></span></span><br><span class="line"><span class="actionscript">           <span class="keyword">return</span> bound.top &lt;= clientHeight - <span class="number">100</span>; <span class="comment">// -100是为了看到效果，您也可以去掉</span></span></span><br><span class="line">       &#125;</span><br><span class="line"><span class="actionscript">       <span class="comment">// 加载图片</span></span></span><br><span class="line">       loadImage(el, index) &#123;</span><br><span class="line"><span class="actionscript">           <span class="comment">// 获取之前设置好的data-original值</span></span></span><br><span class="line"><span class="javascript">           <span class="keyword">let</span> src = el.getAttribute(<span class="string">'data-original'</span>);</span></span><br><span class="line"><span class="actionscript">           <span class="comment">// 赋值到src，从而请求资源</span></span></span><br><span class="line">           el.src = src;</span><br><span class="line"><span class="actionscript">           <span class="comment">// 避免重复判断，已经确定加载的图片应当从imglist移除</span></span></span><br><span class="line"><span class="actionscript">           <span class="keyword">this</span>.imglist.splice(index, <span class="number">1</span>);</span></span><br><span class="line">       &#125;</span><br><span class="line"><span class="actionscript">       <span class="comment">// 当浏览器滚动的时候，继续判断</span></span></span><br><span class="line">       bindEvent() &#123;</span><br><span class="line"><span class="javascript">           <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, () =&gt; &#123;</span></span><br><span class="line"><span class="actionscript">               <span class="keyword">this</span>.imglist.length &amp;&amp; <span class="keyword">this</span>.canILoad();</span></span><br><span class="line">           &#125;);</span><br><span class="line">       &#125;</span><br><span class="line"><span class="actionscript">       <span class="comment">// 初始化</span></span></span><br><span class="line">       init() &#123;</span><br><span class="line"><span class="actionscript">           <span class="keyword">this</span>.canILoad();</span></span><br><span class="line"><span class="actionscript">           <span class="keyword">this</span>.bindEvent();</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="actionscript">   <span class="comment">// 实例化对象，参数则是需要使用懒加载的图片类名</span></span></span><br><span class="line"><span class="actionscript">   <span class="keyword">const</span> lazy = <span class="keyword">new</span> LazyLoad(<span class="string">'.lazyload'</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="14、data-用户自定义属性"><a href="#14、data-用户自定义属性" class="headerlink" title="14、data-*:用户自定义属性"></a>14、data-*:用户自定义属性</h3><h3 id="15、动画插件animate-css-WoW-js"><a href="#15、动画插件animate-css-WoW-js" class="headerlink" title="15、动画插件animate.css+WoW.js"></a>15、动画插件animate.css+WoW.js</h3><h4 id="animate-css"><a href="#animate-css" class="headerlink" title="animate.css"></a>animate.css</h4><p>参考网站：<a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">https://daneden.github.io/animate.css/</a></p>
<p>代码示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/animate.css/3.7.0/animate.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container animated bounceInDown"</span>&gt;</span></span><br><span class="line">        童鞋们好！</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wow-js"><a href="#wow-js" class="headerlink" title="wow.js"></a>wow.js</h4><p>参考网站：<a href="https://www.delac.io/wow/" target="_blank" rel="noopener">https://www.delac.io/wow/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data-wow-duration: 动画持续时间</span><br><span class="line">data-wow-delay: 动画延时加载</span><br><span class="line">data-wow-offset: 动画离浏览器底多少距离开始实施动画</span><br><span class="line">data-wow-iteration: 动画重复的次数</span><br></pre></td></tr></table></figure>

<p>代码示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"wow slideInLeft"</span> <span class="attr">data-wow-duration</span>=<span class="string">"2s"</span> <span class="attr">data-wow-delay</span>=<span class="string">"5s"</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"wow slideInRight"</span> <span class="attr">data-wow-offset</span>=<span class="string">"10"</span>  <span class="attr">data-wow-iteration</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="16、动态加载菜单项（Node-js操作JSON文件）"><a href="#16、动态加载菜单项（Node-js操作JSON文件）" class="headerlink" title="16、动态加载菜单项（Node.js操作JSON文件）"></a>16、动态加载菜单项（Node.js操作JSON文件）</h3><h4 id="16-1-方法一（加载JSON文件实现）"><a href="#16-1-方法一（加载JSON文件实现）" class="headerlink" title="16.1 方法一（加载JSON文件实现）"></a>16.1 方法一（加载JSON文件实现）</h4><h5 id="16-1-1-数据如下（menu-json-："><a href="#16-1-1-数据如下（menu-json-：" class="headerlink" title="16.1.1 数据如下（menu.json)："></a>16.1.1 数据如下（menu.json)：</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"menu"</span>:<span class="string">"Home"</span>,</span><br><span class="line">    <span class="attr">"submenu"</span>:[<span class="string">"Yogo studion"</span>,<span class="string">"Fitness club"</span>,<span class="string">"Gym"</span>,<span class="string">"Health club"</span>,<span class="string">"Coach"</span>,<span class="string">"Dance"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"menu"</span>:<span class="string">"Pages"</span>,</span><br><span class="line">    <span class="attr">"submenu"</span>:[<span class="string">"About Us"</span>,<span class="string">"Services"</span>,<span class="string">"Reservations"</span>,<span class="string">"Pricing Tables"</span>,<span class="string">"Our Team"</span>,<span class="string">"Content Elements"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"menu"</span>:<span class="string">"Events"</span>,</span><br><span class="line">    <span class="attr">"submenu"</span>:[<span class="string">"All Events"</span>,<span class="string">"Events One"</span>,<span class="string">"Events Two"</span>,<span class="string">"Events Three"</span>,<span class="string">"Events Four"</span>,<span class="string">"Single Event"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"menu"</span>:<span class="string">"PORTFOLIO"</span>,</span><br><span class="line">    <span class="attr">"submenu"</span>:[<span class="string">"Column 3 Cols"</span>,<span class="string">"Column 4 Cols Wide"</span>,<span class="string">"4 Cols Masonry"</span>,<span class="string">"Four Columns"</span>,<span class="string">"Gallery"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"menu"</span>:<span class="string">"BLOG"</span>,</span><br><span class="line">    <span class="attr">"submenu"</span>:[<span class="string">"About Us"</span>,<span class="string">"Services"</span>,<span class="string">"Reservations"</span>,<span class="string">"Pricing Tables"</span>,<span class="string">"Our Team"</span>,<span class="string">"Content Elements"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>　　<strong>注意：</strong>（1）单独的JSON文件中不能出现注释语句；（2）键和值必须用双引号引起来，不能用单引号，如果值是数值或逻辑类型，就不加引号；（3）不要加多余的标点符号。</p>
<h5 id="16-1-2-后台路由配置和JSON文件读取："><a href="#16-1-2-后台路由配置和JSON文件读取：" class="headerlink" title="16.1.2 后台路由配置和JSON文件读取："></a>16.1.2 后台路由配置和JSON文件读取：</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/menu'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> file = <span class="string">'./public/data/menu.json'</span>;</span><br><span class="line">    <span class="comment">//读取json文件</span></span><br><span class="line">    fs.readFile(file, <span class="string">'utf-8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            res.send(&#123;<span class="attr">error_code</span>:<span class="number">1</span>&#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                error_code:<span class="number">0</span>,</span><br><span class="line">                data:<span class="built_in">JSON</span>.parse(data)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>在html文档中引入template.js。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/template.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="16-1-3-定义模板"><a href="#16-1-3-定义模板" class="headerlink" title="16.1.3 定义模板"></a>16.1.3 定义模板</h5><p>参考网站：<a href="http://www.jq22.com/jquery-info1097" target="_blank" rel="noopener">http://www.jq22.com/jquery-info1097</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">    &#123;&#123; each data &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123;$value.menu&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"submenu"</span>&gt;</span></span><br><span class="line">            &#123;&#123; each $value.submenu &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>&#123;&#123; $value &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            &#123;&#123; /each &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    &#123;&#123; /each &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>或：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">"menu"</span> <span class="attr">type</span>=<span class="string">"text/html"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    </span><span class="template-variable">&#123;&#123; <span class="builtin-name">each</span> data &#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span></span><span class="template-variable">&#123;&#123; $value.menu &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">        &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"submenu"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">            </span><span class="template-variable">&#123;&#123; <span class="builtin-name">each</span> $value.submenu &#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span></span><span class="template-variable">&#123;&#123; $value&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            </span><span class="template-variable">&#123;&#123; /<span class="builtin-name">each</span> &#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    </span><span class="template-variable">&#123;&#123; /<span class="builtin-name">each</span> &#125;&#125;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="16-1-4-JS处理"><a href="#16-1-4-JS处理" class="headerlink" title="16.1.4 JS处理"></a>16.1.4 JS处理</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/template.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">        url:<span class="string">'/menu'</span> </span></span><br><span class="line"><span class="actionscript">    &#125;).then(<span class="function"><span class="keyword">function</span> <span class="params">(rs)</span> </span>&#123;</span></span><br><span class="line">        if(!rs.error_data)&#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> html = template(<span class="string">'menu'</span>,rs);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.menu'</span>).html(html)</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="16-2-方法二（MySQL数据库实现）"><a href="#16-2-方法二（MySQL数据库实现）" class="headerlink" title="16.2 方法二（MySQL数据库实现）"></a>16.2 方法二（MySQL数据库实现）</h4><h5 id="16-2-1-数据表（menu）"><a href="#16-2-1-数据表（menu）" class="headerlink" title="16.2.1 数据表（menu）"></a>16.2.1 数据表（menu）</h5><p>​    结构如下：</p>
<p><img src="menu%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%BB%93%E6%9E%84.png" alt=""></p>
<p>​    表数据如下：</p>
<p><img src="menu%E6%95%B0%E6%8D%AE%E8%A1%A8.png" alt="2"></p>
<h5 id="16-2-2-前端代码实现"><a href="#16-2-2-前端代码实现" class="headerlink" title="16.2.2 前端代码实现"></a>16.2.2 前端代码实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;header&gt;&lt;&#x2F;header&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script id&#x3D;&quot;menu&quot; type&#x3D;&quot;text&#x2F;html&quot;&gt;</span><br><span class="line">        &lt;ul class&#x3D;&quot;menu&quot;&gt;</span><br><span class="line">            &lt;!--一级菜单--&gt;</span><br><span class="line">            &#123;&#123; each data as menus &#125;&#125;</span><br><span class="line">                &#123;&#123;if menus.submenu !&#x3D;&#x3D; null&#125;&#125;</span><br><span class="line">                    &lt;li&gt;&lt;a href&#x3D;&quot;javascript:&quot;&gt;&#123;&#123; menus.menu &#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                        &lt;ul class&#x3D;&quot;submenu&quot;&gt;</span><br><span class="line">                            &lt;!--二级菜单--&gt;</span><br><span class="line">                            &#123;&#123; each menus.submenu &#125;&#125;</span><br><span class="line">                            &lt;li&gt;&lt;a href&#x3D;&quot;html&#x2F;&#123;&#123;menus.menu&#125;&#125;&#x2F;&#123;&#123;menus.url[$index]&#125;&#125;&quot;&gt;&#123;&#123; $value &#125;&#125;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">                            &#123;&#123; &#x2F;each &#125;&#125;</span><br><span class="line">                        &lt;&#x2F;ul&gt;</span><br><span class="line">                    &lt;&#x2F;li&gt;</span><br><span class="line">                &#123;&#123; else &#125;&#125;</span><br><span class="line">                    &lt;li&gt;&lt;a href&#x3D;&quot;html&#x2F;contacts&#x2F;&#123;&#123; menus.url[0] &#125;&#125;&quot;&gt;&#123;&#123; menus.menu &#125;&#125;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &#123;&#123; &#x2F;if &#125;&#125;</span><br><span class="line">            &#123;&#123; &#x2F;each &#125;&#125;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;jquery&#x2F;3.4.1&#x2F;jquery.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;template.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:&#39;http:&#x2F;&#x2F;47.105.51.229&#x2F;promenu&#39;</span><br><span class="line">    &#125;).then(res&#x3D;&gt;&#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">        if(res.code &#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">            var txt &#x3D; template(&#39;menu&#39;,res);</span><br><span class="line">            $(&#39;header&#39;).html(txt);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="16-2-3-后台代码实现"><a href="#16-2-3-后台代码实现" class="headerlink" title="16.2.3 后台代码实现"></a>16.2.3 后台代码实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">router.get(&#39;&#x2F;promenu&#39;,function(req,res)&#123;</span><br><span class="line">    conn.query(&#39;select * from menu&#39;,(err,rs)&#x3D;&gt;&#123;</span><br><span class="line">        if(!err)&#123;</span><br><span class="line">            rs.forEach(v&#x3D;&gt;&#123;</span><br><span class="line">                if(v.submenu !&#x3D;&#x3D; null)&#123;</span><br><span class="line">                   v.submenu &#x3D;v.submenu.split(&#39;,&#39;) </span><br><span class="line">                &#125;</span><br><span class="line">                if(v.url !&#x3D;&#x3D; null)&#123;</span><br><span class="line">                   v.url &#x3D;v.url.split(&#39;,&#39;) </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                code:&#39;0&#39;,</span><br><span class="line">                data:rs</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                code:&#39;1&#39;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="17、正则表达式"><a href="#17、正则表达式" class="headerlink" title="17、正则表达式"></a>17、正则表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">\	将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“n”匹配字符“n”。“\n”匹配一个换行符。串行“\\”匹配“\”而“\(”则匹配“(”。</span><br><span class="line">^	匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“\n”或“\r”之后的位置。</span><br><span class="line">$	匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“\n”或“\r”之前的位置。</span><br><span class="line">*	匹配前面的子表达式零次或多次。例如，zo*能匹配“z”以及“zoo”。*等价于&#123;0,&#125;。</span><br><span class="line">+	匹配前面的子表达式一次或多次。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于&#123;1,&#125;。</span><br><span class="line">?	匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“does”或“does”中的“do”。?等价于&#123;0,1&#125;。</span><br><span class="line">&#123;n&#125;	n是一个非负整数。匹配确定的n次。例如，“o&#123;2&#125;”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</span><br><span class="line">&#123;n,&#125;	n是一个非负整数。至少匹配n次。例如，“o&#123;2,&#125;”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o&#123;1,&#125;”等价于“o+”。“o&#123;0,&#125;”则等价于“o*”。</span><br><span class="line">&#123;n,m&#125;	m和n均为非负整数，其中n&lt;&#x3D;m。最少匹配n次且最多匹配m次。例如，“o&#123;1,3&#125;”将匹配“fooooood”中的前三个o。“o&#123;0,1&#125;”等价于“o?”。请注意在逗号和两个数之间不能有空格。</span><br><span class="line">?	当该字符紧跟在任何一个其他限制符（*,+,?，&#123;n&#125;，&#123;n,&#125;，&#123;n,m&#125;）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。</span><br><span class="line">.	匹配除“\n”之外的任何单个字符。要匹配包括“\n”在内的任何字符，请使用像“(.|\n)”的模式。</span><br><span class="line">(pattern)	匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“\(”或“\)”。</span><br><span class="line">(?:pattern)	匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“(|)”来组合一个模式的各个部分是很有用。例如“industr(?:y|ies)”就是一个比“industry|industries”更简略的表达式。</span><br><span class="line">(?&#x3D;pattern)	正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?&#x3D;95|98|NT|2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</span><br><span class="line">(?!pattern)	正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“Windows(?!95|98|NT|2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始</span><br><span class="line">(?&lt;&#x3D;pattern)	反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“(?&lt;&#x3D;95|98|NT|2000)Windows”能匹配“2000Windows”中的“Windows”，但不能匹配“3.1Windows”中的“Windows”。</span><br><span class="line">(?&lt;!pattern)	反向否定预查，与正向否定预查类拟，只是方向相反。例如“(?&lt;!95|98|NT|2000)Windows”能匹配“3.1Windows”中的“Windows”，但不能匹配“2000Windows”中的“Windows”。</span><br><span class="line">x|y	匹配x或y。例如，“z|food”能匹配“z”或“food”。“(z|f)ood”则匹配“zood”或“food”。</span><br><span class="line">[xyz]	字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。</span><br><span class="line">[^xyz]	负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“p”。</span><br><span class="line">[a-z]	字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</span><br><span class="line">[^a-z]	负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符。</span><br><span class="line">\b	匹配一个单词边界，也就是指单词和空格间的位置。例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。</span><br><span class="line">\B	匹配非单词边界。“er\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。</span><br><span class="line">\cx	匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。</span><br><span class="line">\d	匹配一个数字字符。等价于[0-9]。</span><br><span class="line">\D	匹配一个非数字字符。等价于[^0-9]。</span><br><span class="line">\f	匹配一个换页符。等价于\x0c和\cL。</span><br><span class="line">\n	匹配一个换行符。等价于\x0a和\cJ。</span><br><span class="line">\r	匹配一个回车符。等价于\x0d和\cM。</span><br><span class="line">\s	匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。</span><br><span class="line">\S	匹配任何非空白字符。等价于[^ \f\n\r\t\v]。</span><br><span class="line">\t	匹配一个制表符。等价于\x09和\cI。</span><br><span class="line">\v	匹配一个垂直制表符。等价于\x0b和\cK。</span><br><span class="line">\w	匹配包括下划线的任何单词字符。等价于“[A-Za-z0-9_]”。</span><br><span class="line">\W	匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。</span><br><span class="line">\xn	匹配n，其中n为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\x41”匹配“A”。“\x041”则等价于“\x04&amp;1”。正则表达式中可以使用ASCII编码。.</span><br><span class="line">\num	匹配num，其中num是一个正整数。对所获取的匹配的引用。例如，“(.)\1”匹配两个连续的相同字符。</span><br><span class="line">\n	标识一个八进制转义值或一个向后引用。如果\n之前至少n个获取的子表达式，则n为向后引用。否则，如果n为八进制数字（0-7），则n为一个八进制转义值。</span><br><span class="line">\nm	标识一个八进制转义值或一个向后引用。如果\nm之前至少有nm个获得子表达式，则nm为向后引用。如果\nm之前至少有n个获取，则n为一个后跟文字m的向后引用。如果前面的条件都不满足，若n和m均为八进制数字（0-7），则\nm将匹配八进制转义值nm。</span><br><span class="line">\nml	如果n为八进制数字（0-3），且m和l均为八进制数字（0-7），则匹配八进制转义值nml。</span><br><span class="line">\un	匹配n，其中n是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。</span><br><span class="line">常用正则表达式</span><br><span class="line">用户名	&#x2F;^[A-Z][A-Za-z0-9_\-]&#123;3,16&#125;$&#x2F;   </span><br><span class="line">密码	&#x2F;^[a-z0-9_-]&#123;6,18&#125;$&#x2F;</span><br><span class="line">十六进制值	&#x2F;^#?([a-f0-9]&#123;6&#125;|[a-f0-9]&#123;3&#125;)$&#x2F;</span><br><span class="line">电子邮箱	&#x2F;^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)$&#x2F;</span><br><span class="line">&#x2F;^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.&#123;1,2&#125;[a-z]+)+$&#x2F;</span><br><span class="line">URL	&#x2F;^(https?:\&#x2F;\&#x2F;)?([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)([\&#x2F;\w \.-]*)*\&#x2F;?$&#x2F;</span><br><span class="line">IP 地址	&#x2F;((2[0-4]\d|25[0-5]|[01]?\d\d?)\.)&#123;3&#125;(2[0-4]\d|25[0-5]|[01]?\d\d?)&#x2F;</span><br><span class="line">&#x2F;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&#x2F;</span><br><span class="line">HTML 标签	&#x2F;^&lt;([a-z]+)([^&lt;]+)*(?:&gt;(.*)&lt;\&#x2F;\1&gt;|\s+\&#x2F;&gt;)$&#x2F;</span><br><span class="line">删除代码\\注释	(?&lt;!http:|\S)&#x2F;&#x2F;.*$</span><br><span class="line">Unicode编码中的汉字范围	&#x2F;^[\u2E80-\u9FFF]+$&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"account"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"account"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> input = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">    input.onblur = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">         <span class="keyword">if</span>(!<span class="regexp">/^[^\u4e00-\u9fa5]&#123;3,&#125;$/</span>.test(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>].value))&#123;</span></span><br><span class="line"><span class="javascript">             <span class="built_in">document</span>.getElementsByClassName(<span class="string">'account'</span>)[<span class="number">0</span>].innerHTML = <span class="string">'您输入的帐号有误！'</span>;</span></span><br><span class="line">             input.focus();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="18、必应地图（微软提供的）"><a href="#18、必应地图（微软提供的）" class="headerlink" title="18、必应地图（微软提供的）"></a>18、必应地图（微软提供的）</h3><p>参考网站：</p>
<p>注册：<a href="https://www.cnblogs.com/aiyunyun/p/6292567.html?utm_source=itdadao&amp;utm_medium=referral" target="_blank" rel="noopener">https://www.cnblogs.com/aiyunyun/p/6292567.html?utm_source=itdadao&amp;utm_medium=referral</a></p>
<p>地图API：<a href="https://cn.bing.com/api/maps/sdkrelease/mapcontrol/isdk#SearchModule2" target="_blank" rel="noopener">https://cn.bing.com/api/maps/sdkrelease/mapcontrol/isdk#SearchModule2</a></p>
<p>代码参考：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>loadmapwithoptionsHTML<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">'Content-Type'</span> <span class="attr">content</span>=<span class="string">'text/html; charset=utf-8'</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">'text/css'</span>&gt;</span><span class="css"><span class="selector-tag">body</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">overflow</span>:hidden;<span class="attribute">font-family</span>:<span class="string">'Segoe UI'</span>,Helvetica,Arial,Sans-Serif&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'myMap'</span> <span class="attr">style</span>=<span class="string">'width: 100vw; height: 100vh;'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span> <span class="attr">src</span>=<span class="string">'https://cn.bing.com/api/maps/mapcontrol?key=Au83-_DMxgCdCFb_LLlcRdRARu46QLEfTR-c6KS_EOG3OYQRw-v6Lyd1UGmnWDi6 &amp;callback=loadMapScenario'</span> <span class="attr">async</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">loadMapScenario</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> map = <span class="keyword">new</span> Microsoft.Maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'myMap'</span>), &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">/* No need to set credentials if already passed in URL */</span></span></span><br><span class="line"><span class="actionscript">            center: <span class="keyword">new</span> Microsoft.Maps.Location(<span class="number">51.50632</span>, <span class="number">-0.12714</span>),</span></span><br><span class="line">            mapTypeId: Microsoft.Maps.MapTypeId.aerial,</span><br><span class="line">            zoom: 10 &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>项目中参考代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadMapScenario</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> map = <span class="keyword">new</span> Microsoft.Maps.Map(<span class="built_in">document</span>.getElementById(<span class="string">'myMap'</span>), &#123;</span><br><span class="line">            center: <span class="keyword">new</span> Microsoft.Maps.Location(<span class="number">41.0907918018</span>, <span class="number">-73.9166539907</span>),</span><br><span class="line">            mapTypeId: Microsoft.Maps.MapTypeId.aerial,</span><br><span class="line">            zoom: <span class="number">12</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*自定义图钉*/</span></span><br><span class="line">        <span class="keyword">var</span> pushpin = <span class="keyword">new</span> Microsoft.Maps.Pushpin(map.getCenter(), &#123;</span><br><span class="line">            icon: <span class="string">'../../img/contacts/Contacts_04.png'</span>,</span><br><span class="line">            anchor: <span class="keyword">new</span> Microsoft.Maps.Point(<span class="number">12</span>, <span class="number">39</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        map.entities.push(pushpin);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="19、MySQL是一个个人关系数据库。"><a href="#19、MySQL是一个个人关系数据库。" class="headerlink" title="19、MySQL是一个个人关系数据库。"></a>19、MySQL是一个个人关系数据库。</h3><p>​    MySQl用的是SQL语言，SQL Server用的是T-SQL语言，Oracle用的是PL_SQL语言。</p>
<p>​    下载：<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p>
<p>​    可视化操作界面软件</p>
<p>​    下载：<a href="https://www.navicat.com.cn/products#navicat" target="_blank" rel="noopener">https://www.navicat.com.cn/products#navicat</a></p>
<h4 id="1）启动-停止mysql服务。"><a href="#1）启动-停止mysql服务。" class="headerlink" title="1）启动/停止mysql服务。"></a>1）启动/停止mysql服务。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br><span class="line">net stop mysql</span><br></pre></td></tr></table></figure>

<h4 id="2）数据类型"><a href="#2）数据类型" class="headerlink" title="2）数据类型"></a>2）数据类型</h4><p>​    char：定长，</p>
<p>​    varchar：变长</p>
<p>​    字符型必须要给出具体长度，而数值型除decimal外，日期型，text等，不需要给出长度，系统会默认。</p>
<h4 id="3）数据库备份"><a href="#3）数据库备份" class="headerlink" title="3）数据库备份"></a>3）数据库备份</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;mysqldump –u用户名 –p 数据库名&gt;文件名.sql</span><br><span class="line">c:\&gt;mysqldump –u用户名 –p 数据库名 数据表名&gt;文件名.sql</span><br></pre></td></tr></table></figure>

<h4 id="4）数据库恢复"><a href="#4）数据库恢复" class="headerlink" title="4）数据库恢复"></a>4）数据库恢复</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">先创建新的数据库</span><br><span class="line">c:\&gt;mysql -u用户名 –p 新数据库名 &lt; 文件名.sql</span><br></pre></td></tr></table></figure>

<p>​    注意：必须退出mysql的登录，回到盘符下再操作！！！</p>
<h4 id="5）表操作"><a href="#5）表操作" class="headerlink" title="5）表操作"></a>5）表操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">添加数据：</span><br><span class="line">	插入1行：insert into 表名(列名1,列名2....) values（表达式1，表达式2....)</span><br><span class="line">	如果插入1行数据用values，插入多行用value，因为响应时间不一样。									https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_26683009&#x2F;article&#x2F;details&#x2F;52526834</span><br><span class="line">	插入多行：insert into 表名(列名1,列名2....) value（表达式1，表达式2....),（表达式1，表达式2....),...... </span><br><span class="line">删除数据：</span><br><span class="line">	delete from 表名 [where &lt;条件&gt;]</span><br><span class="line">	trancate table 表名   不能加条件，将把指定的数据表中的数据全部删除，但结构仍在。</span><br><span class="line">更新数据：</span><br><span class="line">	update 表名 set 列名1 &#x3D; 表达式1[,列名2 &#x3D; 表达式2，......][where &lt;条件&gt;]</span><br><span class="line">数据查询：</span><br><span class="line">	select [distinct][*|列名表 [as[别名]]]</span><br><span class="line">	from 表名1 [as [别名]],表名2...</span><br><span class="line">	where &lt;条件&gt; （谓词:between...and,in,any,all,some....）（关系运算符：&gt;,&lt;,&gt;&#x3D;,&lt;&#x3D;,!&#x3D;,&lt;&gt;,&#x3D;）</span><br><span class="line">	group by 列名表</span><br><span class="line">	having &lt;分组条件&gt;  (分组条件通常是带集合函数(sum,avg,count,max,min...)的条件)</span><br><span class="line">	order by 列名1[asc|desc],列名2[asc|desc]  排序</span><br><span class="line">多表查询：</span><br><span class="line">	a.</span><br><span class="line">	select username,b.name,salary</span><br><span class="line">    from user a,work b</span><br><span class="line">    where a.name &#x3D; b.name</span><br><span class="line">    b.</span><br><span class="line">    select username,b.name,salary</span><br><span class="line">	from user a join work b on a.name &#x3D; b.name join checkon c on c.id &#x3D; b.id</span><br><span class="line">	</span><br><span class="line">创建视图（虚拟表：一般由单张或多张基表（物理表）派生出来的一张表，它依赖于原物理表）</span><br><span class="line">	create view v_user_work_chk as </span><br><span class="line">		select username,b.name,salary,checkinTime</span><br><span class="line">		from user a join work b on a.name &#x3D; b.name join checkon c on c.name &#x3D; b.&#96;name&#96;</span><br><span class="line"></span><br><span class="line">利用视图查询：		</span><br><span class="line">	select * from  v_user_work_chk 		</span><br><span class="line">删除视图：</span><br><span class="line">	drop view 视图名表</span><br></pre></td></tr></table></figure>

<h4 id="6）每张表必须要有主键，如果要将多张表连接起来，必须要设置外键。"><a href="#6）每张表必须要有主键，如果要将多张表连接起来，必须要设置外键。" class="headerlink" title="6）每张表必须要有主键，如果要将多张表连接起来，必须要设置外键。"></a>6）每张表必须要有主键，如果要将多张表连接起来，必须要设置外键。</h4><p>要先创建约束，然后再输入数据，如果有外键，一定是先输入主表的数据，再输入子表（外键所在表）的数据。</p>
<h4 id="7）添加外键命令"><a href="#7）添加外键命令" class="headerlink" title="7）添加外键命令"></a>7）添加外键命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table admin add foreign key(teamId) REFERENCES coach(teamId)</span><br></pre></td></tr></table></figure>

<h4 id="8）数据库连接及相关增删改查操作"><a href="#8）数据库连接及相关增删改查操作" class="headerlink" title="8）数据库连接及相关增删改查操作"></a>8）数据库连接及相关增删改查操作</h4><h5 id="I）查询"><a href="#I）查询" class="headerlink" title="I）查询"></a>I）查询</h5><p>a.conn.js</p>
<p>参考网站：<a href="https://github.com/mysqljs/mysql" target="_blank" rel="noopener">https://github.com/mysqljs/mysql</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、引入mysql模块</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、创建数据库连接对象</span></span><br><span class="line"><span class="keyword">let</span> conn = mysql.createConnection(&#123;</span><br><span class="line">    host:<span class="string">'localhost'</span>,</span><br><span class="line">    user:<span class="string">'root'</span>,</span><br><span class="line">    password:<span class="string">'admin'</span>,</span><br><span class="line">    database:<span class="string">'yoga'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 3、抛出conn数据库连接对象conn</span></span><br><span class="line"><span class="built_in">module</span>.exports = conn;</span><br></pre></td></tr></table></figure>

<p>b.在index.js中引入conn.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> conn = <span class="built_in">require</span>(<span class="string">'../public/js/conn'</span>);</span><br></pre></td></tr></table></figure>

<p>c.在index.html中建立数据库连接</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conn.connect(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'数据库连接成功！'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>d.创建路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/coach'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    conn.query(<span class="string">'select * from coach'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">err, rs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                code:<span class="number">0</span>,</span><br><span class="line">                data:rs</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                code:<span class="number">1</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>e.书写html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"coach"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>f.定义模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--coach info--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"coach"</span>&gt;</span></span><br><span class="line">    &#123;&#123; each data &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&#123;&#123; $value.coachPhoto &#125;&#125;"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $value.coachName &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $value.coachExp &#125;&#125; years of experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    &#123;&#123; /each &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>g.前端发请，求并渲染模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">'/coach'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">rs</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(rs);</span><br><span class="line">    <span class="keyword">var</span> html = template(<span class="string">'coach'</span>,rs);</span><br><span class="line">    $(<span class="string">'.coach'</span>).html(html);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;<span class="comment">//捕获异常</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'数据请求失败'</span>,error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="II）添加"><a href="#II）添加" class="headerlink" title="II）添加"></a>II）添加</h5><p>a.html代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">span</span><span class="selector-class">.usr</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>:<span class="selector-id">#f00</span>;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    帐号：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"account"</span> <span class="attr">maxlength</span>=<span class="string">"8"</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"usr"</span>&gt;</span>账号由字母、数字、下划线组成，6-8位<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"register"</span> <span class="attr">value</span>=<span class="string">"注册"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/1.10.2/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> objUsr = $(<span class="string">'input'</span>).eq(<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> objPwd = $(<span class="string">'input'</span>).eq(<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">    $(objUsr).blur(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="regexp">/^\w&#123;6,8&#125;$/</span>.test($(<span class="string">'input'</span>).eq(<span class="number">0</span>).val()))&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'span.usr'</span>).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'span.usr'</span>).css(<span class="string">'display'</span>,<span class="string">'block'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    $(<span class="string">'.register'</span>).click(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">           <span class="comment">/* type:'post',*/</span></span></span><br><span class="line"><span class="actionscript">            url:<span class="string">'/reg'</span>,</span></span><br><span class="line">            /*data:&#123;</span><br><span class="line"><span class="javascript">                usr:$(<span class="string">'input'</span>).eq(<span class="number">0</span>).val(),</span></span><br><span class="line"><span class="javascript">                pwd:$(<span class="string">'input'</span>).eq(<span class="number">1</span>).val()</span></span><br><span class="line">            &#125;*/</span><br><span class="line"><span class="javascript">            data:$(<span class="string">'form'</span>).serialize()<span class="comment">//serialize序列化，它绑定的对象必须是form，表单组件必须有name属性</span></span></span><br><span class="line"><span class="javascript">        &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(res == <span class="string">'success'</span>)&#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">'注册成功！'</span>);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">'注册失败！'</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b.后台代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册</span></span><br><span class="line">router.post(<span class="string">'/reg'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> usr = req.body.usr;<span class="comment">//get请求用req.query拿数据，post请求用req.body拿数据,/reg/:id 拿参数id的值用req.params.id</span></span><br><span class="line">    <span class="keyword">let</span> pwd = req.body.pwd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 写法1：</span></span><br><span class="line"><span class="comment">    conn.query('insert into admin(username,password) values(?,?)',[usr,pwd],function (err, rs) &#123;</span></span><br><span class="line"><span class="comment">        if(err)&#123;</span></span><br><span class="line"><span class="comment">            res.send('error');</span></span><br><span class="line"><span class="comment">        &#125;else&#123;</span></span><br><span class="line"><span class="comment">            res.send('success');</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &#125;)*/</span></span><br><span class="line">    <span class="comment">/* 写法2 */</span></span><br><span class="line">    conn.query(<span class="string">`insert into admin(username,password) values('<span class="subst">$&#123;usr&#125;</span>','<span class="subst">$&#123;pwd&#125;</span>')`</span>,<span class="function"><span class="keyword">function</span> (<span class="params">err, rs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            res.send(<span class="string">'error'</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.send(<span class="string">'success'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="III）删除"><a href="#III）删除" class="headerlink" title="III）删除"></a>III）删除</h5><p>a.html代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"coach"</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>经验<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>照片<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b.定义模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"coach"</span>&gt;</span></span><br><span class="line">    &#123;&#123; each data &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"coach-no&#123;&#123;$index&#125;&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $index + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachName &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachSex &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachExp &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&#123;&#123; $value.coachPhoto &#125;&#125;"</span> <span class="attr">alt</span>=<span class="string">"&#123;&#123; $value.coachName &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">onclick</span>=<span class="string">"del(&#123;&#123; $index &#125;&#125;,&#123;&#123; $value.teamId &#125;&#125;)"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    &#123;&#123; /each &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c.js代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">index,tId</span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">'/delCoach?teamId='</span>+tId</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">        <span class="keyword">if</span>(res === <span class="string">'success'</span>)&#123;</span><br><span class="line">            <span class="comment">// getCoachInfo();</span></span><br><span class="line">            <span class="comment">//console.log($('.coach-no'+index));</span></span><br><span class="line">            $(<span class="string">'.coach-no'</span>+index).remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>d.后台代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/delCoach'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> tId = req.query.teamId;</span><br><span class="line">    <span class="comment">// console.log(tId)</span></span><br><span class="line">    conn.query(<span class="string">'delete from coach where teamId = ?'</span>,tId,<span class="function"><span class="keyword">function</span> (<span class="params">err, rs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            res.send(<span class="string">'error'</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.send(<span class="string">'success'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="IV）修改"><a href="#IV）修改" class="headerlink" title="IV）修改"></a>IV）修改</h5><p>a.html代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"coach"</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>经验<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>照片<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b.定义模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"coach"</span>&gt;</span></span><br><span class="line">    &#123;&#123; each data &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"coach-no&#123;&#123;$index&#125;&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $index + 1 &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachName &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachSex &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.coachExp &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&#123;&#123; $value.coachPhoto &#125;&#125;"</span> <span class="attr">alt</span>=<span class="string">"&#123;&#123; $value.coachName &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span> <span class="attr">onclick</span>=<span class="string">"edit(&#123;&#123; $index &#125;&#125;,&#123;&#123; $value.teamId &#125;&#125;)"</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">onclick</span>=<span class="string">"del(&#123;&#123; $index &#125;&#125;,&#123;&#123; $value.teamId &#125;&#125;)"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"###"</span> <span class="attr">class</span>=<span class="string">"ok"</span>&gt;</span>确认<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    &#123;&#123; /each &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c.js代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">edit</span>(<span class="params">index, tId</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'.cancel'</span>).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">    $(<span class="string">'.ok'</span>).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">    $(<span class="string">'.cancel'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'block'</span>);</span><br><span class="line">    $(<span class="string">'.ok'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'block'</span>);</span><br><span class="line">    $(<span class="string">'.coach'</span>).find(<span class="string">'td'</span>).removeAttr(<span class="string">'contentEditAble'</span>);</span><br><span class="line">    $(<span class="string">'.coach-no'</span>+index).find(<span class="string">'td'</span>).attr(<span class="string">'contentEditAble'</span>,<span class="string">''</span>);</span><br><span class="line">    <span class="keyword">let</span> txt = [];</span><br><span class="line">    <span class="keyword">let</span> tdList = $(<span class="string">'.coach-no'</span>+index);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt; tdList.find(<span class="string">'td'</span>).length - <span class="number">2</span>;i++)&#123;</span><br><span class="line">        txt.push(tdList.find(<span class="string">'td'</span>).eq(i).html())</span><br><span class="line">    &#125;</span><br><span class="line">    $(<span class="string">'.cancel'</span>).click(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt; tdList.find(<span class="string">'td'</span>).length - <span class="number">2</span>;i++)&#123;</span><br><span class="line">            tdList.find(<span class="string">'td'</span>).eq(i).html(txt[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">'.cancel'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">        $(<span class="string">'.ok'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">'.ok'</span>).click(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> newTxt = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt; tdList.find(<span class="string">'td'</span>).length - <span class="number">2</span>;i++)&#123;</span><br><span class="line">            newTxt.push(tdList.find(<span class="string">'td'</span>).eq(i).html())</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//console.log(newTxt)</span></span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            url:<span class="string">'/updateCoach'</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">                teamId:tId,</span><br><span class="line">                coachName:newTxt[<span class="number">0</span>],</span><br><span class="line">                coachSex:newTxt[<span class="number">1</span>],</span><br><span class="line">                coachExp:newTxt[<span class="number">2</span>],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(res==<span class="string">'success'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'数据修改成功！'</span>);</span><br><span class="line">                $(<span class="string">'.cancel'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">                $(<span class="string">'.ok'</span>).eq(index).css(<span class="string">'display'</span>,<span class="string">'none'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                alert(<span class="string">'数据修改失败！'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>d.后台代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/updateCoach'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> tId = req.query.teamId;</span><br><span class="line">    <span class="keyword">let</span> name = req.query.coachName;</span><br><span class="line">    <span class="keyword">let</span> sex = req.query.coachSex;</span><br><span class="line">    <span class="keyword">let</span> exp = req.query.coachExp;</span><br><span class="line">    <span class="comment">//console.log(tId,name,sex,exp)</span></span><br><span class="line">    conn.query(<span class="string">'update coach set coachName=?, coachSex=?,coachExp=? where teamId = ?'</span>,[name,sex,exp,tId],<span class="function"><span class="keyword">function</span> (<span class="params">err, rs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            res.send(<span class="string">'error'</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.send(<span class="string">'success'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="V）分页"><a href="#V）分页" class="headerlink" title="V）分页"></a>V）分页</h5><p>a.前端代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        li &#123;</span><br><span class="line">            list-style-type: none;</span><br><span class="line">            float: left;</span><br><span class="line">            width: 30px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"goods"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"pages"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/1.10.2/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">        url: <span class="string">'/coach/0'</span></span></span><br><span class="line"><span class="javascript">    &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(res);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> pageSize = <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">Math</span>.ceil(res.len / pageSize); i++) &#123;<span class="comment">//7</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'ul.pages'</span>).append(<span class="string">'&lt;li&gt;'</span> + (i + <span class="number">1</span>) + <span class="string">'&lt;/li&gt;'</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        $(<span class="string">'.pages li:eq(0)'</span>).addClass(<span class="string">'active'</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    $(<span class="string">'.pages'</span>).on(<span class="string">'click'</span>, <span class="string">'li'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//bind/live/delegate/on  事件委托</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log($(<span class="keyword">this</span>).html());</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.pages li'</span>).removeClass(<span class="string">'active'</span>).eq($(<span class="keyword">this</span>).index()).addClass(<span class="string">'active'</span>);</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">            url: <span class="string">'/coach/'</span> + $(<span class="keyword">this</span>).html()</span></span><br><span class="line"><span class="javascript">        &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(res);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>b.后台代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/coach/:id'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pageNo = req.params.id &gt; <span class="number">0</span> ? req.params.id : <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//console.log(pageNo);</span></span><br><span class="line">    <span class="keyword">let</span> rs = &#123;&#125;;</span><br><span class="line">    conn.query(<span class="string">'select * from coach'</span>, (err, result) =&gt; &#123;</span><br><span class="line">        rs.len = result.length;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//console.log(rs);</span></span><br><span class="line">    <span class="keyword">let</span> pageSize = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> skip = (pageNo - <span class="number">1</span>) * pageSize;</span><br><span class="line">    conn.query(<span class="string">'select * from coach limit '</span> + skip + <span class="string">','</span> + pageSize, <span class="function"><span class="keyword">function</span> (<span class="params">err, results</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">            rs.code = <span class="number">0</span>;</span><br><span class="line">            rs.data = results;</span><br><span class="line">            res.send(rs);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.send(&#123;</span><br><span class="line">                code: <span class="number">1</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/Yogo%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" data-id="ck6zauz3d0001w0ibgkzrhs6f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-锦曼商城（mpvue+WeUI+MySQL+Node.js）（小程序）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/%E9%94%A6%E6%9B%BC%E5%95%86%E5%9F%8E%EF%BC%88mpvue+WeUI+MySQL+Node.js%EF%BC%89%EF%BC%88%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%89/" class="article-date">
  <time datetime="2020-02-23T16:59:06.460Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/%E9%94%A6%E6%9B%BC%E5%95%86%E5%9F%8E%EF%BC%88mpvue+WeUI+MySQL+Node.js%EF%BC%89%EF%BC%88%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%89/">锦曼商城（mpvue+WeUI+MySQL+Node.js）（小程序）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="用vue-js（mpvue-没朋友-高效开发微信小程序"><a href="#用vue-js（mpvue-没朋友-高效开发微信小程序" class="headerlink" title="用vue.js（mpvue(没朋友))高效开发微信小程序"></a><center>用vue.js（mpvue(没朋友))高效开发微信小程序</center></h2><h3 id="1-原生小程序开发有哪些痛点？-掌握"><a href="#1-原生小程序开发有哪些痛点？-掌握" class="headerlink" title="1.原生小程序开发有哪些痛点？(掌握)"></a>1.原生小程序开发有哪些痛点？(掌握)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 频繁调用setData及setData过程中页面跳闪</span><br><span class="line">- 强制将WXSS、WXML和JS代码分离到3个不同的文件中</span><br><span class="line">- 没有状态管理，参考Vuex和Redux</span><br><span class="line">- 没有过滤器</span><br><span class="line">- 不能使用 less、sass 等预编译器</span><br><span class="line">- 组件化支持能力太弱</span><br></pre></td></tr></table></figure>

<h3 id="2-为什么使用第三方框架？-理解"><a href="#2-为什么使用第三方框架？-理解" class="headerlink" title="2.为什么使用第三方框架？(理解)"></a>2.为什么使用第三方框架？(理解)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- 只要熟悉vue或react即可快速上手,学习成本低 </span><br><span class="line">- 一套代码可在多端编译运行(微信,支付宝,h5,RN)  支付宝小程序暂不完善</span><br><span class="line">- 组件化开发，完美解决组件隔离，组件嵌套，组件通信等问题 </span><br><span class="line">- 支持使用第三方 npm 资源</span><br><span class="line">- 使小程序可支持 Promise，解决回调烦恼</span><br><span class="line">- 可使用 Generator Fu-nction &#x2F; Class &#x2F; Async Function 等特性，提升开发效率 </span><br><span class="line">- 对小程序本身的优化，如生命周期的补充，性能的优化等等</span><br><span class="line">- 支持样式编译器: sass&#x2F;Less，模板编译器，代码编译器：Babel&#x2F;Typescript</span><br></pre></td></tr></table></figure>

<h3 id="3-有哪些第三方框架？"><a href="#3-有哪些第三方框架？" class="headerlink" title="3.有哪些第三方框架？"></a>3.有哪些第三方框架？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- wepy       腾讯</span><br><span class="line">- mpvue      美团</span><br><span class="line">- taro       京东</span><br><span class="line"></span><br><span class="line">各有各的生态圈，需要根据自己的开发目标和开发基础进行选择。</span><br></pre></td></tr></table></figure>

<h3 id="4-框架对比"><a href="#4-框架对比" class="headerlink" title="4.框架对比"></a>4.框架对比</h3><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1559442160866.png" alt="1559442160866"></p>
<p>　　PostCSS:是一个用 JavaScript 工具和插件转换 CSS 代码的工具(<a href="https://www.postcss.com.cn/)。" target="_blank" rel="noopener">https://www.postcss.com.cn/)。</a></p>
<h3 id="5-使用mpvue开发小程序的优点-掌握"><a href="#5-使用mpvue开发小程序的优点-掌握" class="headerlink" title="5.使用mpvue开发小程序的优点(掌握)"></a>5.使用mpvue开发小程序的优点(掌握)</h3><p>　　mpvue中文文档网址：<a href="http://mpvue.com/mpvue/。" target="_blank" rel="noopener">http://mpvue.com/mpvue/。</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- 彻底的组件化开发能力：提高代码开发效率</span><br><span class="line">- 完整的 Vue.js 开发体验</span><br><span class="line">- 方便的 Vuex 数据管理方案：方便构建复杂应用</span><br><span class="line">- 快捷的 webpack 构建机制：自定义构建策略、开发阶段 hotReload</span><br><span class="line">- 支持使用 npm 外部依赖</span><br><span class="line">- 使用 Vue.js 命令行工具 vue-cli 快速初始化项目</span><br><span class="line">- H5 代码转换编译成小程序目标代码的能力</span><br></pre></td></tr></table></figure>

<p>　　mpvue是一个使用 Vue.js 开发小程序的前端框架。框架基于 Vue.js 核心，框架整体和vue语法保持一致，整体开发体验良好。</p>
<h3 id="6-Vue生命周期钩子函数-必须掌握"><a href="#6-Vue生命周期钩子函数-必须掌握" class="headerlink" title="6.Vue生命周期钩子函数(必须掌握)"></a>6.Vue生命周期钩子函数(必须掌握)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">01）beforeCreate：在实例初始化之后，数据观测 (data observer) 和 event&#x2F;watcher 事件配置之前被调用。</span><br><span class="line"></span><br><span class="line">02）created：在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch&#x2F;event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。</span><br><span class="line"></span><br><span class="line">03）beforeMount：在挂载开始之前被调用：相关的 render 函数首次被调用。</span><br><span class="line"></span><br><span class="line">04）mounted：el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 mounted 被调用时 vm.$el 也在文档内。</span><br><span class="line">	注意 mounted 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.$nextTick 替换掉 mounted：</span><br><span class="line">    mounted: function () &#123;</span><br><span class="line">      this.$nextTick(function () &#123;</span><br><span class="line">        &#x2F;&#x2F; Code that will run only after the</span><br><span class="line">        &#x2F;&#x2F; entire view has been rendered</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">05）beforeUpdate：数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。</span><br><span class="line"></span><br><span class="line">06）updated：当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或 watcher 取而代之。</span><br><span class="line"></span><br><span class="line">07）activated：keep-alive 组件激活时调用。</span><br><span class="line"></span><br><span class="line">08）deactivated：keep-alive 组件停用时调用。</span><br><span class="line"></span><br><span class="line">09）beforeDestroy：实例销毁之前调用，实例仍然完全可用。</span><br><span class="line"></span><br><span class="line">10）destroyed：Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</span><br></pre></td></tr></table></figure>

<p><img src="http://img.dongcoder.com/up/info/201903/20190313100312653261.jpg" alt=""></p>
<h3 id="7-微信小程序生命周期钩子函数-必须掌握"><a href="#7-微信小程序生命周期钩子函数-必须掌握" class="headerlink" title="7.微信小程序生命周期钩子函数(必须掌握)"></a>7.微信小程序生命周期钩子函数(必须掌握)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; app 部分：</span><br><span class="line">onLaunch，初始化</span><br><span class="line">onShow，当小程序启动，或从后台进入前台显示</span><br><span class="line">onHide，当小程序从前台进入后台</span><br><span class="line"></span><br><span class="line">&gt; page 部分：</span><br><span class="line">onLoad，监听页面加载</span><br><span class="line">onShow，监听页面显示</span><br><span class="line">onReady，监听页面初次渲染完成</span><br><span class="line">onHide，监听页面隐藏</span><br><span class="line">onUnload，监听页面卸载</span><br><span class="line">onPullDownRefresh，监听用户下拉动作</span><br><span class="line">onReachBottom，页面上拉触底事件的处理函数</span><br><span class="line">onShareAppMessage，用户点击右上角分享</span><br><span class="line">onPageScroll，页面滚动</span><br><span class="line">onTabItemTap, 当前是 tab 页时，点击 tab 时触发</span><br></pre></td></tr></table></figure>

<p>　　<strong>注：</strong>微信小程序没在DOM和BOM操作。</p>
<h3 id="8-搭建mpvue小程序开发环境"><a href="#8-搭建mpvue小程序开发环境" class="headerlink" title="8.搭建mpvue小程序开发环境"></a>8.搭建mpvue小程序开发环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">1）安装node.js</span><br><span class="line">	node --version</span><br><span class="line">2）npm改为国内淘宝镜像</span><br><span class="line">	npm set registry https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</span><br><span class="line">3）安装vue-cli</span><br><span class="line">	npm install vue-cli -g</span><br><span class="line">4）安装微信开发者工具</span><br><span class="line">	https:&#x2F;&#x2F;developers.weixin.qq.com&#x2F;miniprogram&#x2F;dev&#x2F;devtools&#x2F;download.html</span><br><span class="line">5）安装IDE(也可以用sublime):</span><br><span class="line">	https:&#x2F;&#x2F;code.visualstudio.com</span><br><span class="line">	安装完vscode后，在它的插件管理器中，查找Vetur并安装，然后重启一下vscode后，插件即生效。</span><br><span class="line">	</span><br><span class="line">注意：以上步骤可以省略。</span><br><span class="line"></span><br><span class="line">6）创建第一个基于mpvue的小程序项目代码</span><br><span class="line">	vue init mpvue&#x2F;mpvue-quickstart mpvuepro</span><br><span class="line"></span><br><span class="line">	? Project name mpvuepro</span><br><span class="line">    ? wxmp appid touristappid</span><br><span class="line">    ? Project description A Mpvue project</span><br><span class="line">    ? Author kevinzhang &lt;kevin.zhang@moredist.com&gt;</span><br><span class="line">    ? Vue build runtime</span><br><span class="line">    ? Use Vuex? Yes</span><br><span class="line">    ? Use ESLint to lint your code? No</span><br><span class="line">    ? Pick an ESLint preset Standard</span><br><span class="line">    ? 小程序测试，敬请关注最新微信开发者工具的“测试报告”功能 </span><br><span class="line"></span><br><span class="line">   vue-cli · Generated &quot;mpvuepro&quot;.</span><br><span class="line"></span><br><span class="line">   To get started:   </span><br><span class="line">        cd mpvuepro</span><br><span class="line">        npm install</span><br><span class="line">        npm run dev   </span><br><span class="line">   Documentation can be found at http:&#x2F;&#x2F;mpvue.com</span><br><span class="line">7）初始化：</span><br><span class="line">    cd mpvuepro </span><br><span class="line">    npm install</span><br><span class="line">8）编译:npm run dev</span><br><span class="line">	编译后的代码会在dist目录下</span><br><span class="line">9）修改项目的appid</span><br><span class="line">	打开mpvuepro下project.config.json，改为：</span><br><span class="line">	&quot;appid&quot;: &quot;自己的appid&quot;</span><br><span class="line">10）打开微信开发者工具，选择新增项目或者导入项目：</span><br><span class="line">	项目目录选择指向mpvuepro目录,点击“确定”按钮，进入小程序开发主界面，在左边的小程序模拟器中就能看到mpvuepro小程序的执行结果了。</span><br><span class="line"></span><br><span class="line">	【提醒】记得在微信开发者工具的菜单-&gt;设置-&gt;编辑设置 中，将“保存时自动编译小程序”勾选上，这样当mpvue的代码自动编译完成后，模拟器才会自动刷新界面。</span><br></pre></td></tr></table></figure>

<h3 id="9-文档结构"><a href="#9-文档结构" class="headerlink" title="9.文档结构"></a>9.文档结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">app</span><br><span class="line">├── package.json</span><br><span class="line">├── project.config.json       </span><br><span class="line">├── static            </span><br><span class="line">├── src</span><br><span class="line">│    ├── components</span><br><span class="line">│    ├── pages</span><br><span class="line">│    ├── utils</span><br><span class="line">│    ├── App.vue</span><br><span class="line">│    └── main.js</span><br><span class="line">├── config</span><br><span class="line">│   ├── index.js</span><br><span class="line">│   ├── dev.env.js</span><br><span class="line">│   └── prod.env.js</span><br><span class="line">└── build</span><br><span class="line"></span><br><span class="line">1）package.json文件</span><br><span class="line">	package.json是项目的主配置文件，里面包含了mpvue项目的基本描述信息、项目所依赖的各种第三方库以及版本信息、以及可执行的脚本信息。</span><br><span class="line">2）project.config.json文件</span><br><span class="line">	project.config.json文件是用于管理微信开发者工具的小程序项目的配置文件，其中记录了小程序的appid、代码主目录、以及编译选项等等信息，在微信开发者工具中导入小程序项目的时候主要是通过该配置文件读取和写入配置信息。</span><br><span class="line">3）static目录</span><br><span class="line">	static目录可以用于存放各种小程序本地静态资源，如图片、文本文件、css样式、音频、视频等。代码中可通过相对路径或绝对路径进行访问， 如：</span><br><span class="line">    &lt;img src&#x3D;&quot;&#x2F;static&#x2F;button.png&quot; &#x2F;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;..&#x2F;..&#x2F;..&#x2F;static&#x2F;button.png&quot; &#x2F;&gt;</span><br><span class="line">4）build目录</span><br><span class="line">	build目录下是一些用于项目编译打包的node.js脚本和webpack配置文件。一般情况下不需要修改这些文件。</span><br><span class="line">5）config目录</span><br><span class="line">	config目录下包含了用于开发和生产环境下的不同配置，dev.env.js用于开发环境，prod.env.js用于生产环境，你可以将开发阶段和生产阶段不一样的信息（如后台API的url地址等）配置到这两个文件中去，然后在代码中以变量的形式进行引用。例如，这2个文件中分别配置了不同的API_BASE_URL值：</span><br><span class="line">    &#x2F;&#x2F; dev.env.js</span><br><span class="line">    module.exports &#x3D; merge(prodEnv, &#123;</span><br><span class="line">      NODE_ENV: &#39;&quot;development&quot;&#39;,</span><br><span class="line">      API_BASE_URL: &#39;http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;api&#39;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; prod.env.js</span><br><span class="line">    module.exports &#x3D; &#123;</span><br><span class="line">      NODE_ENV: &#39;&quot;production&quot;&#39;,</span><br><span class="line">      API_BASE_URL: &#39;&quot;https:&#x2F;&#x2F;www.my-domain.com&#x2F;api&quot;&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    那你在编写请求后端API的代码时，你就可以使用这个环境配置，像这样：</span><br><span class="line">    const baseURL &#x3D; process.env.API_BASE_URL</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: $&#123;baseURL&#125;&#x2F;products</span><br><span class="line">    &#125;)</span><br><span class="line">	这样一来，开发阶段和上线发布阶段的环境可以清楚的区分开来。</span><br><span class="line">6）src目录</span><br><span class="line">	src目录是我们主要进行小程序功能编写的地方。默认生成的demo代码为我们创建了几个子目录：</span><br><span class="line">    components、pages和utils，还有2个文件：App.vue和main.js。其实它们都不是必须的，可以按照自己的风格进行定义和配置。不过默认创建的这个结构基本上是一个约定俗成的结构了，比较易于理解，所以我们可以遵循这个结构进行开发。</span><br><span class="line">	components：在实际开发中，我们可以尽量将界面上可复用的部分，提取成vue组件放入该目录</span><br><span class="line">	pages：存放小程序的页面。请遵循每个小程序页面放入一个单独子目录的组织形式</span><br><span class="line">	utils：可选（可删）。可以将代码中一些公用工具函数组织成模块放入该目录下</span><br><span class="line">	可新建其他目录，存放你希望组织起来的代码。比如公用的业务逻辑代码、请求后台API的代码等等</span><br><span class="line">	main.js + App.vue：这两个是入口文件，相当于原生小程序框架中的app.json和app.js的复合体。</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1）用mpvue开发微信小程序时，不需要使用vue中的vue-router路由插件，它直接用src目录中的app.json中的pages配置路由；</span><br><span class="line">   &quot;pages&quot;: [</span><br><span class="line">       &quot;pages&#x2F;index&#x2F;main&quot;,</span><br><span class="line">       &quot;pages&#x2F;logs&#x2F;main&quot;,</span><br><span class="line">       &quot;pages&#x2F;counter&#x2F;main&quot;</span><br><span class="line">     ]</span><br><span class="line">2）在vue.js使用axios发请求，在mpvue中可以直接使用wx.request发请求。</span><br></pre></td></tr></table></figure>

<h3 id="10-WeUI"><a href="#10-WeUI" class="headerlink" title="10.WeUI"></a>10.WeUI</h3><p>　　WeUI是微信团队开发的一个用于开发小程序的UI框架。</p>
<p>　　文档网址：<a href="http://weui.moocba.com" target="_blank" rel="noopener">http://weui.moocba.com</a></p>
<h3 id="11-weUI使用步骤"><a href="#11-weUI使用步骤" class="headerlink" title="11.weUI使用步骤"></a>11.weUI使用步骤</h3><p>　　1）进入网站，下载源码</p>
<p><img src="02.png" alt=""></p>
<p>　　2）解压后将dist-&gt;style下的文件全部复制到项目中</p>
<p><img src="01.png" alt=""></p>
<p>　　3）全局（src-&gt;main.js）或在要使用weUI的组件的文件的样式文件中引入样式文件，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#39;..&#x2F;static&#x2F;css&#x2F;weui.wxss&#39;</span><br></pre></td></tr></table></figure>

<p>　　4）使用weUI中封装好的组件，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    &lt;view class&#x3D;&quot;weui-btn-area&quot;&gt;</span><br><span class="line">      &lt;picker @change&#x3D;&quot;bindPickerChange($event)&quot; :value&#x3D;&quot;index&quot; :range&#x3D;&quot;array&quot;&gt;</span><br><span class="line">        &lt;button type&#x3D;&quot;default&quot;&gt;单列选择器&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;picker&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        array: [&quot;中国&quot;, &quot;美国&quot;, &quot;巴西&quot;, &quot;日本&quot;],</span><br><span class="line">        index: 0,</span><br><span class="line">        txt: &#39;&#39;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      bindPickerChange(e)&#123;</span><br><span class="line">        console.log(this.array[e.target.value])</span><br><span class="line">        this.txt &#x3D; this.array[e.target.value]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="12-开发示例"><a href="#12-开发示例" class="headerlink" title="12.开发示例"></a>12.开发示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; 程序入口:</span><br><span class="line">1）app.json &#x3D;&gt; src&#x2F;main.js</span><br><span class="line">2）app.js &#x3D;&gt; src&#x2F;App.vue</span><br><span class="line">3）首页(index子目录) &#x3D;&gt; index子目录(index.vue,main.js)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; 编写新页面</span><br><span class="line">1）创建src&#x2F;pages&#x2F;hello文件夹</span><br><span class="line">2）hello文件夹下创建main.js和index.vue两个文件</span><br><span class="line">3）main.js代码:</span><br><span class="line">    import Vue from &#39;vue&#39;</span><br><span class="line">    import App from &#39;.&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">    const app &#x3D; new Vue(App)</span><br><span class="line">    app.$mount()</span><br><span class="line">4）index.vue代码:</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;message&#39; @click&#x3D;&#39;dian&#39;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        export default &#123;</span><br><span class="line">            data () &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    msg:&#39;hello,world&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                dian(e)&#123;</span><br><span class="line">                    this.msg&#x3D;&#39;你好,世界&#39;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style scoped&gt;</span><br><span class="line">        .message&#123;</span><br><span class="line">            background:gray;</span><br><span class="line">            color:red;</span><br><span class="line">            text-align:center;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">5）修改src&#x2F;app.json:</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;pages&quot;: [</span><br><span class="line">        &quot;pages&#x2F;hello&#x2F;main&quot;,</span><br><span class="line">        &quot;pages&#x2F;index&#x2F;main&quot;,</span><br><span class="line">        &quot;pages&#x2F;logs&#x2F;main&quot;,</span><br><span class="line">        &quot;pages&#x2F;counter&#x2F;main&quot;</span><br><span class="line">      ],</span><br><span class="line">    ...</span><br><span class="line">6）编译：npm run dev</span><br><span class="line">7）小程序开发者工具上查看效果</span><br><span class="line">	可以看到，这个组件完全看不到小程序写法的影子，而是全部由Vue开发Web应用的写法来完成：数据绑定、事件处理、scoped局部样式、以及使用HTML标签来构建界面。这样最大化的保持和网页应用开发一致，减少了前端人员切换到小程序的学习理解成本，也为原先使用Vue开发的网页应用移植到小程序平台提供了降低迁移成本的可能。</span><br><span class="line">	</span><br><span class="line">	模板部分我们通常可以用HTML标签来写，比如div、span等，它们会在编译的时候被自动转换成小程序的原生组件view、text之类；而那些小程序特有的组件如swiper、rich-text等，可以直接在模板中使用。</span><br><span class="line">	</span><br><span class="line">	在原生小程序的页面（Page）中包含了很多页面的生命周期方法，如onLoad、onUnload、onShow、onHide、onPullDownRefresh等等，mpvue中推荐使用Vue组件生命周期方法，而像onPullDownRefresh、onReachBottom这类特殊功能的生命周期则需直接使用原生的。</span><br></pre></td></tr></table></figure>

<h3 id="13-整理项目文件夹"><a href="#13-整理项目文件夹" class="headerlink" title="13.整理项目文件夹"></a>13.整理项目文件夹</h3><p><img src="03.png" alt=""></p>
<h3 id="14-修改配置文件app-json"><a href="#14-修改配置文件app-json" class="headerlink" title="14.修改配置文件app.json"></a>14.修改配置文件app.json</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;: [</span><br><span class="line">    &quot;pages&#x2F;home&#x2F;main&quot;,</span><br><span class="line">    &quot;pages&#x2F;classic&#x2F;main&quot;,</span><br><span class="line">    &quot;pages&#x2F;brand&#x2F;main&quot;,</span><br><span class="line">    &quot;pages&#x2F;team&#x2F;main&quot;,</span><br><span class="line">    &quot;pages&#x2F;mine&#x2F;main&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;window&quot;: &#123;</span><br><span class="line">    &quot;backgroundTextStyle&quot;: &quot;light&quot;,</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;,</span><br><span class="line">    &quot;navigationStyle&quot;: &quot;custom&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tabBar&quot;: &#123;</span><br><span class="line">    &quot;color&quot;: &quot;#999&quot;,</span><br><span class="line">    &quot;backgroundColor&quot;: &quot;#fafafa&quot;,</span><br><span class="line">    &quot;selectedColor&quot;: &quot;#333&quot;,</span><br><span class="line">    &quot;borderStyle&quot;: &quot;white&quot;,</span><br><span class="line"></span><br><span class="line">    &quot;list&quot;: [&#123;</span><br><span class="line">      &quot;text&quot;: &quot;首页&quot;,</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages&#x2F;home&#x2F;main&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;static&#x2F;tabs&#x2F;home.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;static&#x2F;tabs&#x2F;home-active.png&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;text&quot;: &quot;分类&quot;,</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages&#x2F;classic&#x2F;main&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders-active.png&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;text&quot;: &quot;品牌&quot;,</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages&#x2F;brand&#x2F;main&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders-active.png&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;text&quot;: &quot;团购&quot;,</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages&#x2F;team&#x2F;main&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders-active.png&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;text&quot;: &quot;我&quot;,</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages&#x2F;mine&#x2F;main&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;static&#x2F;tabs&#x2F;orders-active.png&quot;</span><br><span class="line">    &#125;],</span><br><span class="line">    &quot;position&quot;: &quot;bottom&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>开发时选项卡选项只能是2-3项！！！</p>
<h3 id="15-页面初始内容，下面以brand页面为例"><a href="#15-页面初始内容，下面以brand页面为例" class="headerlink" title="15.页面初始内容，下面以brand页面为例"></a>15.页面初始内容，下面以brand页面为例</h3><p>brand.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    brand</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Brand from &#39;.&#x2F;brand&#39;</span><br><span class="line"></span><br><span class="line">let brand &#x3D; new Vue(Brand);</span><br><span class="line">brand.$mount();</span><br></pre></td></tr></table></figure>

<h3 id="16-页面跳转"><a href="#16-页面跳转" class="headerlink" title="16.页面跳转"></a>16.页面跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- index.vue代码 --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">	&lt;div class&#x3D;&#39;message&#39; @click&#x3D;&#39;dian&#39;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;a href&#x3D;&#39;&#x2F;pages&#x2F;counter&#x2F;main&#39;&gt;跳转到conter&lt;&#x2F;a&gt;</span><br><span class="line">	&lt;div @click&#x3D;&#39;jump&#39;&gt;跳转到首页&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg:&#39;hello,world&#39;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            dian(e)&#123;</span><br><span class="line">                this.msg&#x3D;&#39;你好,世界&#39;;</span><br><span class="line">            &#125;,</span><br><span class="line">            jump(e)&#123;</span><br><span class="line">                let url &#x3D; &#39;..&#x2F;index&#x2F;main&#39;;</span><br><span class="line">                &#x2F;&#x2F;wx.navigateTo(&#123;url&#125;);</span><br><span class="line">                wx.switchTab(&#123;url&#125;);&#x2F;&#x2F;选项卡（路由）跳转要使用这种方式</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .message&#123;</span><br><span class="line">        background:gray;</span><br><span class="line">        color:red;</span><br><span class="line">        text-align:center;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>　　Tip:</p>
<p>　　　　mpvue中不再支持vue-router，跳转方式为：</p>
<p>　　1）静态跳转</p>
<p>　　　　a.a标签实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&#39;&#x2F;pages&#x2F;counter&#x2F;main&#39;&gt;跳转到conter&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<p>　　　　b.navigator实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigator href&#x3D;&#39;&#x2F;pages&#x2F;counter&#x2F;main&#39;&gt;跳转到conter&lt;&#x2F;navigator&gt;</span><br></pre></td></tr></table></figure>

<p>　　　　c.首页的跳转 navigator open-type设置为switchTab 可跳转到 tabBar页面！！！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigator open-type&#x3D;&quot;switchTab&quot; url&#x3D;&quot;&#x2F;pages&#x2F;tab1&#x2F;main&quot;&gt;</span><br><span class="line">    ....</span><br><span class="line">&lt;&#x2F;navigator&gt;</span><br></pre></td></tr></table></figure>

<p>　　2）动态跳转</p>
<p>　　a.页面内跳转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.navigatorTo(&#123;</span><br><span class="line">    url:&#39;&#x2F;pages&#x2F;counter&#x2F;main&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>　　b.跳转到tabbar</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.switchTab(&#123;</span><br><span class="line">    url:&#39;&#x2F;pages&#x2F;index&#x2F;main&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>　　有6种动态跳转方式，可以参阅微信小程序官方文档，上面是最常用的方式。</p>
<h3 id="18-vuex使用"><a href="#18-vuex使用" class="headerlink" title="18.vuex使用"></a>18.vuex使用</h3><p>　　1）在src创建目录store，在store中创建index.js文件，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">const store &#x3D; new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    name: &#39;隔壁老王&#39;,</span><br><span class="line">    age: 18</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    changedata(state,info)&#123;</span><br><span class="line">      state.name &#x3D; info.name;</span><br><span class="line">      state.age &#x3D; info.age;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default store</span><br></pre></td></tr></table></figure>

<p>　　2）在要使用vuex的当前组件中引入数据仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import store from &#39;.&#x2F;store&#39;</span><br></pre></td></tr></table></figure>

<p>　　3）页面使用仓库中的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">export default&#123;</span><br><span class="line">    computed:&#123;</span><br><span class="line">      getName()&#123;</span><br><span class="line">        return store.state.name</span><br><span class="line">      &#125;,</span><br><span class="line">      age()&#123;</span><br><span class="line">        return store.state.age</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　4）页面渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&#123;&#123; name &#125;&#125;----&#123;&#123; age &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>　　5）修改仓库中的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    name:&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;name&quot;&gt; &lt;br&gt;</span><br><span class="line">    age:&lt;input type&#x3D;&quot;number&quot; v-model&#x3D;&quot;age&quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; @click&#x3D;&quot;changeData&quot; value&#x3D;&quot;提交&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import store from &#39;..&#x2F;..&#x2F;store&#39;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &#39;&#39;,</span><br><span class="line">        age: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeData() &#123;</span><br><span class="line">        store.commit(&#39;changedata&#39;,&#123;name:this.name,age:this.age&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="19-利用wx-request发请求，不需要安装axios"><a href="#19-利用wx-request发请求，不需要安装axios" class="headerlink" title="19.利用wx.request发请求，不需要安装axios"></a>19.利用wx.request发请求，不需要安装axios</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">created() &#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">        method: &#39;GET&#39;,</span><br><span class="line">        url: &#39;https:&#x2F;&#x2F;lovehou.applinzi.com&#x2F;gethomedata.php&#39;,</span><br><span class="line">        success(res)&#123;</span><br><span class="line">        	console.log(res)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="20-mpvue中的坑"><a href="#20-mpvue中的坑" class="headerlink" title="20.mpvue中的坑"></a>20.mpvue中的坑</h3><h4 id="21-1-background-image-图片引用的问题"><a href="#21-1-background-image-图片引用的问题" class="headerlink" title="21.1 background-image 图片引用的问题"></a>21.1 background-image 图片引用的问题</h4><p>　　设置比较小的图片是没有影响的，但是比较大的图片就会发现没有效果。</p>
<p>　　在 webpack.base.conf.js 中 url-loader 的相关设置对图片大小有限制。可以取消这个限制，同时使用绝对路径访问就会避免这个问题了。一般其实是放在 src/assets 目录下，然后通过 ~@/assets/xxx 这样引用的。</p>
<p> 　　Ps：因为小程序对大小有限制(多个包最大4M，单个2M)，所以尽量不要使用本地图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.(png|jpe?g|gif|svg)(\?.*)?$&#x2F;,</span><br><span class="line">    loader: &#39;url-loader&#39;,</span><br><span class="line">    options: &#123;</span><br><span class="line">         limit: 100,</span><br><span class="line">         name: utils.assetsPath(&#39;img&#x2F;[name].[ext]&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h4 id="21-2-bind-style-后设置-backgroundImage-的-url"><a href="#21-2-bind-style-后设置-backgroundImage-的-url" class="headerlink" title="21.2 bind style 后设置 backgroundImage 的 url"></a>21.2 bind style 后设置 backgroundImage 的 url</h4><p>　　bind style 后设置 backgroundImage 的 url ：最后以这种方式实现了效果，但是会报错…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div :style&#x3D;&quot;&#123;backgroundImage: &#39;url(&#39; + pictures.background + &#39;)&#39;&#125;&quot;&gt;</span><br><span class="line">&lt;div :style&#x3D;&quot;&#123;backgroundImage: url($&#123;pictures.exampleCard&#125;)&#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="21-3-小程序事件绑定的写法"><a href="#21-3-小程序事件绑定的写法" class="headerlink" title="21.3 小程序事件绑定的写法"></a>21.3 小程序事件绑定的写法</h4><p>　　错把 bindgetuserinfo 当成了一个属性…设置了半天都不好用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button open-type&#x3D;&quot;getUserInfo&quot; bindgetuserinfo&#x3D;&quot;getInfo&quot;&gt;点击登录&lt;&#x2F;button&gt; &#x2F;&#x2F; 小程序</span><br><span class="line">&lt;button open-type&#x3D;&quot;getUserInfo&quot; @getuserinfo&#x3D;&quot;getInfo&quot;&gt;点击登录&lt;&#x2F;button&gt;  &#x2F;&#x2F; mpvue</span><br></pre></td></tr></table></figure>

<h4 id="21-4-获取表单-formId"><a href="#21-4-获取表单-formId" class="headerlink" title="21.4 获取表单 formId"></a>21.4 获取表单 formId</h4><p>　　获取事件 event 对象的值时，在 event 后加一个 mp。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;form @submit&#x3D;&quot;formSubmit&quot; report-submit&gt;</span><br><span class="line">  &lt;button plain class&#x3D;&quot;idBtn&quot; form-type&#x3D;&quot;submit&quot; data-type&#x3D;&quot;click&quot;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line"></span><br><span class="line">formSubmit (e) &#123;</span><br><span class="line">    let formId &#x3D; e.mp.detail.formId &#x2F;&#x2F; mpvue</span><br><span class="line">    let formId &#x3D; e.detail.formId &#x2F;&#x2F; 小程序</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="21-5-获取页面跳转链接拼接的-query"><a href="#21-5-获取页面跳转链接拼接的-query" class="headerlink" title="21.5 获取页面跳转链接拼接的 query"></a>21.5 获取页面跳转链接拼接的 query</h4><p>　　获取页面跳转链接拼接的 query 时，mpvue 进行了优化，通过 this.$root.$mp.query 来获取。</p>
<h4 id="21-6-v-model"><a href="#21-6-v-model" class="headerlink" title="21.6  v-model"></a>21.6  v-model</h4><p>　　在实现双向数据绑定的时候尽量使用 v-model.lazy ，以优化性能减去出现 bug 的可能性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model.lazy:value&#x3D;&quot;englishName&quot; placeholder&#x3D;&quot;请输入&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="21-7-页面的刷新问题"><a href="#21-7-页面的刷新问题" class="headerlink" title="21.7 页面的刷新问题"></a>21.7 页面的刷新问题</h4><p>　　因为小程序是没办法 window.reload 的所以在 onLoad 或者 onShow 的时候去调用数据接口就可以了。</p>
<h4 id="21-8-scroll-view-组件的一些问题"><a href="#21-8-scroll-view-组件的一些问题" class="headerlink" title="21.8 scroll-view 组件的一些问题"></a>21.8 scroll-view 组件的一些问题</h4><p>　　并不推荐使用这个组件，也不是mpvue的问题，就是这个组件本身就不太好用。</p>
<ul>
<li>事件触发不了的问题<br> 在mpvue中使用下面的一些事件的时候是不会触发的</li>
<li>bindscrolltolower</li>
<li>bindscrolltoupper</li>
<li>bindscroll</li>
</ul>
<p>　　解决方法你猜是什么？就是把bind去掉。</p>
<ul>
<li>scrolltolower</li>
<li>scrolltoupper</li>
<li>scroll</li>
</ul>
<p>　　然而，当 scroll-view 高度为 100% 的时候 bindscrolltolower 又不执行了，解决方法是给外面的父元素加一些限制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;cat-scroll&quot;&gt;</span><br><span class="line">    &lt;scroll-view style&#x3D;&quot;height: 100%; width: 100%&quot;&gt;</span><br><span class="line">    &lt;&#x2F;&lt;scroll-view&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">.cat-scroll &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　这样就解决了，但，这样铺满屏幕后和小程序的下拉刷新冲突了，导致下拉刷新不执行。</p>
<p>　　回到我们开头说的不用 scroll-view 我们用别的方法解决。首先我们使用 scroll-view的原因一般就是做一个下拉加载更多么，在小程序中页面全局有一个滚动到底部的事件 onReachBottom 我们只需要在这个事件里面写上拉加载更多就好了，和下拉刷新也不冲突。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    onPullDownRefresh()&#123;</span><br><span class="line">        &#x2F;&#x2F;  下拉刷新</span><br><span class="line">    &#125;,</span><br><span class="line">    onReachBottom()&#123;</span><br><span class="line">        &#x2F;&#x2F; 上拉加载更多</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="21-9-v-for"><a href="#21-9-v-for" class="headerlink" title="21.9 v-for"></a>21.9 v-for</h4><p>　　要写：key=””，要不然编译会警告。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-for&#x3D;&quot;(item, index) in list&quot; :key&#x3D;&quot;item.name&quot;</span><br></pre></td></tr></table></figure>

<h4 id="21-10-获取授权用户信息"><a href="#21-10-获取授权用户信息" class="headerlink" title="21.10 获取授权用户信息"></a>21.10 获取授权用户信息</h4><p>　　改版后使用wx.getUserInfo()不再弹出授权弹窗：<br>　　解决方案：使用wx.getSetting，成功回调里判断是否授权过用户信息。if (res.authSetting[‘scope.userInfo’])</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 判断用户授权信息并做相应处理</span><br><span class="line">wx.getSetting(&#123;</span><br><span class="line">  success(res) &#123;</span><br><span class="line">    if (res.authSetting[&#39;scope.userInfo&#39;]) &#123;</span><br><span class="line">      &#x2F;&#x2F; 已经授权，可以直接调用 getUserInfo 获取头像昵称</span><br><span class="line">      wx.getUserInfo(&#123;</span><br><span class="line">        success: function(data) &#123;</span><br><span class="line">          console.log(data.userInfo)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    &#x2F;&#x2F; 没有授权过的用户，跳转到自己写的授权提示页面</span><br><span class="line">      wx.navigateTo(&#123;</span><br><span class="line">        url: &#39;&#x2F;pages&#x2F;getUserInfo&#x2F;main&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; getUserInfo页面</span><br><span class="line">&#x2F;&#x2F; 用户点击允许，这里有个坑</span><br><span class="line">&#x2F;&#x2F; 原生wx的写法</span><br><span class="line">&lt;button plain&#x3D;&#39;true&#39; open-type&#x3D;&#39;getUserInfo&#39; getuserinfo&#x3D;&#39;onGotUserInfo&#39;&gt;允许&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; 使用mpvue的写法，点击事件，要加上@符号</span><br><span class="line">&lt;button plain&#x3D;&#39;true&#39; open-type&#x3D;&#39;getUserInfo&#39; @getuserinfo&#x3D;&#39;onGotUserInfo&#39;&gt;允许&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; 点击的methods方法</span><br><span class="line">methods: &#123;</span><br><span class="line">  onGotUserInfo(e) &#123;</span><br><span class="line">    &#x2F;&#x2F; 数据是e.mp</span><br><span class="line">    console.log(e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="21-11-小程序点击组件在某些手机跳转不起作用"><a href="#21-11-小程序点击组件在某些手机跳转不起作用" class="headerlink" title="21.11 小程序点击组件在某些手机跳转不起作用"></a>21.11 小程序点击<navagator>组件在某些手机跳转不起作用</h4><p>　　navagator组件需要2.07以上基础库支持，当你的微信版本过低，所支持的基础库也就低，导致跳转无效。</p>
<p>　　<strong>解决方案：</strong> 在微信公众平台设置-&gt;基本设置-&gt; 基础库最低版本设置 ,设置线上最低版本库为组件所支持的最低版本。</p>
<h3 id="22-弹框"><a href="#22-弹框" class="headerlink" title="22.弹框"></a>22.弹框</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p @click&#x3D;&quot;showDialog&quot;&gt;课程学习提示&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  methods:&#123;</span><br><span class="line">    showDialog()&#123;</span><br><span class="line">      wx.showModal(&#123;</span><br><span class="line">        title: &#39;规则说明&#39;,</span><br><span class="line">        content: 学习：课程为闯关模式，学完一课，第二天自动解锁下一课，每天最多学习一节课哦~ \r\n打卡：完成当日学习后，将学习报告分享至宝妈群，即为打卡成功！仅当日分享有效哦~ \r\n连续打卡12天，即可免费领取神秘大奖,</span><br><span class="line">        showCancel: true,</span><br><span class="line">        confirmText: &#39;知道啦&#39;,</span><br><span class="line">        success: function(res) &#123;</span><br><span class="line">          if (res.confirm) &#123;</span><br><span class="line">            console.log(&#39;用户点击确定&#39;)</span><br><span class="line">          &#125; else if (res.cancel) &#123;</span><br><span class="line">            console.log(&#39;用户点击取消&#39;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="23-mpvue-iview-一个基于mpvue的UI组件库"><a href="#23-mpvue-iview-一个基于mpvue的UI组件库" class="headerlink" title="23.mpvue-iview 一个基于mpvue的UI组件库"></a>23.mpvue-iview 一个基于mpvue的UI组件库</h3><p>　　PS：可以自学，不过用处也不是太大，也可以使用其它UI框架。</p>
<p>　　官网地址：<a href="https://weapp.iviewui.com/docs/guide/start" target="_blank" rel="noopener">https://weapp.iviewui.com/docs/guide/start</a></p>
<h3 id="24-小程序之分包加载"><a href="#24-小程序之分包加载" class="headerlink" title="24.小程序之分包加载"></a>24.小程序之分包加载</h3><p>　　小程序包大小不得超过2M，到了提交发布代码这关键一步，却因为代码体积超限迫使含辛茹苦撸出的小程序胎死腹中。<br>　　现如今官方推出小程序分包加载这一共功能，动手之前建议认真阅读<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html" target="_blank" rel="noopener">官方文档</a>。</p>
<h4 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h4><p>　　微信 6.6 客户端，1.7.3 及以上基础库开始支持，请更新至最新客户端版本，开发者工具请使用 1.01.1712150 及以上版本，可<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">点此下载</a>。</p>
<h4 id="如何分包"><a href="#如何分包" class="headerlink" title="如何分包"></a>如何分包</h4><p>　　在构建小程序分包项目时，构建会输出一个或多个功能的分包，其中每个分包小程序必定含有一个主包，所谓的主包，即放置默认启动页面/TabBar 页面，以及一些所有分包都需用到公共资源/JS 脚本，而分包则是根据开发者的配置进行划分。</p>
<p>　　目前小程序分包大小有以下限制：<br>　　<strong>整个小程序所有分包大小不超过 8M单个分包/主包大小不能超过 2M</strong></p>
<p>　　在小程序启动时，默认会下载主包并启动主包内页面，如果用户需要打开分包内某个页面，客户端会把对应分包下载下来，下载完成后再进行展示。对小程序进行分包，可以优化小程序首次启动的下载时间，以及在多团队共同开发时可以更好的解耦协作。</p>
<h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><p>　　假设支持分包的小程序目录结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">├── app.js</span><br><span class="line">├── app.json</span><br><span class="line">├── app.wxss</span><br><span class="line">├── packageA</span><br><span class="line">│   └── pages</span><br><span class="line">│       ├── cat</span><br><span class="line">│       └── dog</span><br><span class="line">├── packageB</span><br><span class="line">│   └── pages</span><br><span class="line">│       ├── apple</span><br><span class="line">│       └── banana</span><br><span class="line">├── pages</span><br><span class="line">│   ├── index</span><br><span class="line">│   └── logs</span><br><span class="line">└── utils</span><br></pre></td></tr></table></figure>

<p>　　开发者通过在 app.json subPackages 字段声明项目分包结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;:[</span><br><span class="line">    &quot;pages&#x2F;index&quot;,</span><br><span class="line">    &quot;pages&#x2F;logs&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;subPackages&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;root&quot;: &quot;packageA&quot;,</span><br><span class="line">      &quot;pages&quot;: [</span><br><span class="line">        &quot;pages&#x2F;cat&quot;,</span><br><span class="line">        &quot;pages&#x2F;dog&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      &quot;root&quot;: &quot;packageB&quot;,</span><br><span class="line">      &quot;pages&quot;: [</span><br><span class="line">        &quot;pages&#x2F;apple&quot;,</span><br><span class="line">        &quot;pages&#x2F;banana&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="打包原则"><a href="#打包原则" class="headerlink" title="打包原则"></a>打包原则</h4><ul>
<li>声明 subPackages 后，将按 subPackages 配置路径进行打包，subPackages 配置路径外的目录将被打包到 app（主包） 中</li>
<li>app（主包）也可以有自己的 pages（即最外层的 pages 字段）</li>
<li>subPackage 的根目录不能是另外一个 subPackage 内的子目录</li>
<li>首页的 TAB 页面必须在 app（主包）内</li>
</ul>
<h4 id="引用原则"><a href="#引用原则" class="headerlink" title="引用原则"></a>引用原则</h4><ul>
<li>packageA 无法 require packageB JS 文件，但可以 require app、自己 package 内的 JS 文件</li>
<li>packageA 无法 import packageB 的 template，但可以 require app、自己 package 内的 template</li>
<li>packageA 无法使用 packageB 的资源，但可以使用 app、自己 package 内的资源</li>
</ul>
<h3 id="25-vue-js与微信小程序的不同"><a href="#25-vue-js与微信小程序的不同" class="headerlink" title="25.vue.js与微信小程序的不同"></a>25.vue.js与微信小程序的不同</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue-router(用pages已配置好) axios(wx.request) localStorage&#x2F;sessionStorage(wx.setStorage&#x2F;wx.getStorage&#x2F;...) ref(api-&gt;wxml)</span><br></pre></td></tr></table></figure>

<h3 id="26-vue-js尽量减少DOM操作，微信小程序开发尽量避免DOM和BOM操作。"><a href="#26-vue-js尽量减少DOM操作，微信小程序开发尽量避免DOM和BOM操作。" class="headerlink" title="26.vue.js尽量减少DOM操作，微信小程序开发尽量避免DOM和BOM操作。"></a>26.vue.js尽量减少DOM操作，微信小程序开发尽量避免DOM和BOM操作。</h3><h3 id="27-node-js-express-mysql-https搭建后台"><a href="#27-node-js-express-mysql-https搭建后台" class="headerlink" title="27.node.js+express+mysql+https搭建后台"></a>27.node.js+express+mysql+https搭建后台</h3><p>1）搭建项目环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---  express -e jinman</span><br><span class="line"></span><br><span class="line">--- cd jinman</span><br><span class="line">--- npm i</span><br><span class="line">--- npm i mysql -S</span><br></pre></td></tr></table></figure>

<p>2）创建对应的数据库和数据表，下面以登录为例</p>
<p>a.表结构</p>
<p><img src="04.png" alt=""></p>
<p>b.表参考数据</p>
<p><img src="05.png" alt=""></p>
<p>3）修改项目中的app.js文件的内容</p>
<p><img src="06.png" alt=""></p>
<p>参考代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">var createError &#x3D; require(&#39;http-errors&#39;);</span><br><span class="line">var express &#x3D; require(&#39;express&#39;);</span><br><span class="line">var path &#x3D; require(&#39;path&#39;);</span><br><span class="line">var cookieParser &#x3D; require(&#39;cookie-parser&#39;);</span><br><span class="line">var logger &#x3D; require(&#39;morgan&#39;);</span><br><span class="line">var https &#x3D; require(&#39;https&#39;);</span><br><span class="line">var http &#x3D; require(&#39;http&#39;);</span><br><span class="line">var fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line"></span><br><span class="line">var indexRouter &#x3D; require(&#39;.&#x2F;routes&#x2F;index&#39;);</span><br><span class="line">var usersRouter &#x3D; require(&#39;.&#x2F;routes&#x2F;users&#39;);</span><br><span class="line"></span><br><span class="line">var app &#x3D; express();</span><br><span class="line"></span><br><span class="line">const options &#x3D; &#123;</span><br><span class="line">	key: fs.readFileSync(&#39;.&#x2F;public&#x2F;key&#x2F;3043388_www.hspstudio.club.key&#39;),</span><br><span class="line">	cert: fs.readFileSync(&#39;.&#x2F;public&#x2F;key&#x2F;3043388_www.hspstudio.club.crt&#39;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var httpsServer &#x3D; https.createServer(options,app);</span><br><span class="line">var httpServer &#x3D; http.createServer(app);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; view engine setup</span><br><span class="line">app.set(&#39;views&#39;, path.join(__dirname, &#39;views&#39;));</span><br><span class="line">app.set(&#39;view engine&#39;, &#39;ejs&#39;);</span><br><span class="line"></span><br><span class="line">app.use(logger(&#39;dev&#39;));</span><br><span class="line">app.use(express.json());</span><br><span class="line">app.use(express.urlencoded(&#123; extended: false &#125;));</span><br><span class="line">app.use(cookieParser());</span><br><span class="line">app.use(express.static(path.join(__dirname, &#39;public&#39;)));</span><br><span class="line"></span><br><span class="line">app.use(&#39;&#x2F;&#39;, indexRouter);</span><br><span class="line">app.use(&#39;&#x2F;users&#39;, usersRouter);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; catch 404 and forward to error handler</span><br><span class="line">app.use(function(req, res, next) &#123;</span><br><span class="line">  next(createError(404));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; error handler</span><br><span class="line">app.use(function(err, req, res, next) &#123;</span><br><span class="line">  &#x2F;&#x2F; set locals, only providing error in development</span><br><span class="line">  res.locals.message &#x3D; err.message;</span><br><span class="line">  res.locals.error &#x3D; req.app.get(&#39;env&#39;) &#x3D;&#x3D;&#x3D; &#39;development&#39; ? err : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; render the error page</span><br><span class="line">  res.status(err.status || 500);</span><br><span class="line">  res.render(&#39;error&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">httpsServer.listen(443, &#39;0.0.0.0&#39;);</span><br><span class="line">httpServer.listen(80, &#39;0.0.0.0&#39;);</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; app;</span><br></pre></td></tr></table></figure>

<p>注意：证书文件要换成自己的！！！</p>
<p>4）配置路由（routes-&gt;index.js）</p>
<p><img src="07.png" alt=""></p>
<p>参考代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">var express &#x3D; require(&#39;express&#39;); &#x2F;&#x2F; 引入express框架模块文件</span><br><span class="line">var router &#x3D; express(); &#x2F;&#x2F; 创建路由对象</span><br><span class="line"></span><br><span class="line">var mysql &#x3D; require(&#39;mysql&#39;); &#x2F;&#x2F; 引入第三方模块文件mysql，用来远程操作数据库</span><br><span class="line"></span><br><span class="line">var conn &#x3D; mysql.createConnection(&#123; &#x2F;&#x2F; 创建数据库连接对象</span><br><span class="line">	host: &#39;localhost&#39;,</span><br><span class="line">	user: &#39;root&#39;,</span><br><span class="line">	password: &#39;root&#39;,</span><br><span class="line">	database: &#39;jinman&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">conn.connect(() &#x3D;&gt; &#123;  &#x2F;&#x2F; 建立数据库连接</span><br><span class="line">	console.log(&#39;DB is connect success!&#39;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.all(&quot;*&quot;,function(req,res,next)&#123;  &#x2F;&#x2F; 解决跨域</span><br><span class="line">    &#x2F;&#x2F;设置允许跨域的域名，*代表允许任意域名跨域</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Origin&quot;,&quot;*&quot;);</span><br><span class="line">    &#x2F;&#x2F;允许的header类型</span><br><span class="line">    res.header(&quot;Access-Control-Allow-Headers&quot;,&quot;content-type&quot;);</span><br><span class="line">    &#x2F;&#x2F;跨域允许的请求方式 </span><br><span class="line">    res.header(&quot;Access-Control-Allow-Methods&quot;,&quot;DELETE,PUT,POST,GET,OPTIONS&quot;);</span><br><span class="line">    if (req.method.toLowerCase() &#x3D;&#x3D; &#39;options&#39;)</span><br><span class="line">        res.send(200);  &#x2F;&#x2F;让options尝试请求快速结束</span><br><span class="line">    else</span><br><span class="line">        next();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.all(&#39;&#x2F;swiper&#39;, function(req, res, next) &#123; &#x2F;&#x2F; 配置路由，用来获取swiper数据</span><br><span class="line">  conn.query(&#39;select * from swiper&#39;, (err,rs) &#x3D;&gt; &#123;</span><br><span class="line">  	if(err) throw err;</span><br><span class="line">  	else res.json(&#123;errorCode: 0, data:rs&#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; router;  &#x2F;&#x2F; 将router暴露出去，以便在app.js中用require引入该模块中router对象</span><br></pre></td></tr></table></figure>

<p>5）启动服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></table></figure>

<h3 id="28-关于H5页面和微信小程序在iPhoneX刘海屏适配"><a href="#28-关于H5页面和微信小程序在iPhoneX刘海屏适配" class="headerlink" title="28.关于H5页面和微信小程序在iPhoneX刘海屏适配"></a>28.关于H5页面和微信小程序在iPhoneX刘海屏适配</h3><h4 id="28-1-iPhoneX的介绍"><a href="#28-1-iPhoneX的介绍" class="headerlink" title="28.1 iPhoneX的介绍"></a>28.1 iPhoneX的介绍</h4><p><strong>屏幕尺寸</strong></p>
<p>我们熟知的iPhone系列开发尺寸概要如下：</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106190827294-1199751417.png" alt="img"></p>
<p>△ iPhone各机型的开发尺寸</p>
<p>转化成我们熟知的像素尺寸：</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106190848122-865769222.png" alt="img"></p>
<p>△ 每个机型的多维度尺寸</p>
<p>倍图其实就是像素尺寸和开发尺寸的倍率关系，但这只是外在的表现。倍图核心的影响因素在于PPI（DPI）。</p>
<p>iPhone8在本次升级中，屏幕尺寸和分辨率都遗传了iPhone6以后的优良传统；</p>
<p>然而iPhone X 无论是在屏幕尺寸、分辨率、甚至是形状上都发生了较大的改变，下面以iPhone 8作为参照物，看看到底iPhone X的适配我们要怎么考虑。</p>
<p>我们看看iPhone X尺寸上的变化：</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205127200-216760608.png" alt="img"></p>
<h4 id="28-2-iPhoneX的适配—安全区域-safe-area"><a href="#28-2-iPhoneX的适配—安全区域-safe-area" class="headerlink" title="28.2 iPhoneX的适配—安全区域(safe area)"></a>28.2 iPhoneX的适配—安全区域(safe area)</h4><p>苹果对于 iPhone X 的设计布局意见如下：</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205159528-291294353.png" alt="img"></p>
<p>核心内容应该处于 Safe area 确保不会被设备圆角(corners)，传感器外壳(sensor housing，齐刘海) 以及底部的 Home Indicator 遮挡。也就是说 我们设计显示的内容应该尽可能的在安全区域内；</p>
<h4 id="28-3-iPhoneX的适配—适配方案viewport-fit"><a href="#28-3-iPhoneX的适配—适配方案viewport-fit" class="headerlink" title="28.3 iPhoneX的适配—适配方案viewport-fit"></a>28.3 iPhoneX的适配—适配方案viewport-fit</h4><h5 id="28-3-1-PhoneX的适配，在iOS-11中采用了viewport-fit的meta标签作为适配方案；viewport-fit的默认值是auto。"><a href="#28-3-1-PhoneX的适配，在iOS-11中采用了viewport-fit的meta标签作为适配方案；viewport-fit的默认值是auto。" class="headerlink" title="28.3.1 PhoneX的适配，在iOS 11中采用了viewport-fit的meta标签作为适配方案；viewport-fit的默认值是auto。"></a>28.3.1 PhoneX的适配，在iOS 11中采用了viewport-fit的meta标签作为适配方案；viewport-fit的默认值是auto。</h5><p>　　 viewport-fit取值如下：</p>
<table>
<thead>
<tr>
<th>auto</th>
<th>默认：viewprot-fit:contain;页面内容显示在safe area内</th>
</tr>
</thead>
<tbody><tr>
<td>cover</td>
<td>viewport-fit:cover,页面内容充满屏幕</td>
</tr>
</tbody></table>
<p>　　  viewport-fit meta标签设置(cover时) </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1.0, minimum-scale&#x3D;1.0, maximum-scale&#x3D;1.0, user-scalable&#x3D;no, viewport-fit&#x3D;cover&quot;&gt;</span><br></pre></td></tr></table></figure>

<h5 id="28-3-2-css-constant-函数-与safe-area-inset-top-amp-safe-area-inset-left-amp-safe-area-inset-right-amp-safe-area-inset-bottom的介绍"><a href="#28-3-2-css-constant-函数-与safe-area-inset-top-amp-safe-area-inset-left-amp-safe-area-inset-right-amp-safe-area-inset-bottom的介绍" class="headerlink" title="28.3.2 css constant()函数 与safe-area-inset-top &amp; safe-area-inset-left &amp; safe-area-inset-right &amp; safe-area-inset-bottom的介绍"></a>28.3.2 css constant()函数 与safe-area-inset-top &amp; safe-area-inset-left &amp; safe-area-inset-right &amp; safe-area-inset-bottom的介绍</h5><p> <img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205332075-1346398687.png" alt="img"></p>
<p>​        如上图所示 在iOS 11中的WebKit包含了一个新的CSS函数constant()，以及一组四个预定义的常量：safe-area-inset-left, safe-area-inset-right, safe-area-inset-top和 safe-area-inset-bottom。当合并一起使用时，允许样式引用每个方面的安全区域的大小。</p>
<p>​        当我们设置viewport-fit:contain,也就是默认的时候时;设置safe-area-inset-left, safe-area-inset-right, safe-area-inset-top和 safe-area-inset-bottom等参数时不起作用的。</p>
<p>​        当我们设置viewport-fit:cover时：设置如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    padding-top: constant(safe-area-inset-top);   &#x2F;&#x2F;为导航栏+状态栏的高度 88px            </span><br><span class="line">    padding-left: constant(safe-area-inset-left);   &#x2F;&#x2F;如果未竖屏时为0                </span><br><span class="line">    padding-right: constant(safe-area-inset-right); &#x2F;&#x2F;如果未竖屏时为0                </span><br><span class="line">    padding-bottom: constant(safe-area-inset-bottom);&#x2F;&#x2F;为底下圆弧的高度 34px       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="28-4-iPhoneX的适配—高度统计"><a href="#28-4-iPhoneX的适配—高度统计" class="headerlink" title="28.4 iPhoneX的适配—高度统计"></a>28.4 iPhoneX的适配—高度统计</h4><p>  viewport-fit:cover + 导航栏</p>
<p>　　<img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205642513-1610316669.png" alt="img"></p>
<h4 id="28-5-iPhoneX的适配—媒体查询"><a href="#28-5-iPhoneX的适配—媒体查询" class="headerlink" title="28.5 iPhoneX的适配—媒体查询"></a>28.5 iPhoneX的适配—媒体查询</h4><p>注意这里采用的是690px(safe area高度)，不是812px;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@media only screen and (width: 375px) and (height: 690px)&#123;  body &#123;    background: blue;  &#125;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="28-6-iphoneX-viewport-fit-问题总结"><a href="#28-6-iphoneX-viewport-fit-问题总结" class="headerlink" title="28.6 iphoneX viewport-fit  问题总结"></a>28.6 iphoneX viewport-fit  问题总结</h4><h5 id="28-6-1-关于iphoneX-页面使用了渐变色时；如果viewport-fit-cover"><a href="#28-6-1-关于iphoneX-页面使用了渐变色时；如果viewport-fit-cover" class="headerlink" title="28.6.1 关于iphoneX 页面使用了渐变色时；如果viewport-fit:cover;"></a>28.6.1 关于iphoneX 页面使用了渐变色时；如果viewport-fit:cover;</h5><p>​        在设置了背景色单色和渐变色的区别，如果是单色时会填充整个屏幕，如果设置了渐变色 那么只会更加子元素的高度去渲染；而且页面的高度只有690px高度，上面使用了padding-top:88px;</p>
<p>　　<img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205730528-339953907.png" alt="img"></p>
<p>body固定为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;&lt;div class&#x3D;&quot;content&quot;&gt;this is subElementdiv&gt;body&gt;</span><br></pre></td></tr></table></figure>

<p>1.单色时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;        </span><br><span class="line">&#125;        </span><br><span class="line">body &#123;</span><br><span class="line">    background:green;</span><br><span class="line">    padding-top: constant(safe-area-inset-top); &#x2F;&#x2F;88px            </span><br><span class="line">    &#x2F;*padding-left: constant(safe-area-inset-left);*&#x2F;            </span><br><span class="line">    &#x2F;*padding-right: constant(safe-area-inset-right);*&#x2F;            </span><br><span class="line">    &#x2F;*padding-bottom: constant(safe-area-inset-bottom);*&#x2F;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.渐变色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">    background:-webkit-gradient(linear, 0 0, 0 bottom, from(#ffd54f), to(#ffaa22));</span><br><span class="line">    padding-top: constant(safe-area-inset-top); &#x2F;&#x2F;88px</span><br><span class="line">    &#x2F;*padding-left: constant(safe-area-inset-left);*&#x2F;</span><br><span class="line">    &#x2F;*padding-right: constant(safe-area-inset-right);*&#x2F;</span><br><span class="line">    &#x2F;*padding-bottom: constant(safe-area-inset-bottom);*&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决使用渐变色 仍旧填充整个屏幕的方法；CSS设置如下</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106205929419-463639658.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;initial-scale&#x3D;1, viewport-fit&#x3D;cover&quot;&gt;</span><br><span class="line">   &lt;title&gt;Designing Websites for iPhone X: Respecting the safe areas&lt;&#x2F;title&gt;</span><br><span class="line">   &lt;style&gt;        </span><br><span class="line">   * &#123;</span><br><span class="line">       padding: 0;</span><br><span class="line">       margin: 0;</span><br><span class="line">   &#125;</span><br><span class="line">   html, body &#123;</span><br><span class="line">       height: 100%;</span><br><span class="line">   &#125;</span><br><span class="line">   body &#123;</span><br><span class="line">       padding-top: constant(safe-area-inset-top);</span><br><span class="line">       padding-left: constant(safe-area-inset-left);</span><br><span class="line">       padding-right: constant(safe-area-inset-right);</span><br><span class="line">       padding-bottom: constant(safe-area-inset-bottom);</span><br><span class="line">   &#125;</span><br><span class="line">   .content &#123;</span><br><span class="line">       background: -webkit-gradient(linear, 0 0, 0 bottom, from(#ffd54f), to(#ffaa22));</span><br><span class="line">       width: 100%;</span><br><span class="line">       height: 724px;</span><br><span class="line">   &#125;    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;content&quot;&gt;this is subElement&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="28-6-2-页面元素使用了固定定位的适配即：-position-fixed"><a href="#28-6-2-页面元素使用了固定定位的适配即：-position-fixed" class="headerlink" title="28.6.2 页面元素使用了固定定位的适配即：{position:fixed;}"></a>28.6.2 页面元素使用了固定定位的适配即：{position:fixed;}</h5><p>​    1）子元素页面固定在底部时；使用viewport-fit:contain时;可以看到bottom:0时只会显示在安全区域内；</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106210027731-2046065048.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">   &lt;!--&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;initial-scale&#x3D;1, viewport-fit&#x3D;cover&quot;&gt;--&gt;</span><br><span class="line">   &lt;title&gt;Designing Websites for iPhone X: Respecting the safe areas&lt;&#x2F;title&gt;</span><br><span class="line">   &lt;style&gt;</span><br><span class="line">       * &#123;</span><br><span class="line">           padding: 0;</span><br><span class="line">           margin: 0;</span><br><span class="line">       &#125;</span><br><span class="line">       &#x2F;*html,body &#123;*&#x2F;</span><br><span class="line">           &#x2F;*height: 100%;*&#x2F;</span><br><span class="line">       &#x2F;*&#125;*&#x2F;</span><br><span class="line">       body &#123;</span><br><span class="line">           background: grey;</span><br><span class="line">           &#x2F;*padding-top: constant(safe-area-inset-top);*&#x2F;</span><br><span class="line">           &#x2F;*padding-left: constant(safe-area-inset-left);*&#x2F;</span><br><span class="line">           &#x2F;*padding-right: constant(safe-area-inset-right);*&#x2F;</span><br><span class="line">           &#x2F;*padding-bottom: constant(safe-area-inset-bottom);*&#x2F;</span><br><span class="line">       &#125;</span><br><span class="line">       .top &#123;</span><br><span class="line">           width: 100%;</span><br><span class="line">           height: 44px;</span><br><span class="line">           background: purple;</span><br><span class="line">       &#125;</span><br><span class="line">       .bottom &#123;</span><br><span class="line">           position: fixed;</span><br><span class="line">           bottom: 0;</span><br><span class="line">           left: 0;</span><br><span class="line">           right: 0;</span><br><span class="line">           height: 44px;</span><br><span class="line">           color: black;</span><br><span class="line">           background: green;</span><br><span class="line">       &#125;</span><br><span class="line">   &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div class&#x3D;&quot;top&quot;&gt;this is top&lt;&#x2F;div&gt;</span><br><span class="line">   &lt;div class&#x3D;&quot;bottom&quot;&gt;this is bottom&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>2） 子元素页面固定在底部时；使用viewport-fit:cover时;可以看到bottom:0时只会显示在安全区域内；</p>
<p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106210117559-254939495.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* &#123;  </span><br><span class="line">    padding: 0;  </span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*html,body &#123;*&#x2F;  </span><br><span class="line">	&#x2F;*height: 100%;*&#x2F;</span><br><span class="line">&#x2F;*&#125;*&#x2F;</span><br><span class="line">body &#123;  </span><br><span class="line">    background: grey;  </span><br><span class="line">    padding-top: constant(safe-area-inset-top);  </span><br><span class="line">    &#x2F;*padding-left: constant(safe-area-inset-left);*&#x2F;  </span><br><span class="line">    &#x2F;*padding-right: constant(safe-area-inset-right);*&#x2F;  </span><br><span class="line">    &#x2F;*padding-bottom: constant(safe-area-inset-bottom);*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">.top &#123;  </span><br><span class="line">    width: 100%;  </span><br><span class="line">    height: 44px;  </span><br><span class="line">    background: purple;</span><br><span class="line">&#125;</span><br><span class="line">.bottom &#123;  </span><br><span class="line">    position: fixed;  </span><br><span class="line">    bottom: 0;  </span><br><span class="line">    left: 0;  </span><br><span class="line">    right: 0;  </span><br><span class="line">    height: 44px;  </span><br><span class="line">    color: black;  </span><br><span class="line">    background: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 添加html,body  {width:100%;heigth:100%}</p>
<p> <img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106210233528-2079516846.png" alt="img"></p>
<p> 图1：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">          padding: 0;</span><br><span class="line">          margin: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      html,body &#123;</span><br><span class="line">          height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">          background: grey;</span><br><span class="line">          padding-top: constant(safe-area-inset-top);</span><br><span class="line">          padding-left: constant(safe-area-inset-left);</span><br><span class="line">          padding-right: constant(safe-area-inset-right);</span><br><span class="line">          padding-bottom: constant(safe-area-inset-bottom);</span><br><span class="line">      &#125;</span><br><span class="line">      .top &#123;</span><br><span class="line">          width: 100%;</span><br><span class="line">          height: 44px;</span><br><span class="line">          background: purple;</span><br><span class="line">      &#125;</span><br><span class="line">      .bottom &#123;</span><br><span class="line">          position: fixed;</span><br><span class="line">          bottom: 0;</span><br><span class="line">          left: 0;</span><br><span class="line">          right: 0;</span><br><span class="line">          height: 44px;</span><br><span class="line">          color: black;</span><br><span class="line">          background: green;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>图2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line">html,body &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">    background: grey;</span><br><span class="line">    padding-top: constant(safe-area-inset-top);</span><br><span class="line">    padding-left: constant(safe-area-inset-left);</span><br><span class="line">    padding-right: constant(safe-area-inset-right);</span><br><span class="line">    &#x2F;*padding-bottom: constant(safe-area-inset-bottom);*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">.top &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 44px;</span><br><span class="line">    background: purple;</span><br><span class="line">&#125;</span><br><span class="line">.bottom &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    height: 44px;</span><br><span class="line">    color: black;</span><br><span class="line">    background: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="28-6-3-关于alertView弹框-遮罩层的解决方案"><a href="#28-6-3-关于alertView弹框-遮罩层的解决方案" class="headerlink" title="28.6.3 关于alertView弹框 遮罩层的解决方案"></a>28.6.3 关于alertView弹框 遮罩层的解决方案</h5><p><img src="https://images2017.cnblogs.com/blog/949019/201711/949019-20171106210345513-1798455572.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">   &lt;!--&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0, minimum-scale&#x3D;1.0, maximum-scale&#x3D;1.0, user-scalable&#x3D;no&quot;&gt;--&gt;</span><br><span class="line">   &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1.0, minimum-scale&#x3D;1.0, maximum-scale&#x3D;1.0, user-scalable&#x3D;no, viewport-fit&#x3D;cover&quot;&gt;</span><br><span class="line">   &lt;meta http-equiv&#x3D;&quot;pragma&quot; content&#x3D;&quot;no-cache&quot;&gt;</span><br><span class="line">   &lt;meta http-equiv&#x3D;&quot;cache-control&quot; content&#x3D;&quot;no-cache&quot;&gt;</span><br><span class="line">   &lt;meta http-equiv&#x3D;&quot;expires&quot; content&#x3D;&quot;0&quot;&gt;</span><br><span class="line">   &lt;title&gt;alertView&lt;&#x2F;title&gt;</span><br><span class="line">   &lt;script data-res&#x3D;&quot;eebbk&quot;&gt;</span><br><span class="line">       document.documentElement.style.fontSize &#x3D; window.screen.width &#x2F; 7.5 + &#39;px&#39;;</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line">   &lt;style&gt;</span><br><span class="line">       * &#123;</span><br><span class="line">           margin: 0;</span><br><span class="line">           padding: 0;</span><br><span class="line">       &#125;</span><br><span class="line">       html,body &#123;</span><br><span class="line">           width: 100%;</span><br><span class="line">           height: 100%;</span><br><span class="line">       &#125;</span><br><span class="line">       body &#123;</span><br><span class="line">           font-size: 0.32rem;</span><br><span class="line">           padding-top: constant(safe-area-inset-top);</span><br><span class="line">           padding-left: constant(safe-area-inset-left);</span><br><span class="line">           padding-right: constant(safe-area-inset-right);</span><br><span class="line">           padding-bottom: constant(safe-area-inset-bottom);</span><br><span class="line">       &#125;</span><br><span class="line">       .content &#123;</span><br><span class="line">           text-align: center;</span><br><span class="line">       &#125;</span><br><span class="line">       .testBut &#123;</span><br><span class="line">           margin: 50px auto;</span><br><span class="line">           width: 100px;</span><br><span class="line">           height: 44px;</span><br><span class="line">           border: 1px solid darkgray;</span><br><span class="line">           outline:none;</span><br><span class="line">           user-select: none;</span><br><span class="line">           background-color: yellow;</span><br><span class="line">       &#125;</span><br><span class="line">   &lt;&#x2F;style&gt;</span><br><span class="line">   &lt;link href&#x3D;&quot;alertView.css&quot; rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;section class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">       &lt;button class&#x3D;&quot;testBut&quot; οnclick&#x3D;&quot;showLoading()&quot;&gt;弹框加载&lt;&#x2F;button&gt;</span><br><span class="line">   &lt;&#x2F;section&gt;</span><br><span class="line">   &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;alertView.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">       function showLoading() &#123;</span><br><span class="line">           UIAlertView.show(&#123;</span><br><span class="line">               type:&quot;input&quot;,</span><br><span class="line">               title:&quot;温馨提示&quot;,              &#x2F;&#x2F;标题</span><br><span class="line">               content:&quot;VIP会员即将到期&quot;,     &#x2F;&#x2F;获取新的</span><br><span class="line">               isKnow:false</span><br><span class="line">           &#125;);</span><br><span class="line">           var xx &#x3D; new UIAlertView();</span><br><span class="line">          console.log(xx);</span><br><span class="line">       &#125;</span><br><span class="line">   &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="30-微信小程序自定义导航栏（适配刘海屏）"><a href="#30-微信小程序自定义导航栏（适配刘海屏）" class="headerlink" title="30.微信小程序自定义导航栏（适配刘海屏）"></a>30.微信小程序自定义导航栏（适配刘海屏）</h3><h4 id="30-1-原生开发处理"><a href="#30-1-原生开发处理" class="headerlink" title="30.1 原生开发处理"></a>30.1 原生开发处理</h4><p><img src="https://img-blog.csdnimg.cn/20190404174408525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTA2ODU0,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>1）首先在根据官方文档，我们在小程序修改 app.json 中的 window 的属性 “navigationStyle”: “custom”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;:[</span><br><span class="line">    &quot;pages&#x2F;index&#x2F;index&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;window&quot;:&#123;</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;,</span><br><span class="line">    &quot;navigationBarTextStyle&quot;:&quot;black&quot;,</span><br><span class="line">    &quot;navigationStyle&quot;: &quot;custom&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2）通过微信小程序API，wx.getSystemInfo获取设备状态栏高度，wx.getMenuButtonBoundingClientRect()获取菜单按钮（右上角胶囊按钮）的布局位置信息。坐标信息以屏幕左上角为原点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.getSystemInfo(&#123;</span><br><span class="line">      success: <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.globalData.statusBar = e.statusBarHeight; <span class="comment">//状态栏高度</span></span><br><span class="line">        <span class="keyword">let</span> custom = wx.getMenuButtonBoundingClientRect();<span class="comment">//菜单按钮</span></span><br><span class="line">        <span class="keyword">this</span>.globalData.custom = custom;</span><br><span class="line">        <span class="keyword">this</span>.globalData.customBar = custom.bottom + custom.top - e.statusBarHeight;</span><br><span class="line">        <span class="comment">//计算得到定义的状态栏高度</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment">//以iPhoneX为例 拿到的数据为 (获取到的数据单位统一为px)</span></span><br><span class="line"><span class="comment">// globalData: &#123;</span></span><br><span class="line"><span class="comment">//   custom: &#123;</span></span><br><span class="line"><span class="comment">//     bottom: 82</span></span><br><span class="line"><span class="comment">//     height: 32</span></span><br><span class="line"><span class="comment">//     left: 278</span></span><br><span class="line"><span class="comment">//     right: 365</span></span><br><span class="line"><span class="comment">//     top: 50</span></span><br><span class="line"><span class="comment">//     width: 87</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">//   customBar: 88</span></span><br><span class="line"><span class="comment">//   statusBar: 44</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p>3）自定义栏的配置和需要拿到的相关数据都拿到了，接下来就去写导航栏的样式。( 注：自定义导航栏不存在原生的返回按钮，所以返回按钮需要我们自己写出来并添加返回事件)</p>
<p>样式问题通过css实现的方式有很多，如下所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20190408102625303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTA2ODU0,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>wxml：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'nav'</span> <span class="attr">style</span>=<span class="string">"height:&#123;&#123;customBar&#125;&#125;px"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'con'</span> <span class="attr">style</span>=<span class="string">"height:&#123;&#123;customBar&#125;&#125;px;padding-top:&#123;&#123;statusBar&#125;&#125;px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"backBtn"</span> <span class="attr">bindtap</span>=<span class="string">"goBack"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"iconfont icon-fanhui"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">style</span>=<span class="string">"top:&#123;&#123;statusBar&#125;&#125;px"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>wxss：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">view</span>, <span class="selector-tag">scroll-view</span>, <span class="selector-tag">swiper</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">label</span>, <span class="selector-tag">navigator</span>, <span class="selector-tag">image</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.nav</span> &#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">38</span>, <span class="number">185</span>, <span class="number">243</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.con</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">340</span>rpx);</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.backBtn</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">36</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = getApp();</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    statusBar: app.globalData.statusBar,</span><br><span class="line">    customBar: app.globalData.customBar,</span><br><span class="line">    custom: app.globalData.custom</span><br><span class="line">  &#125;,</span><br><span class="line">  goBack()&#123;</span><br><span class="line">    wx.navigateBack(&#123;</span><br><span class="line">      delta: <span class="number">1</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="30-2-mpVue开发处理"><a href="#30-2-mpVue开发处理" class="headerlink" title="30.2 mpVue开发处理"></a>30.2 mpVue开发处理</h4><p>​        设计稿的1px在手机中是怎样显示出来的，首先看下图：</p>
<p><img src="https://img-blog.csdnimg.cn/20190103143547778." alt=""></p>
<p>​        从上图得知了各个安卓和IOS常规屏幕的宽高以及像素比，在日常设计稿常以iPhone6 750px(375 * 2 = 750) 为标准设计，从以上信息得知我们设计稿中的1px 在iPhone6中是占据了2px。</p>
<p>​    下面将以10px为单位在每一个型号进行单位换算</p>
<table>
<thead>
<tr>
<th>型号</th>
<th>宽度</th>
<th>高度</th>
<th>设计稿单位（宽度）</th>
<th>像素比</th>
<th>转换单位(10px)</th>
</tr>
</thead>
<tbody><tr>
<td>iPhone5</td>
<td>320</td>
<td>568</td>
<td>640</td>
<td>2</td>
<td>20</td>
</tr>
<tr>
<td>iPhone6</td>
<td>375</td>
<td>667</td>
<td>750</td>
<td>2</td>
<td>20</td>
</tr>
<tr>
<td>iPhone6 Plus</td>
<td>414</td>
<td>736</td>
<td>1242</td>
<td>3</td>
<td>30</td>
</tr>
<tr>
<td>iPhone7</td>
<td>375</td>
<td>667</td>
<td>750</td>
<td>2</td>
<td>20</td>
</tr>
<tr>
<td>iPhone7 Plus</td>
<td>414</td>
<td>736</td>
<td>1242</td>
<td>3</td>
<td>30</td>
</tr>
<tr>
<td>iPhone X</td>
<td>375</td>
<td>812</td>
<td>1125</td>
<td>3</td>
<td>30</td>
</tr>
<tr>
<td>Nexus 5</td>
<td>360</td>
<td>640</td>
<td>1080</td>
<td>3</td>
<td>30</td>
</tr>
<tr>
<td>Nexus 5x</td>
<td>411</td>
<td>731</td>
<td>1078.875</td>
<td>2.625</td>
<td>26.25</td>
</tr>
<tr>
<td>Nexus 6</td>
<td>412</td>
<td>732</td>
<td>1536</td>
<td>3.5</td>
<td>35</td>
</tr>
</tbody></table>
<p>​        从上表发现了一个规律 以iPhone6与iPhone6 Plus 为例 转换单位是由 像素比 * 转换单位 得出 由此推算得出单位转换公式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（像素比 * 转换单位）&#x2F; 像素比</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（2 * 10）&#x2F; 2 &#x3D; 10&#x2F;&#x2F;iPhone6</span><br><span class="line">（3 * 10）&#x2F; 3 &#x3D; 10&#x2F;&#x2F;iPhone6 Plus</span><br></pre></td></tr></table></figure>

<p>​        那么得到了需要转换的单位后怎么进行适配呢，首先要得到系统状态栏高度，利用小程序API wx.getSystemInfo(Object object)中的statusBarHeight得到了系统状态栏高度（解决万恶的刘海屏，水滴屏问题）。</p>
<p>​        <strong>实施步骤：</strong></p>
<p>1）在src-&gt;main.js中添加如下代码：</p>
<p><img src="08.png" alt=""></p>
<p>2）在需要设置刘海屏的页面中添加如下代码，下面以home页面为例说明。</p>
<p>a.布局代码：</p>
<p><img src="09.png" alt=""></p>
<p>b.逻辑处理：</p>
<p><img src="10.png" alt=""></p>
<p>完整代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;home&quot; :style&#x3D;&quot;&#123;height: windowHeight+&#39;px&#39;&#125;&quot;&gt;</span><br><span class="line">    &lt;header class&#x3D;&quot;headNav&quot; :style&#x3D;&quot;&#123; paddingTop: statusBarHeight + &#39;px&#39;, height: navHeight + &#39;px&#39; &#125;&quot;&gt;</span><br><span class="line">      &lt;section class&#x3D;&quot;headArea&quot; :style&#x3D;&quot;&#123; height: headAreaHeight + &#39;px&#39;, marginTop: headAreaMarTop + &#39;px&#39; &#125;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;logo&#39;&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;https:&#x2F;&#x2F;www.hspstudio.club&#x2F;images&#x2F;home&#x2F;logo.png&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;search&#39; :style&#x3D;&quot;&#123; width: headRightBoxW + &#39;px&#39; &#125;&quot;&gt;标题&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;header&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;!-- 引入轮播图组件 --&gt;</span><br><span class="line">    &lt;banner :swiperList&#x3D;&quot;swiperList&quot;&#x2F;&gt;    </span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Banner from &#39;..&#x2F;..&#x2F;components&#x2F;banner&#39;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        pixelRatio: this.globalData.phoneInfo.pixelRatio, &#x2F;&#x2F;系统像素比</span><br><span class="line">        statusBarHeight: this.globalData.phoneInfo.statusBarHeight, &#x2F;&#x2F;系统状态栏高度</span><br><span class="line">        navHeight: &quot;&quot;, &#x2F;&#x2F;顶部导航栏高度</span><br><span class="line">        headAreaHeight:this.globalData.phoneInfo.pixelRatio * 35 &#x2F; this.globalData.phoneInfo.pixelRatio, &#x2F;&#x2F;顶部内容区域高度</span><br><span class="line">        headAreaMarTop: &quot;&quot;, &#x2F;&#x2F;顶部内容区域外边距</span><br><span class="line">        headleftBoxW: &quot;&quot;, &#x2F;&#x2F;顶部内容左侧区域外边距</span><br><span class="line">        headRightBoxW: &quot;&quot;, &#x2F;&#x2F;顶部内容右侧区域外边距</span><br><span class="line">        containersHeight: &quot;&quot;, &#x2F;&#x2F;页面内容区域高度</span><br><span class="line">        windowHeight: this.globalData.phoneInfo.windowHeight,</span><br><span class="line">        swiperList: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      &#x2F;&#x2F;IOS 与 安卓进行差异化处理</span><br><span class="line">      if (this.globalData.phoneInfo.system.substring(0, 3) &#x3D;&#x3D; &quot;iOS&quot;) &#123;</span><br><span class="line">        this.navHeight &#x3D; this.pixelRatio * 40 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headAreaMarTop &#x3D; this.pixelRatio * 0.5 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headleftBoxW &#x3D; this.globalData.phoneInfo.windowWidth - this.pixelRatio * 100 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headRightBoxW &#x3D; this.pixelRatio * 100 &#x2F; this.pixelRatio;</span><br><span class="line">        this.containersHeight &#x3D; this.globalData.phoneInfo.windowHeight - (this.statusBarHeight + this.pixelRatio * 40 &#x2F; this.pixelRatio);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.navHeight &#x3D; this.pixelRatio * 45 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headAreaMarTop &#x3D; this.pixelRatio * 2.5 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headleftBoxW &#x3D;  this.globalData.phoneInfo.windowWidth - this.pixelRatio * 110 &#x2F; this.pixelRatio;</span><br><span class="line">        this.headRightBoxW &#x3D; this.pixelRatio * 110 &#x2F; this.pixelRatio;</span><br><span class="line">        this.containersHeight &#x3D; this.globalData.phoneInfo.windowHeight -  (this.statusBarHeight + this.pixelRatio * 45 &#x2F; this.pixelRatio);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">      var that &#x3D; this;</span><br><span class="line">      console.log(this.globalData.phoneInfo)</span><br><span class="line">      wx.request(&#123;</span><br><span class="line">        url: &#39;https:&#x2F;&#x2F;www.hspstudio.club&#x2F;swiper&#39;,</span><br><span class="line">        success(res)&#123;</span><br><span class="line">          &#x2F;&#x2F;console.log(res.data.data);</span><br><span class="line">          that.swiperList &#x3D; res.data.data;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .home &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    background: #735041 url(&#39;https:&#x2F;&#x2F;www.hspstudio.club&#x2F;images&#x2F;bg.png&#39;) repeat-y;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">  .headNav &#123;</span><br><span class="line">    background-color: #591614;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  .headArea &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  .logo &#123;</span><br><span class="line">    padding: 0 15px;</span><br><span class="line">    float: left;</span><br><span class="line">  &#125;</span><br><span class="line">  .logo img &#123;</span><br><span class="line">    width: 72px;</span><br><span class="line">    height: 15px;</span><br><span class="line">  &#125;</span><br><span class="line">  .search &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    color: #fff;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/%E9%94%A6%E6%9B%BC%E5%95%86%E5%9F%8E%EF%BC%88mpvue+WeUI+MySQL+Node.js%EF%BC%89%EF%BC%88%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%89/" data-id="ck6zauz5i0004w0ib8x7ugpo6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-[微信小程序原生开发]在线电影评分项目笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/%5B%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%94%9F%E5%BC%80%E5%8F%91%5D%E5%9C%A8%E7%BA%BF%E7%94%B5%E5%BD%B1%E8%AF%84%E5%88%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2020-02-23T16:58:37.320Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/%5B%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%94%9F%E5%BC%80%E5%8F%91%5D%E5%9C%A8%E7%BA%BF%E7%94%B5%E5%BD%B1%E8%AF%84%E5%88%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">[微信小程序原生开发]在线电影评分项目笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="微信小程序原生开发-云谷电影项目笔记"><a href="#微信小程序原生开发-云谷电影项目笔记" class="headerlink" title="[微信小程序原生开发]云谷电影项目笔记"></a><center>[微信小程序原生开发]云谷电影项目笔记</center></h2><h4 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h4><p>工作必备技能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1）用vue.js开发PC端和移动端项目（组件化、模块化、自动化）</span><br><span class="line">2）微信小程序</span><br></pre></td></tr></table></figure>

<p>面试必须掌握的核心内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTML5新特性和CSS3新特性</span><br><span class="line">浏览器兼容处理</span><br><span class="line">ES5.1&#x2F;ES6</span><br><span class="line">AMD CMD CommonJS</span><br><span class="line">Node.js&#x2F;PHP&#x2F;Java (必须具备一门后台语言)</span><br><span class="line">Vue.js</span><br><span class="line">微信小程序</span><br><span class="line">线上项目</span><br></pre></td></tr></table></figure>

<h4 id="1-微信小程序"><a href="#1-微信小程序" class="headerlink" title="1.微信小程序"></a>1.微信小程序</h4><h5 id="1-1-小程序特点"><a href="#1-1-小程序特点" class="headerlink" title="1.1 小程序特点"></a>1.1 小程序特点</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1）用完即走，不需要下载。</span><br><span class="line">2）它的使用环境为微信。微信小程序不能在浏览器中打开，它有自己的开发环境和测试环境。</span><br></pre></td></tr></table></figure>

<p>下载开发微信小程序的IDE。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;developers.weixin.qq.com&#x2F;miniprogram&#x2F;dev&#x2F;devtools&#x2F;devtools.html</span><br></pre></td></tr></table></figure>

<h5 id="1-2-注册微信小程序帐号"><a href="#1-2-注册微信小程序帐号" class="headerlink" title="1.2 注册微信小程序帐号"></a>1.2 注册微信小程序帐号</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果没有小程序帐号，可以使用测试号，但测试号不能上线。</span><br></pre></td></tr></table></figure>

<p>注册网址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">微信小程序和公众号不能使用同一个帐号（即需要两个或多个邮箱，不一定是QQ邮箱），登录小程序时，公众号会自动下线。</span><br></pre></td></tr></table></figure>

<h4 id="3-创建项目"><a href="#3-创建项目" class="headerlink" title="3.创建项目"></a>3.创建项目</h4><h4 id="4-基础知识"><a href="#4-基础知识" class="headerlink" title="4.基础知识"></a>4.基础知识</h4><h5 id="4-1-小程序与普通网页开发的区别"><a href="#4-1-小程序与普通网页开发的区别" class="headerlink" title="4.1 小程序与普通网页开发的区别"></a>4.1 小程序与普通网页开发的区别</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">​小程序的主要开发语言是 JavaScript ，小程序的开发同普通的网页开发相比有很大的相似性。对于前端开发者而言，从网页开发迁移到小程序的开发成本并不高，但是二者还是有些许区别的。</span><br><span class="line"></span><br><span class="line">​网页开发渲染线程和脚本线程是互斥的，这也是为什么长时间的脚本运行可能会导致页面失去响应，而在小程序中，二者是分开的，分别运行在不同的线程中。网页开发者可以使用到各种浏览器暴露出来的 DOM API，进行 DOM 选中和操作。小程序的逻辑层和渲染层是分开的，逻辑层运行在 JSCore 中，并没有一个完整浏览器对象，因而缺少相关的DOM API和BOM API。这一区别导致了前端开发非常熟悉的一些库，例如 jQuery、 Zepto 等，在小程序中是无法运行的。同时 JSCore 的环境同 NodeJS 环境也是不尽相同，所以一些 NPM 的包在小程序中也是无法运行的。小程序中没有DOM操作。</span><br><span class="line"></span><br><span class="line">​网页开发者需要面对的环境是各式各样的浏览器，PC 端需要面对 IE、Chrome、QQ浏览器等，在移动端需要面对Safari、Chrome以及 iOS、Android 系统中的各式 WebView 。而小程序开发过程中需要面对的是两大操作系统 iOS 和 Android 的微信客户端，以及用于辅助开发的小程序开发者工具，小程序中三大运行环境也是有所区别的，如表1-1所示。</span><br></pre></td></tr></table></figure>

<h5 id="4-2-尺寸单位"><a href="#4-2-尺寸单位" class="headerlink" title="4.2 尺寸单位"></a>4.2 尺寸单位</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx &#x3D; 375px &#x3D; 750物理像素，1rpx &#x3D; 0.5px &#x3D; 1物理像素。</span><br><span class="line">设备	rpx换算px (屏幕宽度&#x2F;750)	px换算rpx (750&#x2F;屏幕宽度)</span><br><span class="line">iPhone5	1rpx &#x3D; 0.42px	1px &#x3D; 2.34rpx</span><br><span class="line">iPhone6	1rpx &#x3D; 0.5px	1px &#x3D; 2rpx</span><br><span class="line">iPhone6 Plus	1rpx &#x3D; 0.552px	1px &#x3D; 1.81rpx</span><br><span class="line">建议： 开发微信小程序时设计师可以用 iPhone6 作为视觉稿的标准。</span><br><span class="line">注意： 在较小的屏幕上不可避免的会有一些毛刺，请在开发时尽量避免这种情况。</span><br></pre></td></tr></table></figure>

<h5 id="4-3-样式导入"><a href="#4-3-样式导入" class="headerlink" title="4.3 样式导入"></a>4.3 样式导入</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;[路径].wxss&#39;;   &#x2F;*必须以分号结束，不能使用link导入*&#x2F;</span><br></pre></td></tr></table></figure>

<h5 id="4-4-可以使用的标签"><a href="#4-4-可以使用的标签" class="headerlink" title="4.4 可以使用的标签"></a>4.4 可以使用的标签</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scroll-view swiper view(相当于div) icon progress rich-text(富文本) button checkbox editor form input label picker radio slider switch textarea navigator(相当于a) audio video image(相当于img) camera map canvas navigation-bar text(相当于p) block</span><br></pre></td></tr></table></figure>

<p>注意：单标签必须闭合，否则会报错！！！没有link、style、script等标签不能使用！</p>
<h5 id="4-5-小程序代码构成"><a href="#4-5-小程序代码构成" class="headerlink" title="4.5 小程序代码构成"></a>4.5 小程序代码构成</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.js:逻辑处理</span><br><span class="line">.json:静态数据，属于配置文件</span><br><span class="line">.wxml:页面结构，相当html文件</span><br><span class="line">.wxss:页面布局，相当于css</span><br></pre></td></tr></table></figure>

<h5 id="4-6-数据类型"><a href="#4-6-数据类型" class="headerlink" title="4.6 数据类型"></a>4.6 数据类型</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">WXS 语言目前共有以下几种数据类型：</span><br><span class="line">&#96;number&#96; ： 数值</span><br><span class="line">&#96;string&#96; ：字符串</span><br><span class="line">&#96;boolean&#96;：布尔值</span><br><span class="line">&#96;object&#96;：对象</span><br><span class="line">&#96;function&#96;：函数</span><br><span class="line">&#96;array&#96; : 数组</span><br><span class="line">&#96;date&#96;：日期</span><br><span class="line">&#96;regexp&#96;：正则</span><br></pre></td></tr></table></figure>

<h4 id="5-项目文件夹说明"><a href="#5-项目文件夹说明" class="headerlink" title="5.项目文件夹说明　　"></a>5.项目文件夹说明　　</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pages:存放项目页面文件,一般一个目录对应一个页面。</span><br><span class="line">utils:存放工具函数（一般是自己封装）</span><br><span class="line">全局配置文件：	</span><br><span class="line">    app.js:全局的逻辑处理</span><br><span class="line">    app.json:(1)页面文件路径设置(2)窗口外观设置(3)设置&#x2F;添加tabbar(底部&#x2F;顶部导航)(4)小程序内搜索，开发者可以通过 &#96;sitemap.json&#96; 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引微信索引</span><br><span class="line">    app.wxss:全局样式</span><br><span class="line">    project.config.json:项目配置文件</span><br><span class="line">    sitemap.json:小程序内搜索，开发者可以通过 &#96;sitemap.json&#96; 配置，或者管理后台页面收录开关来配置其小程序页面是否允许微信索引</span><br></pre></td></tr></table></figure>

<h4 id="6-全局窗口设置"><a href="#6-全局窗口设置" class="headerlink" title="6.全局窗口设置"></a>6.全局窗口设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;window&quot;: &#123;</span><br><span class="line">    &quot;backgroundTextStyle&quot;: &quot;light&quot;,  下拉刷新的颜色</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;,标题栏背景色</span><br><span class="line">    &quot;navigationBarTitleText&quot;: &quot;WeChat&quot;,标题栏标题</span><br><span class="line">    &quot;navigationBarTextStyle&quot;: &quot;black&quot; 标题栏文字颜色</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="7-导航栏如果放在顶部，是不必加图的，如果加图，图不会显示出来。"><a href="#7-导航栏如果放在顶部，是不必加图的，如果加图，图不会显示出来。" class="headerlink" title="7.导航栏如果放在顶部，是不必加图的，如果加图，图不会显示出来。"></a>7.导航栏如果放在顶部，是不必加图的，如果加图，图不会显示出来。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&quot;tabBar&quot;: &#123;</span><br><span class="line">    &quot;position&quot;:&quot;bottom&quot;,</span><br><span class="line">    &quot;list&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;pagePath&quot;: &quot;pages&#x2F;home&#x2F;home&quot;,</span><br><span class="line">        &quot;text&quot;: &quot;首页&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;pagePath&quot;: &quot;pages&#x2F;list&#x2F;list&quot;,</span><br><span class="line">        &quot;text&quot;: &quot;榜单&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;pagePath&quot;: &quot;pages&#x2F;mine&#x2F;mine&quot;,</span><br><span class="line">        &quot;text&quot;: &quot;我的&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-上线说明"><a href="#8-上线说明" class="headerlink" title="8.上线说明"></a>8.上线说明</h4><p>　　&gt;   不能超过2MB，所以图片文件和数据及后台代码最好挂到服务器上（使用CDN）。</p>
<p>　　&gt;   如果微信小程序要上线，必须要将要请求的接口的网址写到到后台的开发-&gt;开发设置-&gt;服务器域名-&gt;request合法域名。（注意：只支持https协议）</p>
<h4 id="9-复制快捷键"><a href="#9-复制快捷键" class="headerlink" title="9.复制快捷键"></a>9.复制快捷键</h4><p>　　向下：Alt+Shift+向下光标键</p>
<p>　　向上：Alt+Shift+向上光标键</p>
<h4 id="10-豆瓣API"><a href="#10-豆瓣API" class="headerlink" title="10.豆瓣API:"></a>10.豆瓣API:</h4><p>​    域名：<a href="http://t.yushu.im" target="_blank" rel="noopener">http://t.yushu.im</a></p>
<pre><code>最近上映：/v2/movie/coming_soon
热门电影：/v2/movie/in_theaters
Top250电影：/v2/movie/top250
电影详情：/v2/movie/subject
电影搜索：/v2/movie/search

参数：?start=0&amp;count=20</code></pre><h4 id="11-图标使用"><a href="#11-图标使用" class="headerlink" title="11.图标使用"></a>11.图标使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;icon type&#x3D;&quot;success&quot; size&#x3D;&quot;20&quot;&#x2F;&gt;</span><br><span class="line">&lt;icon type&#x3D;&quot;search&quot; size&#x3D;&quot;10&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">type:</span><br><span class="line">	success, success_no_circle, info, warn, waiting, cancel, download, search, clear</span><br></pre></td></tr></table></figure>

<h4 id="12-创建目录结构"><a href="#12-创建目录结构" class="headerlink" title="12.创建目录结构"></a>12.创建目录结构</h4><p><img src="directory.png" alt=""></p>
<h4 id="13-轮播使用"><a href="#13-轮播使用" class="headerlink" title="13.轮播使用"></a>13.轮播使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;swiper </span><br><span class="line">  indicator-dots&#x3D;&quot;true&quot; </span><br><span class="line">  autoplay&#x3D;&quot;true&quot;</span><br><span class="line">  interval&#x3D;&quot;3000&quot;</span><br><span class="line">  duration&#x3D;&quot;1000&quot;</span><br><span class="line">  indicator-color&#x3D;&quot;rgba(255,255,255,.7)&quot;</span><br><span class="line">  indicator-active-color&#x3D;&quot;blue&quot;&gt;</span><br><span class="line">  &lt;block wx:for&#x3D;&quot;&#123;&#123;imgUrls&#125;&#125;&quot; wx:for-item&#x3D;&quot;list&quot; wx:for-index&#x3D;&quot;idx&quot;&gt;</span><br><span class="line">    &lt;swiper-item&gt;</span><br><span class="line">      &lt;image src&#x3D;&quot;&#123;&#123;list&#125;&#125;&quot; class&#x3D;&quot;slide-image&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;swiper-item&gt;</span><br><span class="line">  &lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;swiper&gt;</span><br></pre></td></tr></table></figure>

<p>　　备注：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">indicator-dots&#x3D;&quot;true&quot; -&gt; 添加计数器</span><br><span class="line">autoplay&#x3D;&quot;true&quot;  -&gt; 是否为自动轮播</span><br><span class="line">interval&#x3D;&quot;3000&quot;  -&gt; 轮播切换时间</span><br><span class="line">duration&#x3D;&quot;1000&quot;  -&gt; 每张图切换时间</span><br><span class="line">indicator-color&#x3D;&quot;rgba(255,255,255,.7)&quot;  -&gt; 计数器颜色</span><br><span class="line">indicator-active-color&#x3D;&quot;blue&quot;  -&gt; 当前计数器颜色</span><br></pre></td></tr></table></figure>

<h4 id="14-首页-首页布局"><a href="#14-首页-首页布局" class="headerlink" title="14.[首页]首页布局"></a>14.[首页]首页布局</h4><p>　　home.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">	&lt;view class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">		&lt;icon type&#x3D;&quot;search&quot; size&#x3D;&#39;10&#39;&gt;&lt;&#x2F;icon&gt; 搜索</span><br><span class="line">	&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line">&lt;!-- 轮播图 --&gt;</span><br><span class="line">&lt;swiper</span><br><span class="line">  indicator-dots&#x3D;&quot;false&quot;</span><br><span class="line">  autoplay&#x3D;&quot;true&quot;</span><br><span class="line">  interval&#x3D;&quot;3000&quot;</span><br><span class="line">  duration&#x3D;&quot;1000&quot;</span><br><span class="line">  indicator-color&#x3D;&quot;rgba(255,255,255,.7)&quot;</span><br><span class="line">  indicator-active-color&#x3D;&quot;red&quot;</span><br><span class="line">  circular&#x3D;&quot;true&quot;</span><br><span class="line">  easing-function&#x3D;&quot;linear&quot;&gt;</span><br><span class="line">  &lt;block wx:for&#x3D;&quot;&#123;&#123;swiperList&#125;&#125;&quot; wx:key&#x3D;&quot;&#123;&#123; item.id &#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;swiper-item&gt;</span><br><span class="line">      &lt;image src&#x3D;&quot;&#123;&#123; item.imgUrl &#125;&#125;&quot; class&#x3D;&quot;slide-image&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;swiper-item&gt;</span><br><span class="line">  &lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;swiper&gt;</span><br><span class="line">&lt;view class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">	&lt;view class&#x3D;&quot;movies&quot; wx:for&#x3D;&quot;&#123;&#123; movies &#125;&#125;&quot; wx:key&#x3D;&quot;&#123;&#123; index &#125;&#125;&quot;&gt;</span><br><span class="line">		&lt;view class&#x3D;&quot;movies-title&quot;&gt;</span><br><span class="line">			&lt;view&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">			&lt;view class&#x3D;&quot;more&quot; bindtap&#x3D;&quot;toMore&quot; data-title&#x3D;&quot;&#123;&#123; item.title &#125;&#125;&quot;&gt;</span><br><span class="line">				更多&lt;text class&#x3D;&quot;iconfont iconxiangyoujiantou&quot;&gt;&lt;&#x2F;text&gt;</span><br><span class="line">			&lt;&#x2F;view&gt;</span><br><span class="line">		&lt;&#x2F;view&gt;</span><br><span class="line">		&lt;view class&#x3D;&quot;movies-list&quot;&gt;</span><br><span class="line">			&lt;scroll-view scroll-x&gt;</span><br><span class="line">				&lt;view class&#x3D;&quot;movies-item&quot;</span><br><span class="line">					  bindtap&#x3D;&quot;toDetails&quot;</span><br><span class="line">					  data-id&#x3D;&quot;&#123;&#123; list.id &#125;&#125;&quot;</span><br><span class="line">					  wx:for&#x3D;&quot;&#123;&#123; item.list &#125;&#125;&quot;</span><br><span class="line">					  wx:for-item&#x3D;&quot;list&quot;</span><br><span class="line">					  wx:for-index&#x3D;&quot;idx&quot;</span><br><span class="line">					  wx:key&#x3D;&quot;&#123;&#123; idx &#125;&#125;&quot;</span><br><span class="line">				&gt;</span><br><span class="line">					&lt;image src&#x3D;&quot;&#123;&#123; list.images.large &#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">					&lt;view class&#x3D;&quot;movie-name&quot;&gt;&#123;&#123; list.title &#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">					&lt;view class&#x3D;&quot;rating&quot;&gt;</span><br><span class="line">						&lt;image src&#x3D;&quot;&#x2F;images&#x2F;star1.png&quot;&#x2F;&gt;</span><br><span class="line">                		&lt;image src&#x3D;&quot;&#x2F;images&#x2F;star2.png&quot;&#x2F;&gt;</span><br><span class="line">                		&lt;image src&#x3D;&quot;&#x2F;images&#x2F;star3.png&quot;&#x2F;&gt;</span><br><span class="line">					&lt;&#x2F;view&gt;</span><br><span class="line">				&lt;&#x2F;view&gt;</span><br><span class="line">			&lt;&#x2F;scroll-view&gt;</span><br><span class="line">		&lt;&#x2F;view&gt;</span><br><span class="line">	&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<p>　　home.wxss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;..&#x2F;..&#x2F;iconfont.wxss&#39;;</span><br><span class="line">.header&#123;</span><br><span class="line">	background:#42bd56;</span><br><span class="line">	padding:20rpx 30rpx;</span><br><span class="line">&#125;</span><br><span class="line">.search&#123;</span><br><span class="line">	background:#ffffff;</span><br><span class="line">	text-align:center;</span><br><span class="line">	border-radius:10rpx;</span><br><span class="line">	font-size:28rpx;</span><br><span class="line">	color:#ccc;</span><br><span class="line">	padding:10rpx 0;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 轮播图 *&#x2F;</span><br><span class="line">.slide-image &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 250rpx;</span><br><span class="line">&#125;</span><br><span class="line">swiper &#123;</span><br><span class="line">  height: 110px;</span><br><span class="line">&#125;</span><br><span class="line">.movies-title&#123;</span><br><span class="line">	display: flex;</span><br><span class="line">	justify-content:space-between;</span><br><span class="line">	padding: 20rpx 30rpx;</span><br><span class="line">	font-size: 28rpx;</span><br><span class="line">&#125;</span><br><span class="line">.movies-title&gt;view&#123;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line">.movies-list&#123;</span><br><span class="line">	padding: 20rpx;</span><br><span class="line">	white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line">.movies-item&#123;</span><br><span class="line">  	width: 200rpx;</span><br><span class="line">	display: inline-block;</span><br><span class="line">	margin-right: 15rpx;</span><br><span class="line">	text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.more&#123;</span><br><span class="line">	color:#42bd56;</span><br><span class="line">&#125;</span><br><span class="line">.more&gt;text&#123;</span><br><span class="line">	font-weight: bold;</span><br><span class="line">	font-size: 32rpx;</span><br><span class="line">&#125;</span><br><span class="line">.movies-item&gt;image&#123;</span><br><span class="line">	width: 200rpx;</span><br><span class="line">	height: 284rpx;</span><br><span class="line">  border-radius: 10rpx;</span><br><span class="line">&#125;</span><br><span class="line">.movie-name&#123;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  text-overflow:ellipsis;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.rating&#123;</span><br><span class="line">	display: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="17-utils-请求的工具函数的封装"><a href="#17-utils-请求的工具函数的封装" class="headerlink" title="17.[utils]请求的工具函数的封装"></a>17.[utils]请求的工具函数的封装</h4><p>　　第一步：在utils下创建js文件，书写要封装的函数，最后要抛出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function request(url,callback)&#123;</span><br><span class="line">  wx.request(&#123;</span><br><span class="line">    url: url,</span><br><span class="line">    success:function(res)&#123;</span><br><span class="line">      callback(res.data);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  request</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　第二步：使用工具函数</p>
<p>　　1）引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let http &#x3D; require(&#39;..&#x2F;..&#x2F;utils&#x2F;http.js&#39;);</span><br></pre></td></tr></table></figure>

<p>　　2）使用工具函数发请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">onLoad: function (options) &#123;</span><br><span class="line">    let str &#x3D; app.globalData.movies;</span><br><span class="line"></span><br><span class="line">    http.request(str.url + str.coming_soon,this.getComing)</span><br><span class="line">&#125;,</span><br><span class="line">getComing(res)&#123;</span><br><span class="line">	console.log(res.subjects)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="18-utils-多个请求工具函数的封装，并将结果存入一个对象变量中"><a href="#18-utils-多个请求工具函数的封装，并将结果存入一个对象变量中" class="headerlink" title="18.[utils]多个请求工具函数的封装，并将结果存入一个对象变量中"></a>18.[utils]多个请求工具函数的封装，并将结果存入一个对象变量中</h4><p>　　1）工具函数的封装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getHttp(url,key,title,callback)&#123;</span><br><span class="line">  wx.request(&#123;</span><br><span class="line">    url: url,</span><br><span class="line">    success: function (res) &#123;</span><br><span class="line">      callback(res.data,title, key);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  getHttp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　2）调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http.getHttp(str.url + str.coming_soon, &#39;coming_soon&#39;, &#39;影院热映&#39;, this.getMovies);</span><br><span class="line">http.getHttp(str.url + str.in_theaters, &#39;in_theaters&#39;, &#39;热门电影&#39;, this.getMovies);</span><br><span class="line">http.getHttp(str.url + str.top250, &#39;top250&#39;, &#39;Top250&#39;, this.getMovies);</span><br></pre></td></tr></table></figure>

<p>　　3）定义数据变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    movies:&#123;</span><br><span class="line">      coming_soon:&#39;&#39;,</span><br><span class="line">      in_theaters:&#39;&#39;,</span><br><span class="line">      top250:&#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　4）回调函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">getMovies(res, title, key)&#123;</span><br><span class="line">    &#x2F;&#x2F;console.log(res.subjects, title, key);</span><br><span class="line">    this.data.movies[key] &#x3D; &#123;</span><br><span class="line">      title:title,</span><br><span class="line">      list:res.subjects</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      movies: this.data.movies</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　5）前端渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">	&lt;view class&#x3D;&quot;movies&quot; wx:for&#x3D;&quot;&#123;&#123; movies &#125;&#125;&quot; wx:key&#x3D;&quot;&#123;&#123; index &#125;&#125;&quot;&gt;</span><br><span class="line">		&lt;view class&#x3D;&quot;movies-title&quot;&gt;</span><br><span class="line">			&lt;view&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">			&lt;view class&#x3D;&quot;more&quot;&gt;</span><br><span class="line">				更多&lt;text class&#x3D;&quot;iconfont iconxiangyoujiantou&quot;&gt;&lt;&#x2F;text&gt;</span><br><span class="line">			&lt;&#x2F;view&gt;</span><br><span class="line">		&lt;&#x2F;view&gt;</span><br><span class="line">		&lt;view class&#x3D;&quot;movies-list&quot;&gt;</span><br><span class="line">			&lt;scroll-view scroll-x&gt;</span><br><span class="line">			&lt;view class&#x3D;&quot;movies-item&quot; wx:for&#x3D;&quot;&#123;&#123; item.list &#125;&#125;&quot; wx:for-item&#x3D;&quot;list&quot; wx:for-index&#x3D;&quot;idx&quot; wx:key&#x3D;&quot;&#123;&#123; idx &#125;&#125;&quot;&gt;</span><br><span class="line">				&lt;image src&#x3D;&quot;&#123;&#123; list.images.large &#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">				&lt;view class&#x3D;&quot;movie-name&quot;&gt;&#123;&#123; list.title &#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">				&lt;view class&#x3D;&quot;rating&quot; wx:for&#x3D;&quot;&#123;&#123;[1,2,3,34,6]&#125;&#125;&quot;&gt;</span><br><span class="line">					&lt;image src&#x3D;&quot;..&#x2F;..&#x2F;images&#x2F;star1.png&quot;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">				&lt;&#x2F;view&gt;</span><br><span class="line">        		&lt;text&gt;&#123;&#123; list.rating.average &#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">			&lt;&#x2F;view&gt;		</span><br><span class="line">			&lt;&#x2F;scroll-view&gt;</span><br><span class="line">		&lt;&#x2F;view&gt;</span><br><span class="line">	&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<h4 id="19-模板-模板定义和使用"><a href="#19-模板-模板定义和使用" class="headerlink" title="19.[模板]模板定义和使用"></a>19.[模板]模板定义和使用</h4><p>　　第一步：</p>
<p>　　创建模板文件</p>
<p><img src="moban.png" alt=""></p>
<p>　　第二步：书写模板内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template name&#x3D;&quot;stars&quot;&gt;</span><br><span class="line">    &lt;!--&#123;&#123; list.rating.stars &#125;&#125;--&gt;</span><br><span class="line">    &lt;view class&#x3D;&quot;stars&quot;&gt;</span><br><span class="line">        &lt;view wx:if&#x3D;&quot;&#123;&#123; list.rating.stars &#x3D;&#x3D; &#39;00&#39; &#125;&#125;&quot;&gt;暂无评分&lt;&#x2F;view&gt;</span><br><span class="line">        &lt;view wx:else&gt;</span><br><span class="line">            &lt;view class&#x3D;&quot;stars-list&quot; wx:for&#x3D;&quot;&#123;&#123;[1,2,3,4,5]&#125;&#125;&quot; wx:for-item&#x3D;&quot;i&quot; wx:key&#x3D;&quot;&#123;&#123; index &#125;&#125;&quot;&gt;</span><br><span class="line">                &lt;image wx:if&#x3D;&quot;&#123;&#123; list.rating.stars &#x2F; 10 &gt;&#x3D; index + 1 &#125;&#125;&quot; src&#x3D;&quot;&#x2F;images&#x2F;star1.png&quot;&#x2F;&gt;</span><br><span class="line">                &lt;image wx:elif&#x3D;&quot;&#123;&#123; list.rating.stars &#x2F; 10 &gt;&#x3D; index &amp;&amp; list.rating.stars % 10 !&#x3D; 0 &#125;&#125;&quot; src&#x3D;&quot;&#x2F;images&#x2F;star2.png&quot;&#x2F;&gt;</span><br><span class="line">                &lt;image wx:else src&#x3D;&quot;&#x2F;images&#x2F;star3.png&quot;&#x2F;&gt;</span><br><span class="line">            &lt;&#x2F;view&gt;</span><br><span class="line">            &lt;text class&#x3D;&quot;rating-score&quot;&gt;&#123;&#123; list.rating.average &#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">        &lt;&#x2F;view&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>　　提示：微信小程序中的模板可以有多个根目录。</p>
<p>　　第三步：写模板样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.stars&#123;</span><br><span class="line">  font-size: 24rpx;</span><br><span class="line">  color:#ccc;</span><br><span class="line">&#125;</span><br><span class="line">.stars-list&#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">.stars-list&gt;image&#123;</span><br><span class="line">    width: 20rpx;</span><br><span class="line">    height: 20rpx;</span><br><span class="line">&#125;</span><br><span class="line">.rating-score&#123;</span><br><span class="line">  font-size: 24rpx;</span><br><span class="line">  color:#ccc;</span><br><span class="line">  margin-left: 20rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　第四步：引入模板文件和样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在home.wxml中添加 --&gt;</span><br><span class="line">&lt;import src&#x3D;&quot;&#x2F;template&#x2F;stars.wxml&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 在home.wxss中添加，引入时以home.wxss文件所在位置为参照，而不是以template文件夹所在位置为参照 *&#x2F;</span><br><span class="line">@import &#39;..&#x2F;..&#x2F;template&#x2F;stars.wxss&#39;;</span><br></pre></td></tr></table></figure>

<p>　　第五步：使用模板</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template is&#x3D;&quot;stars&quot; data&#x3D;&quot;&#123;&#123; list &#125;&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>　　提示：用自定义标签data来完成传值。</p>
<h4 id="20-首页-首页跳转到详情页面并传值，然后发请求"><a href="#20-首页-首页跳转到详情页面并传值，然后发请求" class="headerlink" title="20.[首页]首页跳转到详情页面并传值，然后发请求"></a>20.[首页]首页跳转到详情页面并传值，然后发请求</h4><p>　　第一步：绑定事件并传值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;movies-list&quot;&gt;</span><br><span class="line">    &lt;scroll-view scroll-x&gt;</span><br><span class="line">        &lt;view class&#x3D;&quot;movies-item&quot; bindtap&#x3D;&quot;toDetails&quot; data-id&#x3D;&quot;&#123;&#123; list.id &#125;&#125;&quot; wx:for&#x3D;&quot;&#123;&#123; item.list &#125;&#125;&quot; wx:for-item&#x3D;&quot;list&quot; wx:for-index&#x3D;&quot;idx&quot; wx:key&#x3D;&quot;&#123;&#123; idx &#125;&#125;&quot;&gt;</span><br><span class="line">            &lt;image src&#x3D;&quot;&#123;&#123; list.images.large &#125;&#125;&quot;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">            &lt;view class&#x3D;&quot;movie-name&quot;&gt;&#123;&#123; list.title &#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">            &lt;view class&#x3D;&quot;rating&quot;&gt;</span><br><span class="line">            	&lt;template is&#x3D;&quot;stars&quot; data&#x3D;&quot;&#123;&#123; list &#125;&#125;&quot;&#x2F;&gt;</span><br><span class="line">            &lt;&#x2F;view&gt;</span><br><span class="line">        &lt;&#x2F;view&gt;</span><br><span class="line">    &lt;&#x2F;scroll-view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<p>　　第二步：定义事件方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toDetails(e)&#123;</span><br><span class="line">    let id &#x3D; e.currentTarget.dataset.id;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url:&quot;&#x2F;pages&#x2F;details&#x2F;details?id&#x3D;&quot; + id</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　第三步：在详情页面发请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">let http &#x3D; require(&#39;..&#x2F;..&#x2F;utils&#x2F;http&#39;);</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    moviesDetails:&#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad:function (options) &#123;</span><br><span class="line">    let id &#x3D; options.id;&#x2F;&#x2F;接收路由传过来的值</span><br><span class="line">    let str &#x3D; app.globalData.movies;&#x2F;&#x2F;取全局变量的值</span><br><span class="line">    http.request(str.url + str.subject + &#39;&#x2F;&#39; + id,this.getDetails);&#x2F;&#x2F; 利用封装的工具函数发请求</span><br><span class="line">  &#125;,</span><br><span class="line">  getDetails(res)&#123;&#x2F;&#x2F; 请求回调处理</span><br><span class="line">    &#x2F;&#x2F;console.log(res);</span><br><span class="line">    this.setData(&#123;&#x2F;&#x2F;将请求的结果存入data设定的变量中，用于前端数据渲染</span><br><span class="line">      moviesDetails:res</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.data.moviesDetails);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="21-详情页面-动态改变标题"><a href="#21-详情页面-动态改变标题" class="headerlink" title="21.[详情页面]动态改变标题"></a>21.[详情页面]动态改变标题</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">getDetails(res)&#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      moviesDetails:res</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; 动态改变标题</span><br><span class="line">    wx.setNavigationBarTitle(&#123;</span><br><span class="line">      title: this.data.moviesDetails.title</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="22-详情页面-添加Loading"><a href="#22-详情页面-添加Loading" class="headerlink" title="22.[详情页面]添加Loading"></a>22.[详情页面]添加Loading</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">getDetails(res)&#123;</span><br><span class="line">	&#x2F;&#x2F; 显示Loading</span><br><span class="line">    wx.showLoading(&#123;</span><br><span class="line">      title: &#39;加载中...&#39;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      moviesDetails:res</span><br><span class="line">    &#125;);</span><br><span class="line">    wx.setNavigationBarTitle(&#123;</span><br><span class="line">      title: this.data.moviesDetails.title</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">	&#x2F;&#x2F; Loading隐藏</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">    &#125;, 1500)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="23-添加进度条"><a href="#23-添加进度条" class="headerlink" title="23.添加进度条"></a>23.添加进度条</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;progress percent&#x3D;&#123;&#123; 变量名或表达式 &#125;&#125; color&#x3D;&quot;进度条配色&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="24-首页-gt-more页面-单击“更多“跳转到more页面，并发请求"><a href="#24-首页-gt-more页面-单击“更多“跳转到more页面，并发请求" class="headerlink" title="24.[首页-&gt;more页面]单击“更多“跳转到more页面，并发请求"></a>24.[首页-&gt;more页面]单击“更多“跳转到more页面，并发请求</h4><p>　　home.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;more&quot; bindtap&#x3D;&quot;toMore&quot; data-title&#x3D;&quot;&#123;&#123; item.title &#125;&#125;&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="toMore.png" alt=""></p>
<p>　　home.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toMore(e)&#123;</span><br><span class="line">    let title &#x3D; e.currentTarget.dataset.title;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url:&quot;&#x2F;pages&#x2F;more&#x2F;more?title&#x3D;&quot; + title  &#x2F;&#x2F; 跳转并传值</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　新建more目录，并在more.js写如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">let http &#x3D; require(&#39;..&#x2F;..&#x2F;utils&#x2F;http&#39;);</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    allMore:[],</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad:function (options) &#123;</span><br><span class="line">    let title &#x3D; options.title;</span><br><span class="line">    let api &#x3D; app.globalData.movies;</span><br><span class="line">    let httpStr &#x3D; &#39;&#39;;</span><br><span class="line">    switch (title)&#123;</span><br><span class="line">      case &#39;影院热映&#39; : httpStr &#x3D; api.url + api.coming_soon;break;</span><br><span class="line">      case &#39;热门电影&#39; : httpStr &#x3D; api.url + api.in_theaters;break;</span><br><span class="line">      case &#39;Top250&#39; : httpStr &#x3D; api.url + api.top250;</span><br><span class="line">    &#125;</span><br><span class="line">    http.request(httpStr,this.getMore)</span><br><span class="line">  &#125;,</span><br><span class="line">  getMore(data)&#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      allMore:data.subjects</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.data.allMore)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="25-more页面-单击”more”页面的电影，跳转到详情页面"><a href="#25-more页面-单击”more”页面的电影，跳转到详情页面" class="headerlink" title="25.[more页面]单击”more”页面的电影，跳转到详情页面"></a>25.[more页面]单击”more”页面的电影，跳转到详情页面</h4><p>　　more.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;view</span><br><span class="line">    class&#x3D;&#39;more-item&#39;</span><br><span class="line">    wx:for&#x3D;&#39;&#123;&#123;allMore&#125;&#125;&#39;</span><br><span class="line">    wx:for-item&#x3D;&quot;list&quot;</span><br><span class="line">    wx:key&#x3D;&quot;&#123;&#123;index&#125;&#125;&quot;</span><br><span class="line">    bindtap&#x3D;&quot;toDetail&quot;</span><br><span class="line">    data-id&#x3D;&quot;&#123;&#123; list.id &#125;&#125;&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p><img src="more.png" alt=""></p>
<p>　　more.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toDetail(e)&#123;</span><br><span class="line">    let id &#x3D; e.currentTarget.dataset.id;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url:&quot;&#x2F;pages&#x2F;details&#x2F;details?id&#x3D;&quot; +id</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="26-more页面-动态改变标题"><a href="#26-more页面-动态改变标题" class="headerlink" title="26.[more页面]动态改变标题"></a>26.[more页面]动态改变标题</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.setNavigationBarTitle(&#123;</span><br><span class="line">	title: this.data.title</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="morejs.png" alt=""></p>
<h4 id="27-more页面-上拉加载更多"><a href="#27-more页面-上拉加载更多" class="headerlink" title="27.[more页面]上拉加载更多"></a>27.[more页面]上拉加载更多</h4><p>　　more.wxml</p>
<p><img src="loadmorewxml.png" alt=""></p>
<p>　　more.wxss</p>
<p><img src="loadmorewxss.png" alt=""></p>
<p>　　more.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">let http &#x3D; require(&#39;..&#x2F;..&#x2F;utils&#x2F;http&#39;);</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    allMore:[],</span><br><span class="line">    title:&#39;&#39;,</span><br><span class="line">    httpStr:&#39;&#39;,</span><br><span class="line">    start:0,</span><br><span class="line">    reqCount:20</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad:function (options) &#123;</span><br><span class="line">    let title &#x3D; options.title;</span><br><span class="line">    let api &#x3D; app.globalData.movies;</span><br><span class="line">    let httpStr &#x3D; &#39;&#39;;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      title:title</span><br><span class="line">    &#125;);</span><br><span class="line">    switch (title)&#123;</span><br><span class="line">      case &#39;影院热映&#39; : httpStr &#x3D; api.url + api.coming_soon;break;</span><br><span class="line">      case &#39;热门电影&#39; : httpStr &#x3D; api.url + api.in_theaters;break;</span><br><span class="line">      case &#39;Top250&#39; : httpStr &#x3D; api.url + api.top250;</span><br><span class="line">    &#125;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      httpStr:httpStr</span><br><span class="line">    &#125;);</span><br><span class="line">    &#x2F;&#x2F; 显示loading</span><br><span class="line">    wx.showLoading(&#123;</span><br><span class="line">      title: &#39;加载中...&#39;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    http.request(httpStr,this.getMore);</span><br><span class="line">    &#x2F;&#x2F; 动态改变标题</span><br><span class="line">    wx.setNavigationBarTitle(&#123;</span><br><span class="line">      title: this.data.title</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">  &#125;,</span><br><span class="line">  getMore(data)&#123;</span><br><span class="line">    let tmpMore &#x3D; [];</span><br><span class="line">    if(this.data.start &gt; 0)&#123;</span><br><span class="line">      tmpMore &#x3D; this.data.allMore.concat(data.subjects);&#x2F;&#x2F;concat合并数组</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      tmpMore &#x3D; data.subjects</span><br><span class="line">    &#125;</span><br><span class="line">    this.data.start +&#x3D; this.data.reqCount;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      allMore:tmpMore</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  loadMore()&#123;</span><br><span class="line">    let url &#x3D; this.data.httpStr + &#39;?start&#x3D;&#39; + this.data.start + &#39;&amp;count&#x3D;&#39; + this.data.reqCount;</span><br><span class="line"></span><br><span class="line">    wx.showLoading(&#123;</span><br><span class="line">      title: &#39;请稍等...&#39;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    http.request(url,this.getMore);</span><br><span class="line"></span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 跳转到详情页面</span><br><span class="line">  toDetail(e)&#123;</span><br><span class="line">    let id &#x3D; e.currentTarget.dataset.id;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url:&quot;&#x2F;pages&#x2F;details&#x2F;details?id&#x3D;&quot; +id</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="28-搜索页面-搜索"><a href="#28-搜索页面-搜索" class="headerlink" title="28.[搜索页面]搜索"></a>28.[搜索页面]搜索</h4><p>　　头部布局（搜索结果布局自己添加）</p>
<p>　　search.wxml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">    &lt;view class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">        &lt;icon type&#x3D;&quot;search&quot; size&#x3D;&#39;10&#39;&gt;&lt;&#x2F;icon&gt;</span><br><span class="line">        &lt;input placeholder&#x3D;&quot;搜索&quot; bindinput&#x3D;&quot;search&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line">&lt;view class&#x3D;&quot;movies-list&quot;&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<p>　　search.wxss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.header&#123;</span><br><span class="line">  background:#42bd56;</span><br><span class="line">  padding:20rpx 30rpx;</span><br><span class="line">&#125;</span><br><span class="line">.search&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  font-size:28rpx;</span><br><span class="line">  padding:10rpx 0;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.search icon&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top:28rpx;</span><br><span class="line">  left:15rpx;</span><br><span class="line">&#125;</span><br><span class="line">.search input&#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  border-radius:10rpx;</span><br><span class="line">  background-color: #fff;</span><br><span class="line">  padding-left: 40rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>　　search.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">let http &#x3D; require(&#39;..&#x2F;..&#x2F;utils&#x2F;http&#39;);</span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    searchRs:[]</span><br><span class="line">  &#125;,</span><br><span class="line">  search(e)&#123;</span><br><span class="line">    &#x2F;&#x2F;console.log(e);</span><br><span class="line">    let val &#x3D; e.detail.value;</span><br><span class="line">    let api &#x3D; app.globalData.movies;</span><br><span class="line">    http.request(api.url + api.search + &#39;?q&#x3D;&#39; + val,this.getSearch)</span><br><span class="line">  &#125;,</span><br><span class="line">  getSearch(res)&#123;</span><br><span class="line">    console.log(res.subjects);</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      searchRs:res.subjects</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="29-搜索页面-静态添加搜索标题"><a href="#29-搜索页面-静态添加搜索标题" class="headerlink" title="29.[搜索页面]静态添加搜索标题"></a>29.[搜索页面]静态添加搜索标题</h4><p>　　search.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;navigationBarTitleText&quot;: &quot;搜索&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>29.真机测试</p>
<p>　　1）代码上传。</p>
<p><img src="upload.png" alt=""></p>
<p>　　2）进入小程序后台可以选择添加体验或开发成员。</p>
<p><img src="adddev01.png" alt=""></p>
<p><img src="adddev02.png" alt=""></p>
<p>　　3）真机体验。</p>
<p><img src="test.png" alt=""></p>
<p>　　注：真机体验时可能看不到请求到的数据，要把可调试打开，并可以添加到桌面。</p>
<h4 id="30-跳转"><a href="#30-跳转" class="headerlink" title="30.跳转"></a>30.跳转</h4><p>1）静态跳转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigator url&#x3D;&quot;&quot;&gt;提示内容&lt;&#x2F;navigator&gt;   &lt;!-- 相当于a标签 --&gt;</span><br></pre></td></tr></table></figure>

<p>2）动态跳转</p>
<p>a.跳转到指定页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">toPlay()&#123;</span><br><span class="line">  wx.navigateTo(&#123;</span><br><span class="line">    url: &#39;&#x2F;pages&#x2F;play&#x2F;play&#39;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>b.跳转到选项卡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">toHome()&#123;</span><br><span class="line">    wx.switchTab(&#123;</span><br><span class="line">      url: &#39;&#x2F;pages&#x2F;home&#x2F;home&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="31-体验后的问题"><a href="#31-体验后的问题" class="headerlink" title="31.体验后的问题"></a>31.体验后的问题</h4><p>　　体验后发现安卓手机的标题不居中，而苹果手机可以居中，解决方案：</p>
<p>　　在app.json的”window”中添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;navigationStyle&quot;:&quot;custom&quot;</span><br></pre></td></tr></table></figure>

<p>　　<img src="custom.png" alt=""></p>
<p>　　同时在需要添加标题的页面自行布局标题，且不能使用类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.setNavigationBarTitle(&#123;</span><br><span class="line">	title: this.data.moviesDetails.title</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>　　不能用上面的代码去实现动态改变标题，而要用数据单向绑定去设置标题。</p>
<h4 id="32-在阿里云上布https协议的后台接口"><a href="#32-在阿里云上布https协议的后台接口" class="headerlink" title="32.在阿里云上布https协议的后台接口"></a>32.在阿里云上布https协议的后台接口</h4><p>1）在aliyun后台购买ssl证书</p>
<p>2）将ssl证书绑定到域名上</p>
<p>3）下载证书（如果是node，下载支持Nginx的证书）</p>
<p>4）将证书复制到阿里云后台，并将扩展名为.pem的改为.crt。</p>
<p>5）在后台创建如下文件夹和文件：</p>
<p><img src="yg01.png" alt=""></p>
<p>6）data.js文件的内容参考如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">var https &#x3D; require(&#39;https&#39;);</span><br><span class="line">var fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line">const options &#x3D; &#123;</span><br><span class="line">    key: fs.readFileSync(&#39;.&#x2F;module&#x2F;3043388_www.hspstudio.club.key&#39;),</span><br><span class="line">    cert: fs.readFileSync(&#39;.&#x2F;module&#x2F;3043388_www.hspstudio.club.crt&#39;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建一个服务器对象</span><br><span class="line">var server &#x3D; https.createServer(options);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 通过事件监听request事件</span><br><span class="line"></span><br><span class="line">server.on(&#39;request&#39;,(req,res)&#x3D;&gt;&#123;</span><br><span class="line">    fs.readFile(&#39;.&#x2F;data&#x2F;top250.json&#39;,(err,data)&#x3D;&gt;&#123;</span><br><span class="line">        if(err)&#123;</span><br><span class="line">            throw err</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            res.writeHead(300,&#123;</span><br><span class="line">                &quot;Content-Type&quot;:&quot;text&#x2F;plain;charset&#x3D;utf-8&quot;,</span><br><span class="line">                &quot;Access-Control-Allow-Origin&quot;:&quot;*&quot;</span><br><span class="line">            &#125;)</span><br><span class="line">            res.write(data);</span><br><span class="line">            res.end();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 监听端口设置</span><br><span class="line">server.listen(443,&#39;0.0.0.0&#39;,()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&#39;服务器已启动！&#39;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>7）前端接口测试</p>
<p><img src="yg02.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/[%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%94%9F%E5%BC%80%E5%8F%91]%E5%9C%A8%E7%BA%BF%E7%94%B5%E5%BD%B1%E8%AF%84%E5%88%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/" data-id="ck6zauz3p0002w0ibbeo09w1r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-点餐APP开发（Vue2.6+ES6+Stylus+Node.js）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/%E7%82%B9%E9%A4%90APP%E5%BC%80%E5%8F%91%EF%BC%88Vue2.6+ES6+Stylus+Node.js%EF%BC%89/" class="article-date">
  <time datetime="2020-02-23T16:58:07.479Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/%E7%82%B9%E9%A4%90APP%E5%BC%80%E5%8F%91%EF%BC%88Vue2.6+ES6+Stylus+Node.js%EF%BC%89/">点餐APP开发（Vue2.6+ES6+Stylus+Node.js）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="点餐APP开发（Vue2-6-ES6-Stylus-Vuex-Axios-Node-js）"><a href="#点餐APP开发（Vue2-6-ES6-Stylus-Vuex-Axios-Node-js）" class="headerlink" title="点餐APP开发（Vue2.6+ES6+Stylus+Vuex+Axios+Node.js）"></a>点餐APP开发（Vue2.6+ES6+Stylus+Vuex+Axios+Node.js）</h2><h3 id="1、项目功能分析"><a href="#1、项目功能分析" class="headerlink" title="1、项目功能分析"></a>1、项目功能分析</h3><h3 id="2、完成后的项目界面"><a href="#2、完成后的项目界面" class="headerlink" title="2、完成后的项目界面"></a>2、完成后的项目界面</h3><h3 id="3、项目准备"><a href="#3、项目准备" class="headerlink" title="3、项目准备"></a>3、项目准备</h3><h4 id="3-1-UI图"><a href="#3-1-UI图" class="headerlink" title="3.1 UI图"></a>3.1 UI图</h4><h3 id="4、项目实施"><a href="#4、项目实施" class="headerlink" title="4、项目实施"></a>4、项目实施</h3><h4 id="4-1-代码仓库地址"><a href="#4-1-代码仓库地址" class="headerlink" title="4.1 代码仓库地址"></a>4.1 代码仓库地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;gitee.com&#x2F;houyi_studio_admin&#x2F;qinsi_dinner_app</span><br></pre></td></tr></table></figure>

<h4 id="4-2-搭建项目环境"><a href="#4-2-搭建项目环境" class="headerlink" title="4.2 搭建项目环境"></a>4.2 搭建项目环境</h4><p>注意：要选择代码校验。</p>
<h4 id="4-3-安装插件"><a href="#4-3-安装插件" class="headerlink" title="4.3 安装插件"></a>4.3 安装插件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastclick、stylus、better-scroll、axios</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i fastclick stylus stylus-loader axios -S</span><br></pre></td></tr></table></figure>

<h4 id="4-4-全局引入"><a href="#4-4-全局引入" class="headerlink" title="4.4 全局引入"></a>4.4 全局引入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import FastClick from &#39;fastclick&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">FastClick.attach(document.body)</span><br><span class="line">Vue.prototype.$http &#x3D; axios</span><br></pre></td></tr></table></figure>

<h4 id="4-5-devicepixelratio"><a href="#4-5-devicepixelratio" class="headerlink" title="4.5 devicepixelratio"></a>4.5 devicepixelratio</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.cnblogs.com&#x2F;gxp69&#x2F;articles&#x2F;7079656.html</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.devicePixelRatio是设备上物理像素和设备独立像素(device-independent pixels (dips))的比例。</span><br><span class="line">公式：window.devicePixelRatio &#x3D; 物理像素 &#x2F; dips</span><br></pre></td></tr></table></figure>

<h4 id="4-6-将svg转换为字体图标"><a href="#4-6-将svg转换为字体图标" class="headerlink" title="4.6 将svg转换为字体图标"></a>4.6 将svg转换为字体图标</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;icomoon.io&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IconMoon App-&gt;Import Icons-&gt;导入svg文件-&gt;全选-&gt;download</span><br></pre></td></tr></table></figure>

<h4 id="4-7-引入icon和reset-css"><a href="#4-7-引入icon和reset-css" class="headerlink" title="4.7 引入icon和reset.css"></a>4.7 引入icon和reset.css</h4><h4 id="4-8-激活路由"><a href="#4-8-激活路由" class="headerlink" title="4.8 激活路由"></a>4.8 激活路由</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export default new Router(&#123;</span><br><span class="line">  linkActiveClass: &#39;active&#39;,</span><br><span class="line">  routes: [</span><br><span class="line">  。。。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">    color:rgb(77,85,93)</span><br><span class="line">    &amp;.active</span><br><span class="line">    	color:red</span><br></pre></td></tr></table></figure>

<h4 id="4-9-搭建后台接口"><a href="#4-9-搭建后台接口" class="headerlink" title="4.9  搭建后台接口"></a>4.9  搭建后台接口</h4><blockquote>
<p>也可直接访问我提供的后台接口<a href="http://47.105.51.229/order" target="_blank" rel="noopener">http://47.105.51.229/order</a>，不用做下面的操作。</p>
</blockquote>
<h4 id="4-9-1-修改package-json"><a href="#4-9-1-修改package-json" class="headerlink" title="4.9.1 修改package.json"></a>4.9.1 修改package.json</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;webpack-dev-server --inline --host 0.0.0.0 --progress --config build&#x2F;webpack.dev.conf.js&quot;,</span><br></pre></td></tr></table></figure>

<h4 id="4-9-2-修改端口（修改config-gt-index-js）"><a href="#4-9-2-修改端口（修改config-gt-index-js）" class="headerlink" title="4.9.2 修改端口（修改config-&gt;index.js）"></a>4.9.2 修改端口（修改config-&gt;index.js）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">host: &#39;localhost&#39;, </span><br><span class="line">port: 80,</span><br></pre></td></tr></table></figure>

<h4 id="4-9-3-接口实现（修改build-gt-webpack-dev-conf-js）"><a href="#4-9-3-接口实现（修改build-gt-webpack-dev-conf-js）" class="headerlink" title="4.9.3 接口实现（修改build-&gt;webpack.dev.conf.js）"></a>4.9.3 接口实现（修改build-&gt;webpack.dev.conf.js）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line">const app &#x3D; express()</span><br><span class="line">const appData &#x3D; require(&#39;..&#x2F;static&#x2F;mock&#x2F;data&#x2F;data.json&#39;)</span><br><span class="line">const seller &#x3D; appData.seller</span><br><span class="line">const goods &#x3D; appData.goods</span><br><span class="line">const ratings &#x3D; appData.ratings</span><br><span class="line">const apiRoutes &#x3D; express.Router()</span><br><span class="line">app.use(&#39;&#x2F;api&#39;,apiRoutes)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">devServer: &#123;</span><br><span class="line">    before(app) &#123;</span><br><span class="line">      app.get(&#39;&#x2F;api&#x2F;seller&#39;,(req,res) &#x3D;&gt; &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          errCode: 0,</span><br><span class="line">          data: seller</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      app.get(&#39;&#x2F;api&#x2F;goods&#39;,(req,res) &#x3D;&gt; &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          errCode: 0,</span><br><span class="line">          data: goods</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      app.get(&#39;&#x2F;api&#x2F;ratings&#39;,(req,res) &#x3D;&gt; &#123;</span><br><span class="line">        res.send(&#123;</span><br><span class="line">          errCode: 0,</span><br><span class="line">          data: ratings</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="4-9-4-调用后台接口（修改App-vue）"><a href="#4-9-4-调用后台接口（修改App-vue）" class="headerlink" title="4.9.4 调用后台接口（修改App.vue）"></a>4.9.4 调用后台接口（修改App.vue）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    this.$http(&#123;</span><br><span class="line">    	url: &#39;&#x2F;api&#x2F;seller&#39; &#x2F;&#x2F;或者写成：url:&#39;http:&#x2F;&#x2F;47.105.51.229&#x2F;order&#39;</span><br><span class="line">    &#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">        console.log(res)        </span><br><span class="line">    &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">    	console.log(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/%E7%82%B9%E9%A4%90APP%E5%BC%80%E5%8F%91%EF%BC%88Vue2.6+ES6+Stylus+Node.js%EF%BC%89/" data-id="ck6zauz3u0003w0ibgzayaqjn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Hexo前端博客框架" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/24/Hexo%E5%89%8D%E7%AB%AF%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" class="article-date">
  <time datetime="2020-02-23T16:48:25.905Z" itemprop="datePublished">2020-02-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Hexo%E5%89%8D%E7%AB%AF%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/">Hexo前端博客框架</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>　　Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用Markdown或其他渲染引擎解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h4 id="1、安装"><a href="#1、安装" class="headerlink" title="1、安装"></a>1、安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1）安装node.js（最好安装10.0以上版本）</span><br><span class="line">2）安装 Hexo（最好不要用cnpm安装）</span><br><span class="line">	$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h4 id="2、创建项目"><a href="#2、创建项目" class="headerlink" title="2、创建项目"></a>2、创建项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init 项目名</span><br></pre></td></tr></table></figure>

<h4 id="3、启动项目"><a href="#3、启动项目" class="headerlink" title="3、启动项目"></a>3、启动项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1）$ cd 项目名</span><br><span class="line">2）$ npm i</span><br><span class="line">3）生成静态页面至public目录</span><br><span class="line">	$ hexo generate</span><br><span class="line">	或：</span><br><span class="line">		$ hexo g</span><br><span class="line">4）开启预览访问端口</span><br><span class="line">	$ hexo server（或：hexo s -p 端口号）</span><br><span class="line">5）在浏览器地址栏中输入：</span><br><span class="line">	localhost:4000</span><br></pre></td></tr></table></figure>

<h4 id="4、将博客部署到github上"><a href="#4、将博客部署到github上" class="headerlink" title="4、将博客部署到github上"></a>4、将博客部署到github上</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1）登录并进入github.com</span><br><span class="line">2）创建一个仓库，仓库地址格式如下：</span><br><span class="line">	您登录仓库的用户名.github.io</span><br><span class="line">3）安装插件</span><br><span class="line">	$ npm i hexo-deployer-git --save </span><br><span class="line">	或：</span><br><span class="line">	$ npm i hexo-deployer-git --save --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">4）修改项目中的配置文件_config.yml，在该文件最后添加如下代码：</span><br><span class="line">	deploy:</span><br><span class="line">      type: git</span><br><span class="line">      repo: https:&#x2F;&#x2F;github.com&#x2F;您登录仓库的用户名&#x2F;您登录仓库的用户名.github.io.git</span><br><span class="line">      branch: master</span><br><span class="line">5）将项目推送到github上。</span><br><span class="line">	$ hexo d</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://harrison258.github.io/2020/02/24/Hexo%E5%89%8D%E7%AB%AF%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" data-id="ck6zauz260000w0ib0dmw3bqm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/24/%E7%A7%A6%E6%80%9D%E6%97%85%E6%B8%B8(Vue+Node.js+Stylus)%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/">秦思旅游(Vue+Node.js+Stylus)项目开发</a>
          </li>
        
          <li>
            <a href="/2020/02/24/Yogo%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/">Yogo项目开发</a>
          </li>
        
          <li>
            <a href="/2020/02/24/%E9%94%A6%E6%9B%BC%E5%95%86%E5%9F%8E%EF%BC%88mpvue+WeUI+MySQL+Node.js%EF%BC%89%EF%BC%88%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%89/">锦曼商城（mpvue+WeUI+MySQL+Node.js）（小程序）</a>
          </li>
        
          <li>
            <a href="/2020/02/24/%5B%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%94%9F%E5%BC%80%E5%8F%91%5D%E5%9C%A8%E7%BA%BF%E7%94%B5%E5%BD%B1%E8%AF%84%E5%88%86%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">[微信小程序原生开发]在线电影评分项目笔记</a>
          </li>
        
          <li>
            <a href="/2020/02/24/%E7%82%B9%E9%A4%90APP%E5%BC%80%E5%8F%91%EF%BC%88Vue2.6+ES6+Stylus+Node.js%EF%BC%89/">点餐APP开发（Vue2.6+ES6+Stylus+Node.js）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 侯仕平<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>